_jsload_('mouse', 'v.Yb.jb({dE:"_docMsMov",$Z:function(){var a=this.La.Ac;v.C.g(a,"mousedown",this.AT,this);this.iI||(this.iI=function(){this.bz=!1},this.oC=function(a){var c=this.eg(a,!0);this.r(this.dE,{event:a,FU:c})});v.C.g(document,"mousedown",this.iI,this);v.C.g(document,"mouseout",this.oC,this);v.C.g(document,"mousemove",this.oC,this);v.C.g(a,"mousemove",this.BT,this);v.C.g(a,"mouseover",this.saa,this);v.C.g(a,"mouseup",this.CT,this);v.C.g(a,"contextmenu",this.ky,this);v.C.g(a,"rightclick",this.ky,this);this.g(this.dE, this.QU,this)},saa:function(){this.bz=!0},c3:function(){var a=this.La.Ac;v.C.I(a,"mousedown",this.AT,this);v.C.I(document,"mousedown",this.iI,this);v.C.I(document,"mouseout",this.oC,this);this.I(this.dE,this.QU,this);v.C.I(document,"mousemove",this.oC,this);v.C.I(a,"mousemove",this.BT,this);v.C.I(a,"mouseup",this.CT,this);v.C.I(a,"contextmenu",this.ky,this);v.C.I(a,"rightclick",this.ky,this)},b_:function(){v.C.g(this.La.Ac,"mousewheel",this.zT,this)},f3:function(){v.C.I(this.La.Ac,"mousewheel",this.zT, this)},a_:function(){this.g("mousemove",this.vP);this.g("mouseout",this.wP);this.g("mouseover",this.xP);this.g("mouseup",this.yP);this.g("mousedown",this.uP);this.g("rightclick",this.AP);this.g("contextmenu",this.mP);this.g("rdblclick",this.BP)},e3:function(){this.I("mousemove",this.vP);this.I("mouseout",this.wP);this.I("mouseover",this.xP);this.I("mouseup",this.yP);this.I("mousedown",this.uP);this.I("rightclick",this.AP);this.I("contextmenu",this.mP);this.I("rdblclick",this.BP)},keyboardEnableChanged:function(){this.get("keyboardEnable")? this.YZ():this.jF()},scrollWheelChanged:function(){this.get("scrollWheel")?this.g("mousewheel",this.zP):this.I("mousewheel",this.zP)},ky:function(a){v.C.preventDefault(a)},U2:function(a){var b=this.eg(a,!1,!0),c=0;"3D"==this.K.view.type?(this.fa("mousewheel",b),a.wheelDelta?(c=a.wheelDelta,window.opera&&9.5>parseFloat(window.opera.version())&&(c=-c)):a.detail&&(c=-a.detail,120!==c&&-120!==c&&(c*=20)),a=c/800,a=this.get("zoom")+a,this.SR(a,b.Hd,!0)):(a.wheelDelta?(c=a.wheelDelta/120,window.opera&& 9.5>parseFloat(window.opera.version())&&(c=-c)):a.detail&&(c=-a.detail),this.R.Yv=(this.R.Yv||0)+c,this.r("mousewheel",b))},zT:function(a){this.get("scrollWheel")&&this.U2(a)},jI:function(a,b){v.C.preventDefault(a);b=this.eg(a);var c=this.R;if(!this.vq(b.zb,c.ep)){c.ep=b.zb;if(c.Zm){if(!c.xc&&(b.zb.x!==this.R.Fl.x||b.zb.y!==this.R.Fl.y)){var d;this.HE(c.dp)&&c.dp.get("draggable")&&(d=c.dp);!d&&this.get("dragEnable")&&(d=this);d&&(c.xc=!0,c.dm=d,c.lf=c.Fl,c.bm=c.IJ)}c.xc&&(c.cm=b,b.button=a.buttons|| a.button||0,this.BF())}if(a.preventDefault)a.preventDefault();else return!1}},gB:function(a){v.h.Ka(this.J,"amap-drag");a=this.eg(a);v.h.a$();v.h.yS();this.R&&(this.R.xc=!1);this.Qf&&!this.vg&&this.r("moveend");this.R.El&&(this.R.El=!1,this.R.xc=!1,this.R.dm.r("dragend",a));this.R.Zm=!1;this.R.ep=null;this.R.lf=null;v.C.I(document,"mousemove",this.jI,this);v.C.I(document,"mouseup",this.gB,this);try{v.C.I(window.parent.document,"mouseup",this.gB,this)}catch(b){}v.C.Mfa(this.La.Ac)},taa:function(a, b){b=b||this.eg(a);var c=this.get("size"),d;0<=b.zb.x&&b.zb.x<=c.width&&0<=b.zb.y&&b.zb.y<=c.height&&(d=!0);this.dU&&!d?this.r("mouseout",b):!this.dU&&d&&this.r("mouseover",b);this.dU=d},BT:function(a){v.C.preventDefault(a);v.l.Tn&&(a=window.event);if(a){a=this.eg(a);var b=this.R,c=a.Xc,d;this.R.Zm||(c instanceof v.D.pg?d=c.Yc.get("cursor"):c instanceof v.w.ec?d=c.get("cursor"):c===this&&(d=c.get("defaultCursor")),d=this.K.get("optimalCursor")||d,this.J.style.cursor=d||"");d=b.A2;var e=a.sp;d!==e&& (d&&b.JO&&b.JO.r("mouseout",a),e&&c&&(c.r("mouseover",a),c.get("topWhenMouseOver")&&c.Yc.setTop(!0)));a.Xc.r("mousemove",a);a.Xc!==this&&this.r("mousemove",a);b.A2=a.sp||null;b.JO=a.Xc||null}},R:{xc:!1},AT:function(a){this.bz=!0;v.h.w9();v.h.rS();this.R.ep=null;this.R.lf=null;var b=this.eg(a,!0);this.R.uS=new Date;this.R.dp=b.Xc;this.R.Fl=b.zb;this.R.y2=b.button;this.R.Zm=!0;this.R.z2=b;this.R.xc||(this.R.IJ=b);this.Fd&&this.Fd.stop();var c=b.Xc;!c.Yc&&c.get("dragEnable")&&(this.R.Zm=!0);v.h.Ea(this.J, "amap-drag");b.Xc.r("mousedown",b);b.Xc!==this&&this.r("mousedown",b);v.C.mea(this.La.Ac);v.C.g(document,"mousemove",this.jI,this);v.C.g(document,"mouseup",this.gB,this);try{window.parent.document&&v.l.Tn&&v.C.g(window.parent.document,"mouseup",this.gB,this)}catch(d){}v.C.stopPropagation(a)},QU:function(a){this.taa(a.event,a.FU)},tia:function(a){this.jI(a.event,a.FU)},CT:function(a){a=this.eg(a);var b=a.Xc,c=this.K.get("allBubble")||b.get("bubble");b!==document&&(b.r("mouseup",a),a.Xc!==this&&c&& this.r("mouseup",a));this.vq(a.zb,this.R.Fl)&&(this.Ee&&this.vq(this.R.Br,a.zb)&&a.button===this.R.y2?(clearTimeout(this.Ee),this.Ee=null,v.C.iU(a)?c?(b.r("dblclick",a),b!==this&&this.r("dblclick",a)):b.r("dblclick",a):b.r("rdblclick",a),this.R.Br=null):(v.C.iU(a)?(this.r("clickstart",a),c?(b.r("click",a),b!==this&&this.r("click",a)):(b.r("click",a),this.r("closeOverlays",a)),b.get("topWhenClick")&&b.Yc.setTop(!0),this.r("clickend",a)):c?(b.r("rightclick",a),b!==this&&this.r("rightclick",a),this.r("contextmenu", a)):(b.r("rightclick",a),b.r("contextmenu",a)),this.R.Br=a.zb,this.Ee&&clearTimeout(this.Ee),this.Ee=setTimeout(v.a.bind(function(){clearTimeout(this.Ee);this.Ee=null;this.R.Br=null},this),260)))}});v.Yb.jb({zP:function(a){this.fa("mousewheel",a);var b=this;if(1<=Math.abs(this.R.Yv)&&!this.YX){var c=this.R.Yv;if(1<=c)c=1;else if(-1>=c)c=-1;else return;b.wz(a.Hd,c);this.R.Yv=0;this.YX=!0;setTimeout(function(){b.YX=!1;b.R.Yv=0},v.l.Lw?50:40)}},vP:function(a){this.fa("mousemove",a)},wP:function(a){this.fa("mouseout",a)},xP:function(a){this.fa("mouseover",a)},yP:function(a){this.fa("mouseup",a)},uP:function(a){this.fa("mousedown",a)},AP:function(a){this.fa("rightclick",a)},mP:function(a){this.fa("contextmenu", a)},BP:function(a){this.get("doubleClickZoom")&&this.get("zoomEnable")&&this.wz(a.Hd,-1);this.fa("rdblclick",a)}});v.Yb.jb({f2:function(){this.Uu={left:[37],right:[39],E9:[40],dL:[38],Lg:[187,107,61],Mg:[189,109,173]};this.L_={left:this.Yr(this.uz(100,0)),right:this.Yr(this.uz(-100,0)),E9:this.Yr(this.uz(0,-100)),dL:this.Yr(this.uz(0,100)),Lg:this.Yr(this.jR(1)),Mg:this.Yr(this.jR(-1))}},YZ:function(){this.get("keyboardEnable")&&(this.Uu||this.f2(),v.C.g(document,"keydown",this.qz,this),v.C.g(document,"keyup",this.iP,this))},jF:function(){v.C.I(document,"keydown",this.qz,this);v.C.I(document,"keyup",this.iP,this)}, iP:function(a){var b=a.keyCode;!a.ctrlKey||37!==b&&39!==b||this.set("refresh",1)},qz:function(a){var b=a.keyCode,c;for(c in this.Uu)if(this.Uu.hasOwnProperty(c))for(var d=0;d<this.Uu[c].length;d+=1)if(b===this.Uu[c][d]){if(!this.bz)return;if(!a.ctrlKey&&!a.shiftKey){this.L_[c]();v.C.preventDefault(a);return}37===b?(this.D2(),v.C.preventDefault(a)):39===b?(this.x6(),v.C.preventDefault(a)):38===b?(this.A5(),v.C.preventDefault(a)):40===b&&(this.z5(),v.C.preventDefault(a))}},Yr:function(a){return function(){a()}}, D2:function(){this.get("rotateEnable")&&(this.r("rotate"),this.set("rotation",-8+parseFloat(this.get("rotation"))%360))},x6:function(){this.get("rotateEnable")&&(this.r("rotate"),this.set("rotation",8+parseFloat(this.get("rotation"))%360))},z5:function(){this.get("rotateEnable")&&this.set("pitch",-4+parseFloat(this.get("pitch")))},A5:function(){this.get("rotateEnable")&&this.set("pitch",4+parseFloat(this.get("pitch")))},jR:function(a){var b=this.K;return function(){1===a?b.zoomIn():b.zoomOut()}}, uz:function(a,b){var c=this.K;return function(){c.panBy(a,b)}}}); ');_jsload_('vectorlayer', '(function(a){a.oo=a.l.bo?new a.lu(function(){function a(b,c,d){for(var e=0,g=d.length;e<g;e++){var h=d.charCodeAt(e);if(128>h)b.setUint8(c++,h>>>0&127|0);else if(2048>h)b.setUint8(c++,h>>>6&31|192),b.setUint8(c++,h>>>0&63|128);else if(65536>h)b.setUint8(c++,h>>>12&15|224),b.setUint8(c++,h>>>6&63|128),b.setUint8(c++,h>>>0&63|128);else if(1114112>h)b.setUint8(c++,h>>>18&7|240),b.setUint8(c++,h>>>12&63|128),b.setUint8(c++,h>>>6&63|128),b.setUint8(c++,h>>>0&63|128);else throw Error("bad codepoint "+h); }}function c(a,b,c){var d="",e=b;for(b+=c;e<b;e++)if(c=a.getUint8(e),0===(c&128))d+=String.fromCharCode(c);else if(192===(c&224))d+=String.fromCharCode((c&15)<<6|a.getUint8(++e)&63);else if(224===(c&240))d+=String.fromCharCode((c&15)<<12|(a.getUint8(++e)&63)<<6|(a.getUint8(++e)&63)<<0);else if(240===(c&248))d+=String.fromCharCode((c&7)<<18|(a.getUint8(++e)&63)<<12|(a.getUint8(++e)&63)<<6|(a.getUint8(++e)&63)<<0);else throw Error("Invalid byte "+c.toString(16));return d}function d(a){for(var b=0,c= 0,d=a.length;c<d;c++){var e=a.charCodeAt(c);if(128>e)b+=1;else if(2048>e)b+=2;else if(65536>e)b+=3;else if(1114112>e)b+=4;else throw Error("bad codepoint "+e);}return b}function e(a,b){this.offset=b||0;this.view=a}function g(c,e,h){var k=typeof c;if("string"===k){var q=d(c);if(32>q)return e.setUint8(h,q|160),a(e,h+1,c),1+q;if(256>q)return e.setUint8(h,217),e.setUint8(h+1,q),a(e,h+2,c),2+q;if(65536>q)return e.setUint8(h,218),e.setUint16(h+1,q),a(e,h+3,c),3+q;if(4294967296>q)return e.setUint8(h,219), e.setUint32(h+1,q),a(e,h+5,c),5+q}if(c instanceof ArrayBuffer){q=c.byteLength;if(256>q)return e.setUint8(h,196),e.setUint8(h+1,q),(new Uint8Array(e.buffer)).set(new Uint8Array(c),h+2),2+q;if(65536>q)return e.setUint8(h,197),e.setUint16(h+1,q),(new Uint8Array(e.buffer)).set(new Uint8Array(c),h+3),3+q;if(4294967296>q)return e.setUint8(h,198),e.setUint32(h+1,q),(new Uint8Array(e.buffer)).set(new Uint8Array(c),h+5),5+q}if("number"===k){if(c<<0!==c)return e.setUint8(h,203),e.setFloat64(h+1,c),9;if(0<= c){if(128>c)return e.setUint8(h,c),1;if(256>c)return e.setUint8(h,204),e.setUint8(h+1,c),2;if(65536>c)return e.setUint8(h,205),e.setUint16(h+1,c),3;if(4294967296>c)return e.setUint8(h,206),e.setUint32(h+1,c),5;throw Error("Number too big 0x"+c.toString(16));}if(-32<=c)return e.setInt8(h,c),1;if(-128<=c)return e.setUint8(h,208),e.setInt8(h+1,c),2;if(-32768<=c)return e.setUint8(h,209),e.setInt16(h+1,c),3;if(-2147483648<=c)return e.setUint8(h,210),e.setInt32(h+1,c),5;throw Error("Number too small -0x"+ (-c).toString(16).substr(1));}if("undefined"===k)return e.setUint8(h,212),e.setUint8(h+1,0),e.setUint8(h+2,0),3;if(null===c)return e.setUint8(h,192),1;if("boolean"===k)return e.setUint8(h,c?195:194),1;if("object"===k){var k=0,r=Array.isArray(c),t=null;r?q=c.length:(t=Object.keys(c),q=t.length);16>q?(e.setUint8(h,q|(r?144:128)),k=1):65536>q?(e.setUint8(h,r?220:222),e.setUint16(h+1,q),k=3):4294967296>q&&(e.setUint8(h,r?221:223),e.setUint32(h+1,q),k=5);if(r)for(r=0;r<q;r++)k+=g(c[r],e,h+k);else for(r= 0;r<q;r++)var u=t[r],k=k+g(u,e,h+k),k=k+g(c[u],e,h+k);return k}throw Error("Unknown type "+k);}function h(a){var b=typeof a;if("string"===b){var c=d(a);if(32>c)return 1+c;if(256>c)return 2+c;if(65536>c)return 3+c;if(4294967296>c)return 5+c}if(a instanceof ArrayBuffer){c=a.byteLength;if(256>c)return 2+c;if(65536>c)return 3+c;if(4294967296>c)return 5+c}if("number"===b){if(a<<0!==a)return 9;if(0<=a){if(128>a)return 1;if(256>a)return 2;if(65536>a)return 3;if(4294967296>a)return 5;if(1.8446744073709552E19> a)return 9;throw Error("Number too big 0x"+a.toString(16));}if(-32<=a)return 1;if(-128<=a)return 2;if(-32768<=a)return 3;if(-2147483648<=a)return 5;if(-9223372036854775E3<=a)return 9;throw Error("Number too small -0x"+a.toString(16).substr(1));}if("undefined"===b)return 3;if("boolean"===b||null===a)return 1;if("object"===b){b=0;if(Array.isArray(a))for(var c=a.length,e=0;e<c;e++)b+=h(a[e]);else for(var g=Object.keys(a),c=g.length,e=0;e<c;e++)var k=g[e],b=b+(h(k)+h(a[k]));if(16>c)return 1+b;if(65536> c)return 3+b;if(4294967296>c)return 5+b;throw Error("Array or object too long 0x"+c.toString(16));}throw Error("Unknown type "+b);}var k={nja:function(a){if(void 0===a)return"undefined";var b,c;a instanceof ArrayBuffer?(c="ArrayBuffer",b=new DataView(a)):a instanceof DataView&&(c="DataView",b=a);if(!b)return JSON.stringify(a);for(var d=[],e=0;e<a.byteLength;e++){if(20<e){d.push("...");break}var g=b.getUint8(e).toString(16);1===g.length&&(g="0"+g);d.push(g)}return"<"+c+" "+d.join(" ")+">"}};k.qla= a;k.pla=c;k.ola=d;e.prototype.map=function(a){for(var b={},c=0;c<a;c++){var d=this.parse();b[d]=this.parse()}return b};e.prototype.xG=function(a){var b=new ArrayBuffer(a);(new Uint8Array(b)).set(new Uint8Array(this.view.buffer,this.offset,a),0);this.offset+=a;return b};e.prototype.pC=function(a){var b=c(this.view,this.offset,a);this.offset+=a;return b};e.prototype.oG=function(a){for(var b=Array(a),c=0;c<a;c++)b[c]=this.parse();return b};e.prototype.parse=function(){var a=this.view.getUint8(this.offset); if(160===(a&224))return this.offset++,this.pC(a&31);if(128===(a&240))return this.offset++,this.map(a&15);if(144===(a&240))return this.offset++,this.oG(a&15);if(0===(a&128))return this.offset++,a;if(224===(a&224))return a=this.view.getInt8(this.offset),this.offset++,a;if(212===a&&0===this.view.getUint8(this.offset+1))this.offset+=3;else{switch(a){case 217:return a=this.view.getUint8(this.offset+1),this.offset+=2,this.pC(a);case 218:return a=this.view.getUint16(this.offset+1),this.offset+=3,this.pC(a); case 219:return a=this.view.getUint32(this.offset+1),this.offset+=5,this.pC(a);case 196:return a=this.view.getUint8(this.offset+1),this.offset+=2,this.xG(a);case 197:return a=this.view.getUint16(this.offset+1),this.offset+=3,this.xG(a);case 198:return a=this.view.getUint32(this.offset+1),this.offset+=5,this.xG(a);case 192:return this.offset++,null;case 194:return this.offset++,!1;case 195:return this.offset++,!0;case 204:return a=this.view.getUint8(this.offset+1),this.offset+=2,a;case 205:return a= this.view.getUint16(this.offset+1),this.offset+=3,a;case 206:return a=this.view.getUint32(this.offset+1),this.offset+=5,a;case 207:var a=this.view.getUint32(this.offset+1),b=this.view.getUint32(this.offset+5);this.offset+=9;return 4294967296*a+b;case 208:return a=this.view.getInt8(this.offset+1),this.offset+=2,a;case 209:return a=this.view.getInt16(this.offset+1),this.offset+=3,a;case 210:return a=this.view.getInt32(this.offset+1),this.offset+=5,a;case 211:return a=this.view.getInt32(this.offset+ 1),b=this.view.getUint32(this.offset+5),this.offset+=9,4294967296*a+b;case 222:return a=this.view.getUint16(this.offset+1),this.offset+=3,this.map(a);case 223:return a=this.view.getUint32(this.offset+1),this.offset+=5,this.map(a);case 220:return a=this.view.getUint16(this.offset+1),this.offset+=3,this.oG(a);case 221:return a=this.view.getUint32(this.offset+1),this.offset+=5,this.oG(a);case 202:return a=this.view.getFloat32(this.offset+1),this.offset+=5,a;case 203:return a=this.view.getFloat64(this.offset+ 1),this.offset+=9,a}throw Error("Unknown type 0x"+a.toString(16));}};k.Dh=function(a){var b=new DataView(a),b=new e(b),c=b.parse();if(b.offset!==a.byteLength)throw Error(a.byteLength-b.offset+" trailing bytes");return c};k.fw=function(a){var b=new ArrayBuffer(h(a)),c=new DataView(b);g(a,c,0);return b};return{fw:function(a,b){b(null,{Ls:a.Ls,hd:a.hd,Ca:k.fw(a.Ca)})},Dh:function(a,b){b(null,{Ls:a.Ls,hd:a.hd,Ca:k.Dh(a.Ca)})}}},{hostWorker:a.eB,clientId:"msg",lazy:!0}):new a.lu(function(){},{hostWorker:a.eB, clientId:"msg",lazy:!0})})(v);v.WY=v.aa.extend({ga:[v.ja],B:function(){this.P6=v.A.WX+"://"+v.A.Qx;this.Ql=[];this.oe=v.a.Hb(this);this.UZ=1;this.Mc="closed";this.count=0;this.aK=[];v.event.U(window,"beforeunload",this.Bba,this);v.oo&&v.oo.bs()},Bba:function(){if(this.aK.length){var a=v.A.$b+"://webapi.amap.com/count?",b=["type=v","k="+v.A.key,"u="+v.A.qn,"m="+(v.l.Y?1:0),"pf="+v.l.wq,"frq="+this.aK.join(",")];new v.Na.$a(a+b.join("&"))}},close:function(){this.cc&&(this.Mc="closed",this.Ql=[],this.hE())},Q8:function(){var a=this; if("closed"===a.Mc){var b=new WebSocket(this.P6);b.binaryType="arraybuffer";a.Mc="connecting";b.onopen=v.a.bind(this.J3,this);b.onclose=v.a.bind(this.n3,this);b.onerror=v.a.bind(this.Bb,this);b.ontimeout=v.a.bind(this.Bb,this);b.onmessage=v.a.bind(this.w4,this);this.cc=b;b.S8=setTimeout(function(){b.readyState!==WebSocket.OPEN&&a.Uw()},1200)}},aU:function(){return"connected"===this.Mc},Uw:function(){this.Mc="unsupport";this.Ql=[];this.hE();this.r("disable")},Bb:function(){this.Uw()},J3:function(){this.R8= !0;this.flush();this.r("open")},n3:function(){this.R8?(this.Mc="closed",this.hE()):this.Uw()},hP:function(a,b){if("unsupport"===this.Mc)return!1;"connected"===this.Mc?this.AQ(a):("closed"===this.Mc&&this.Q8(),this.Ql.push({data:a,nx:b}));this.count+=1},w3:function(a){if("ack"===a.type)switch(a.command){case "tiles":this.r("ack",a);break;case "retain":this.Mc="connected";this.flush();break;case "close":this.Uw()}else 0===a.content.errcode&&("tiles"===a.type?this.r("tiles",a):"traffic"===a.type&&this.r("traffic", a))},nca:function(a){"encode"===a.hd?this.hP(a.Ca):"decode"===a.hd&&this.w3(a.Ca)},send:function(a){var b=this.UZ++,c=this;v.oo.fw({hd:"encode",Ca:a,Ls:this.oe},function(a,e){a||c.hP(e.Ca,b)});return b},AQ:function(a){var b=this,c=b.cc;c.readyState===WebSocket.OPEN&&(c.send(a),b.Pt&&clearTimeout(b.Pt),b.Pt=setTimeout(function(){b.Uw();b.Pt=null},5E3),b.kL&&clearTimeout(b.kL),b.kL=setTimeout(function(){b.close();b.kL=null},1E4))},hE:function(){var a=this.cc;a&&(clearTimeout(a.S8),a.onopen=a.onmessage= a.onerror=null,a.close(),this.cc=null)},flush:function(){if("connected"===this.Mc){for(var a=0;a<this.Ql.length;a+=1)this.AQ(this.Ql[a].data);this.Ql=[]}},S9:function(a){for(var b=0;b<this.Ql.length;b+=1)if(this.Ql[b].nx===a)return this.Ql.splice(b,1),!0;return!1},w4:function(a){this.Pt&&(clearTimeout(this.Pt),this.Pt=null);var b=this;v.oo.eA([a.data]);v.oo.Dh({Ls:b.oe,hd:"decode",Ca:a.data},function(a,d){a||b.nca(d)})}});v.ni={wX:function(){0===v.Sa.Pd&&v.ni.FT()},nla:function(a,b){if(!a)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]&&a[c].It===b)return!0},y8:function(a,b){var c="limg-"+a.key+"-"+b.q.oe;v.Sa[c]&&delete v.Sa[c]},RS:function(a){return v.Sa[a.It?a.It:a]},pm:function(a){var b=null,c=null,d=!1;a.It?(b=a,c=b.It,(a=b.url)&&(d=!0)):c=a;var e=v.Sa[c];d&&e&&e.src!==a&&(e=v.Sa[c]=null);if(!e&&a){d="data:"===a.substr(0,5);e=document.createElement("img");d||(e.crossOrigin="Anonymous");v.Sa[c]=e;e.loaded=!1;v.Sa.Pd+= 1;v.C.g(e,"load",this.hB,this);v.C.g(e,"error",this.ET,this);var g=this;e.At=setTimeout(function(){e.loaded||g.FT()},300);e.src=a;b&&(e.Lha=c,b.url=null)}},FT:function(){for(var a=0;a<v.Sa.Jo.length;a+=1)v.Sa.Jo[a].set("display")},XR:function(a){v.C.I(a,"load",this.hB,this);v.C.I(a,"error",this.ET,this)},hB:function(a){a=a.target;a.loaded=!0;v.Sa.Pd-=1;this.XR(a);this.wX();a.At&&(clearTimeout(a.At),a.At=null)},ET:function(a){a=a.target;a.loaded=!1;v.Sa.Pd-=1;this.XR(a);this.wX();a.At&&(clearTimeout(a.At), a.At=null)}};v.w.Cj=v.w.ec.extend({B:function(a,b,c){this.fA=c;v.Sa.Jo.push(this);this.oe=v.a.ZS("layer");this.kb=2;a.get("textRatio");this.CL=25;this.X("tiles",a);this.aga=a.get("vdataUrl")||b.K.get("vdataUrl")||v.A.Qx;this.pi=!0;this.ma=a;this.Ji=v.l.Y?!1:!0;this.j=b;this.zh=this.yh=!0;this.Nd("zoom center centerCoords resolution coordsBound styleID iconsID businessIconsID forceBig mode display".split(" "),b);this.Nd("zooms detectRetina visible zIndex textIndex watermark opacity".split(" "),a);this.X("lang", b,!0);this.get("watermark")&&(this.Rt=new Image,this.Rt.src=this.get("watermark"));this.rla="v4";this.ta={};this.Zf={};this.Tc=256;this.rq=[];this.ke=this.Ke=0;this.ia=v.l.ia&&this.get("detectRetina");this.Tc=256*(this.ia?2:1);this.X("mapStyle",b);this.X("style",b);this.$l=0;this.X("features",b);this.fe=18;this.X("reload",a)},mapStyleChanged:function(){this.get("mapStyle");this.Te=!1;if(this.j.get("styleUrl")||"normal"===this.get("mapStyle"))this.Te=!!this.j.get("showBuildingBlock");this.featuresChanged()}, featuresChanged:function(){this.set("reload")},langChanged:function(){this.set("reload");this.ma.wo()},b7:function(){var a=!1,b=this.WN();if(b){if(this.Rg){var c="active"===this.Rg.Nu;b.uu(this.Rg);c&&(b.$o(this.Rg,"active"),a=!0)}v.l.t8&&!a&&b.Sz()}},ou:function(){this.b7()},Fx:function(a,b){var c=!0;if("hotspotout"===a)this.j.K.set("optimalCursor",null);else if("hotspotover"===a)this.j.K.set("optimalCursor","pointer");else if("mouseup"===a||"mousedown"===a)c=!1;var d=this.WN();if(d)switch(a){case "hotspotout":d.Xz(b); break;case "hotspotover":d.$o(b,"hover");break;case "mouseup":d.$o(b,"hoverup");break;case "mousedown":d.$o(b,"active")}c&&(c=b.Pa,c=new v.G(c[0],c[1]),c=this.j.Qd(c,3),this.j.K.r(a,{name:b.name,lnglat:c,id:b.zm,isIndoorPOI:b.BI}))},WN:function(){if(!v.l.MT){var a=this.Q||this.ol;if(!a)return null;var b=this.j?this.j.K.get("hotspotOptions"):{},b=v.extend({},b);if(b.disableHighlight)return null;this.vv||(this.vv=new v.w.Cj.ZY(a));return this.vv}},an:function(a){(a=this.iT(a))&&this.Fx("hotspotclick", a)},Ir:function(a){var b="mousemove"===a.type;if(!this.j.vg||!b){var c=this.iT(a);switch(a.type){case "mousemove":case "mouseup":case "mousedown":c&&this.Rg!==c&&(this.Rg&&this.Fx("hotspotout",this.Rg),this.Fx("hotspotover",c)),!c&&this.Rg&&this.Fx("hotspotout",this.Rg),c&&!b&&this.Fx(a.type,c)}this.Rg=c}},textIndexChanged:function(){this.set("display")},rca:function(){this.j.g("click",this.an,this);this.j.g("mousemove",this.Ir,this);this.j.g("mousedown",this.Ir,this);this.j.g("mouseup",this.Ir,this)}, PG:function(){this.j.I("click",this.an,this);this.j.I("mousemove",this.Ir,this);this.j.I("mousedown",this.Ir,this);this.j.I("mouseup",this.Ir,this)},Yk:function(){return null},Xk:function(){var a=this.j.K.get("forceZooms");return{pi:!0,Tc:256,visible:this.get("visible"),Gc:a||this.get("zooms"),oA:this.Ji&&this.wa,yh:!this.j.yC,zh:!this.j.yC,opacity:this.get("opacity"),xd:!1}},ak:function(a){if(v.Q.canvas.Cj)return new v.Q.canvas.Cj(this,a)},Nv:function(a){0===a.indexOf("amap://styles/")&&(a="normal"); var b=this.get("forceBig")||v.l.Y&&!this.ia?"6":"5";this.url=v.A.$b+"://"+this.aga+"/tiles?mapType="+a+"&v="+(v.df?3:2)+"&style="+b;this.url+=this.ia?"&rd=2":"&rd=1";this.url+="&flds="+this.Ra;this.url+="&t="},styleChanged:function(){this.j.Zb||this.featuresChanged()}}); v.w.Jc=v.w.Cj.extend({ak:function(a){var b=this;if(!b.Rt&&v.l.ag&&"vw"===b.j.get("baseRender")){var c=["wgl"];this.j.Zb&&c.push("wgl2");if(v.fb.Dw(c))return new v.Q.Ve.Jc(b,a)}else if(c=["cmng","cgl"],this.j.Zb&&c.push("cgl2"),v.fb.Dw(c))return new v.Q.canvas.Jc(b,a);v.fb.dg(c,function(){b.set("display")})},featuresChanged:function(){var a=this.get("features"),b=[];"all"===a?b=this.fA:a&&(-1!==v.a.indexOf(a,"bg")&&-1!==v.a.indexOf(this.fA,"region")&&b.push("region"),-1!==v.a.indexOf(a,"building")&& -1!==v.a.indexOf(this.fA,"building")&&b.push("building"),-1!==v.a.indexOf(a,"road")&&-1!==v.a.indexOf(this.fA,"road")&&b.push("road"));this.Ra=b;this.Nv(this.get("mapStyle")||"normal");this.set("reload")}}); v.w.uh=v.w.Cj.extend({ak:function(a){var b=this;if(this.sI()){if(this.Kt=!0,v.Q.canvas.jD)return this.JR(),a=new v.Q.canvas.jD(this,a),a.g("afterLabelRender",this.ou,this),a}else{b.Kt=!1;if(v.Q.canvas.iD)return a=new v.Q.canvas.iD(this,a),a.g("afterLabelRender",this.ou,this),a;a=["cmng","labelcanvas"];v.l.mH&&a.push("labelDir");v.fb.dg(a,function(){b.set("display")})}},sI:function(){var a=this.get("mapStyle");return"normal"!==a&&"amap://styles/normal"!==a||this.j.get("nolimg")?!1:v.l.Kt?!0:!1},Haa:function(){var a= this.get("mapStyle");return"normal"!==a&&"amap://styles/normal"!==a||this.j.get("nolimg")||v.l.xd||v.l.Y?!1:!0},featuresChanged:function(){var a=this.get("features"),b=this.get("mapStyle"),c=[];"all"===a?c=["roadlabel","poilabel"]:a&&(-1!==v.a.indexOf(a,"road")&&c.push("roadlabel"),-1!==v.a.indexOf(a,"point")&&c.push("poilabel"));a=this.sI();c.length&&(a||this.Haa())&&c.unshift("limg");this.Ra=c;this.Nv(b);this.set("reload");(b=this.Q||this.ol)&&a^this.Kt&&(this.vv&&(this.vv=this.vv.Q=null),b.I("afterLabelRender", this.ou,this),b.os(),this.ol=this.Q=null)},JR:function(){this.lq=v.A.$b+"://"+(this.ma.get("vdataUrl")||this.j.K.get("vdataUrl")||v.A.Qx)+"/limg?";var a=this.ia?2:1;this.lq+="&font="+(v.l.Y&&!this.ia?"big":"small");this.lq+="&scl="+a;this.lq+="&t="},iT:function(a){return a.Se?(a=this.VS(this.j.Qb(a.Se,20),!0))?a[0]:null:null},VS:function(a,b){var c=this.j.XA();if(c&&(c=c.Zp(this)))return c.As(a,b)}});v.w.Cj.ZY=v.aa.extend({B:function(a){this.F6(a)},F6:function(a){this.Q=a},Xz:function(a){if(a.Nu){a.Nu=!1;var b=this.Q;b&&b.Xz.apply(b,arguments)}},uu:function(a){a.Nu=!1;var b=this.Q;b&&b.uu.apply(b,arguments)},$o:function(a,b){b||(console.warn("hlStyle is required, e.g. hover, active.."),b="hover");if(a.Nu!==b){a.Nu=b;var c=this.Q;c&&c.$o.apply(c,arguments)}},Sz:function(){var a=this.Q;a&&a.Sz()}});v.iu={ru:function(a,b){this.af={};this.af.Ls=v.a.Hb(this.af);b.cc||(b.cc=new v.WY);this.cc=b.cc;this.cc.g("tiles",this.dV,this);this.cc.g("ack",this.cV,this);this.cc.g("disable",this.bV,this)},kQ:function(a){this.gn=v.a.ns(this.gn,a)},IQ:function(){return v.a.keys(this.Jl).length?!0:!1},qM:function(){for(var a=this.gn.length-1;0<=a;a--){var b=this.gn[a];b.uD||b.abort()}this.gn.splice(0,this.gn.length)},GB:function(a){if(this.q&&a.HI===this.q.oe){this.ze||this.He?this.LJ([this.q,"groupcomplete",null, null,"allbase"]):(this.ji(),this.mp.CA(this.q,"groupcomplete",null,null,"allbase"));for(var b=0,c=a.ge.length;b<c;b+=1)this.Tw(a.ge[b],a.Rs,a.pt,a.Y)}},Tw:function(a,b){var c=a.hd,d=this.ta.get(a.qk);if(d){var e=this.q.Ra;d.Ra||(d.Ma={},d.Ra=[]);var g="";(this.j.oj&&!this.j.Zb||this.Saa&&this.j.Zb)&&this.BH(c,a.Ca);"poilabel"===c||"roadlabel"===c?(a.gj||(g=a.Ca,a.gj=null),d.Ra.push.apply(d.Ra,a.Ca),c===this.q.Ra[this.q.Ra.length-1]&&(d.gj=null)):d.Ma[c]=a.Ca;"building"!==c&&"poilabel"!==c||!a.gk|| d.wg||(d.wg={},d.wg.pe=a.gk,v.Pm&&v.Pm.r("vecTileParsed.buildings",{xx:d}));if("roadlabel"!==c&&"poilabel"!==c||this.ZT||!v.l.mH&&!this.j.Zb)this.ze||this.He?this.LJ([this.q,g,d,b,c]):(this.ji(),this.mp.CA(this.q,g,d,b,c));c===e[e.length-1]&&(c="roadlabel"===c||"poilabel"===c?"labels":"allbase",this.ze||this.He?this.LJ([this.q,"tileComplete",d,b,c]):(this.ji(),this.mp.CA(this.q,"tileComplete",d,b,c)))}},JG:function(){if(this.j){var a=this.j.K.getMapStyle();this.ko=a;this.s2(a);this.cc&&"unsupport"!== this.cc.Mc&&(-1!==a.indexOf("amap://styles")&&(a="normal"),this.cc.send({command:"status",payload:{mapType:a,style:v.l.Y&&!this.q.ia?"6":"5",rd:this.q.ia?2:1}}))}},mapStyleChanged:function(){this.JG()},styleChanged:function(){this.JG()},bV:function(){for(var a in this.af)this.af.hasOwnProperty(a)&&this.af[a].Oq&&(this.Oy(this.af[a].Oq,this.af[a].bg),delete this.af[a],delete this.Jl[a]);this.cc=null;this.Ei("mapStyle");this.set("display",1)},cV:function(a){var b=a.reqId;this.af[b]&&(!a.content.status&& this.af[b]&&this.Oy(this.af[b].Oq,this.af[b].bg),delete this.af[b],delete this.Jl[b])},dV:function(a){var b=a.reqId;if((!/-1$/.test(b)||!this.IQ())&&this.af[b]){var c=a.content.opt,d=this.af[b].Oq[0];c!==this.Ta&&!d.ik||d.ik&&c>this.Ta||1<this.Ta-c?this.Oy(this.af[b].Oq,this.af[b].bg):this.iJ(a.content.data,c)}},QI:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(a.length)if(this.WV)this.UU=!0;else{void 0===this.gn&&(this.gn=[]);c||this.qM();c||this.qM();void 0===this.Jl&& (this.Jl={});var d=1,e=[],g=this;18<b&&(d=Math.pow(2,b-18));for(var h=Math.pow(2,20-a[0].la.z),k=0;k<a.length;k+=1){var l=a[k],m=l.la;l.bg=b;m.S=h;if(18<b&&!this.qi){for(var n=0;n<d;n+=1)for(var p=0;p<d;p+=1){var q=new v.Qa(new v.sh(b,d*m.x+n,d*m.y+p));this.ta.pc(q.key)||(this.ta.set(q.key,q),q.status="loading")}this.ta.set(l.key+"/"+b,l)}else this.ta.set(l.key,l),this.qi&&10>m.z&&this.PS(l)?this.set("display",0):l.status="loading"}this.K5(a,b,v.a.bind(function(a,d){if(d.length){for(var g=0,h=d.length;g< h;g++){var k=d[g].la,l=k.x,m=k.y,k=k.z;if(10>k){var n=Math.pow(2,k);if(l>=n||0>l)l=(l+n)%n}l=v.a.LA(l,m,k).join(",");v.a.ga(e,l)||e.push(l)}!this.ao&&this.cc&&"unsupport"!==this.cc.Mc?(1>this.cc.count||3<this.VF?this.OI(d,b,e,c):(2!==this.cc.count&&"connected"===this.cc.Mc||this.JG(),this.vba(d,b,e,c)),this.cc.count+=1,this.cc.wU&&this.cc.aK.push(Math.ceil((new Date-this.cc.wU)/1E3)),this.cc.wU=new Date):this.OI(d,b,e,c)}},this));window.renderDelay&&(this.WV=setTimeout(function(){g.UU&&g.set("display", !1);g.UU=!1;g.WV=null},window.renderDelay))}},s2:function(a){a&&"normal"!==a&&0!==a.indexOf("amap://styles/")?this.gL=!0:this.gL=!1},K5:function(a,b,c){if((v.l.Ue||v.l.hj&&!this.j.K.wa)&&(this.Cw||!this.gL)&&18>=b){var d=v.Sm,e=this,g=this.j,h=g.K;g.II||void 0!==g.sB||("dv"===h.get("baseRender")?g.sB=1:g.sB=2);d.get({type:h.wa?"NFS":"FS",Te:h.get("showBuildingBlock"),gfa:a,ag:!!this.qi,w:this.q,url:this.xs(b,[]),timeout:1500},function(d,l){if(e.q){if(!d&&l.qI.length){l.qI.length===a.length&&(g.II|| g.sB--,v.Bd.Td.end({key:e.VN(),index:0,id:h.id}));if(l.ge){e.Nk=l.gf["x-vd-v"];e.Ks=l.gf.tv;var m="#"+l.gf.bgc;e.j.Ud!==m&&(e.j.Ud=m);l.qI.forEach(function(a){a.status="loaded"});m=e.RN(b,l.ge);e.GB(m)}else l.iba.forEach(function(a){e.FB(a,b,[],l.gf["x-vd-v"],!0)}),e.set("display");a=l.Lba}c(null,a)}})}else c(null,a)},vba:function(a,b,c,d){if(!d||!this.IQ()){var e=[(new Date).getTime(),this.cc.count+1&65535,d?1:0].join("-");d||(this.Jl[e]=1);var g={command:"tiles",reqId:e,payload:{t:c,opt:b,cs:{level:b, flds:this.q.Ra.join(","),v:v.df?"3":"2"}}},h;if(!this.cc.aU()){var k=this;setTimeout(function(){k.cc&&!k.cc.aU()&&(k.VF?k.VF++:k.VF=1,k.cc.S9(h)&&(delete k.af[e],delete k.Jl[e],k.OI(a,b,c,d)))},300)}h=this.cc.send(g);this.af[e]={Oq:a,bg:b}}},kJ:function(a){a.wa||(a.status="",a.wa=void 0,a.Aa=null,a.vc=null,a.Uc&&(a.Uc.vc=null,a.Uc.Uc=null,a.Uc=null),this.ta.sk(a.key))},RN:function(a,b){v.df&&1<v.df.length&&(v.df=v.df[this.q.get("forceBig")||v.l.Y&&!this.q.ia?1:0]);var c=v.df||null;return{Raa:"3D"=== this.q.j.K.view.type,f8:this.q.Te,sA:v.A.sA||null,Zha:this.q.get("businessIconsID"),Nk:this.Nk,Ks:this.Ks,lja:this.q.get("iconsID"),HI:this.q.oe,Rs:a,ge:b,Y:this.q.get("forceBig")||v.l.Y,mode:this.q.get("mode"),gda:v.A.$b,kW:this.q.get("forceBig")?1:this.q.kb,pt:this.q.get("forceBig")?!1:this.q.ia,df:c}},n9:function(a){a=a.split(";");for(var b=0,c=a.length;b<c;b+=1){a[b]=a[b].split(",");for(var d=0,e=a[b].length;d<e;d+=1)a[b][d]=parseInt(a[b][d],36)}return a},iJ:function(a,b,c){if(this.q){for(var d= [],e=0,g=a.length;e<g;e+=1){var h=a[e];h&&(c&&(h=JSON.parse(h)),h["x-vd-v"]?(this.Nk=h["x-vd-v"],this.Ks=h.tv,this.vj=[h.tv,h.vdv].join("-"),h.bgc&&(h="#"+h.bgc.substring(2),this.j.Ud!==h&&(this.j.Ud=h))):this.FB(h,b,d))}if(d.length){var k=this;a=null;var l;this.qi?(a=v.LC,l=a.zJ):(a=v.oo,l=this.ao?a["label:parseLabel"]:a["base:parseData"]);k.q.get("iconsID");k.q.get("businessIconsID");k.q.get("mode");(function(){l(k.RN(b,d),function(a,c){if(k.q&&!a){var d=c.icons;if(d)for(var e=0;e<d.length;e+=1)v.ni.pm(d[e]); (v.l.Ue||v.l.hj&&!k.j.K.wa)&&(k.Cw||!k.gL)&&18>=b&&v.Sm.set({ge:c.data.ge,"x-vd-v":k.Nk,tv:k.Ks,bgc:k.j.Ud,vj:k.vj,ag:!!k.qi,url:k.xs(10,[]),w:k.q,Te:k.j.K.get("showBuildingBlock")},function(){});c.data&&k.GB(c.data)}})})()}}},FB:function(a,b,c){function d(d,e,g){e=[g,d,e].join("/");18<b&&!l.qi&&(e+="/"+b);if((d=l.ta.get(e))&&"loaded"!==d.status)if(l.nX(d,p)||d.ik){if(-1!==n.indexOf(m))if("limg"===m){if(e=a[1],d.gj=e,"string"===typeof e.b&&(e.b=l.n9(e.b)),g="",g="object"===typeof e.u?e.u.url:e.u)d= {url:g,It:"limg-"+d.key+"-"+l.q.oe},e.u=d,v.ni.pm(d,!0)}else{e={qj:d.la,qk:e,Ca:a,hd:m,yR:l.j.Ud,Uaa:"building"===m,Gh:"poilabel"===m||"roadlabel"===m||"building"===m&&l.q.Te};if("poilabel"===m||"roadlabel"===m)e.gj=d.gj;m===n[n.length-1]&&(d.status="loaded");c.push(e)}}else l.mK(b,d,p,v.a.bind(l.kJ,l)),18<b&&l.ta.sk(e)}var e=a[0].split("-"),g=parseInt(e[1]),h=parseInt(e[2]),k=parseInt(e[0]),l=this,m=e[3],n=this.q.Ra,p=18<b?Math.pow(2,b-18):1,e=l.Hf.hI,q=Math.pow(2,k);10>k&&(g<=e&&d(g+q,h,k),g>=q- e&&d(g-q,h,k));d(g,h,k)},LJ:function(a){this.up||(this.up=[]);this.up.push(a)},ji:function(){if(this.up&&this.up.length){for(var a=0,b=this.up.length;a<b;a+=1)this.mp.CA.apply(this.mp,this.up[a]);this.up=[]}},Oy:function(a,b,c){c||(c=18<b?Math.pow(2,b-18):1);for(var d=0;d<a.length;d+=1){var e=a[d];this.mK(b,e,c,v.a.bind(this.kJ,this));18<b&&this.ta.sk(e.key+"/"+b)}v.l.Ue&&v.Sm.sk({Oq:a,url:this.xs(b,[]),w:this.q,ag:!!this.qi,Te:this.j.K.get("showBuildingBlock")})},xs:function(a,b,c){return this.q.url+ b.join(";")+"&lv="+a+"&preload="+(c&&c[0]&&c[0].ik?1:0)},VN:function(){var a=this.q.url,b="rb";if(/\\/limg/.test(a)||/flds=[^&]+label/.test(a))b="rl";return b},OI:function(a,b,c){function d(a,c){var d=a.split("|");d[0]=c+d[0];var e=d,g="";d[d.length-1]&&(g=d[d.length-1],e=d.splice(0,d.length-1));l.iJ(e,b,!0);return g}var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,g=new XMLHttpRequest;g.$J=[(new Date).getTime(),e?1:0].join("-");e||(this.Jl[g.$J]=1);var h=this.xs(b,c,a),k=0,l=this;g.OB= "";var m=18<b?Math.pow(2,b-18):1;g.onreadystatechange=function(){if(l.q){var c=4===g.readyState&&0===g.status;(b!==l.Ta&&!a[0].ik||a[0].ik&&(b>l.Ta||1<l.Ta-b)||c)&&!g.uD?(g.uD=!0,l.Oy(a,b,m),g.onreadystatechange="",c||g.abort(),e&&l.kQ(g),delete l.Jl[g.$J]):g.uD||(3===g.readyState?(c=g.responseText.substring(k),g.OB=d(c,g.OB),k=g.responseText.length):4===g.readyState&&(l.j.K.wa||v.Bd.Td.end({key:l.VN(),index:0,id:l.j.K.id}),delete l.Jl[g.$J],c=g.responseText.substring(k),l.ao&&(c+="|"),d(c,g.OB), g.OB="",l.j.K.wa||v.Bd.Td.push({id:l.j.K.id,key:"ds",Nm:g.responseText.length/2}),e&&l.kQ(g)))}};g.onerror=function(){};this.uaa||(this.uaa=1);g.open("GET",h,!0);g.send();e&&this.gn.push(g)},nX:function(a,b){var c=this.tl||this.Hf,d=a.la.x,e=a.la.y;return d>Math.floor(c.ed/b)||d<Math.floor(c.wd/b)||e>Math.floor(c.Qc/b)||e<Math.floor(c.Rc/b)?!1:!0},mK:function(a,b,c,d){if(18<a){b=b.la;for(var e=0;e<c;e+=1)for(var g=0;g<c;g+=1){var h=new v.sh(a,c*b.x+e,c*b.y+g)+"";(h=this.ta.get(h))&&d(h)}}else d(b), b.Uc&&d(b.Uc)}};v.Q.canvas.uh=v.Q.Th.extend({ga:[v.iu],B:function(a,b){arguments.callee.na.apply(this,arguments);this.oe=v.a.Hb(this);this.Bl=300;this.fe=a.fe;this.ao=this.pi=!0;this.X("mapStyle",a.j);this.X("style",a.j);this.Cw=!0;this.Rr=1;var c=this;this.jO=function(){c.Vba=!0;c.set("display",0)};this.jf();this.MI(a)},MI:function(a){a=v.l.Y||a.ia?"big":"small";var b=v.A.$b+"://vdata.amap.com/style_icon/icon-biz-"+a+".png";v.ni.pm(v.A.$b+"://vdata.amap.com/style_icon/icon-normal-"+a+".png",!0);v.ni.pm(b,!0)},zu:function(a){v.ni.y8(a, this);var b=v.Q.canvas.uh.Lc.zu;b&&b.apply(this,arguments)},jf:function(){this.Kj=document.createElement("canvas");this.Kj.className="amap-labels";this.Kj.draggable=!1;this.Kj.hU=!0;this.Ni=this.Kj.getContext("2d",{alpha:!0});this.tw=[];this.Hw=[];this.Rn=this.q.ia?16:8},Bq:function(a){var b=Math.pow(2,a.V.zoom-this.$c),c=this.q.ia?this.q.kb:1,d=a.V.Za.Va(this.eo).mc(this.he);this.transform={translate:this.transform.translate.add(d.Dc(c)),scale:b/c,rotate:0};this.Za=a.V.Za},nt:function(a,b){if(!this.qa|| 3E4<Math.abs(this.Za.x-this.qa.x)/this.S||3E4<Math.abs(this.Za.y-this.qa.y)/this.S)this.qa=this.Za;this.Yd=this.$c;this.Lh=this.he;this.Kh=!1;this.currentTime=+new Date;this.hL=b.hL;this.qd=[this.pa.pb.x,this.pa.pb.y];this.Ji=b.oA;var c=this.Di;this.ze=this.zoom<<0!==this.zoom;var d=this.Za.Va(this.qa);d.x<-v.a.ab/2&&(d.x+=v.a.ab);d.x>v.a.ab/2&&(d.x-=v.a.ab);this.IG=d.mc(this.he);for(d=c.length-1;0<=d;d-=1){var e=c[d];if(e.length){var g=e[0].la.z,h=!1;!e.Vf||v.Sa.Pd||!(g<=this.zoom&&"in"===this.ro|| g>=this.zoom&&"out"===this.ro)&&this.ro||this.labels&&this.labels.length&&!a.ij&&this.QB(this.labels.zt,this.Hf)||(h=!0,this.labels&&this.labels.jk?(this.fo=this.labels.jk,this.fo.zoom=this.labels.zoom):(this.fo=[],this.fo.zoom=null),this.labels=[],this.labels.zoom=g,this.labels.zt=this.Hf);if(h){for(g=e.length-1;0<=g;g-=1){var k=e[g],h=!1,l=k.Ra;!l&&k.Uc&&k.Uc.Ra&&(l=k.Uc.Ra,h=!0);if(l){for(var k=0,m=l.length;k<m;k+=1)l[k].reverse=h;Array.prototype.push.apply(this.labels,l)}}this.labels.sort(function(a, b){return a.ml>b.ml?-1:a.Fe>=b.Fe?-1:1})}}}if(this.n8(a)){this.md();if(!this.j.K.wa||a.Hs)return;this.YJ(a);this.em=this.labels}this.Vba=!1;this.Rd(a)},md:function(){if(this.Vf&&!this.q.wa){var a=this.q;v.Bd.Td.end({id:this.j.K.id,key:"rl",index:2});a.wa=!0;a.yc?a.fa("renderComplete"):(a.yc=!0,a.fa("complete"))}},ac:function(a,b){this.ko=a.ko;this.yj=a.yj;this.kl(a,b);this.ze||this.ji();this.eo&&(a.sX||a.KK&&v.l.Wi||a.He&&!a.ze&&a.T7)?this.Bq(a,b):this.nt(a,b);this.eo=this.Za;this.Kh&&this.set("display", 0)},Rd:function(a){var b=this.Za.Va(this.qa);b.x<-v.a.ab/2&&(b.x+=v.a.ab);b.x>v.a.ab/2&&(b.x-=v.a.ab);this.transform={translate:new v.G(a.V.pa.Mb.x*(this.q.ia?this.q.kb:1),a.V.pa.Mb.y*(this.q.ia?this.q.kb:1)),scale:1/(this.q.ia?this.q.kb:1),rotate:0}},QB:function(a,b){return a.Rc===b.Rc&&a.wd===b.wd&&a.Qc===b.Qc&&a.ed===b.ed},As:function(a,b){var c;if(this.zoom){var d=a.mc(Math.pow(2,20-this.zoom));this.labels&&(c=this.P$(d,b))&&(c.BI=!1);!c&&this.qc&&(c=this.O$(d))&&(c.BI=!0)}return c?[c]:[]},P$:function(a, b){for(var c=a.x,d=a.y,e=this.labels.jk||this.labels,g=e.length-1;0<=g;g-=1){var h=e[g],k=h.Pa[0]/this.S,l=h.Pa[1]/this.S;if((h.zm||!b)&&this.bU(h,c,d,k,l))return h}},O$:function(a){var b=a.x;a=a.y;for(var c=this.qc.length-1;0<=c;c-=1){var d=this.qc[c],e=d.Pa[0]/this.S,g=d.Pa[1]/this.S;if(d.zm&&this.bU(d,b,a,e,g))return d}},bU:function(a,b,c,d,e){for(var g=0;g<a.Pb.length;g+=1){var h=a.Pb[g][2],k=a.Pb[g][3],l=a.Pb[g][0],m=a.Pb[g][1];this.q.ia&&(h/=this.q.kb,k/=this.q.kb,l/=this.q.kb,m/=this.q.kb); if(b>=d+l-1&&b<=d+l+h+1&&c>=e+m-1&&c<=e+m+k+1)return!0}return!1},reloadChanged:function(){this.q&&(this.q.wa=!1);this.ta.clear();this.labels=[];this.tw=[];this.Hw=[];this.rb&&this.rb.parentNode&&this.rb.parentNode.removeChild(this.rb);this.Kj&&this.Kj.parentNode&&this.Kj.parentNode.removeChild(this.Kj);this.set("display")},jh:function(){return this.Kj},BH:function(a,b){if("roadlabel"===a||"poilabel"===a)for(var c=0;c<b.length;c+=1){var d=b[c];if(d.Lb){var e="",g="",h="";d.Id&&(h=d.Id[0],e=h[3],g= h[4],h=d.fj?"":h[7]);if(e=this.T.ys&&this.T.ys(e,g,h,d.Lb,d.Kp))d.visible=e[4],d.rl=e[3];if(d.Id)for(g=0;g<d.Id.length;g+=1)h=d.Id[g],h[3]=e[0],h[4]=e[1],d.Zn&&(h[7]=e[2])}}}});v.$L={xs:function(a,b,c){return this.q.lq+b.join(";")+"&lv="+a+"&preload="+(c&&c[0]&&c[0].ik?1:0)},iJ:function(a,b){if(this.q){for(var c=[],d=0,e=a.length;d<e;d+=1){var g=a[d];g&&(g=JSON.parse(g),g["x-vd-v"]?(this.Nk=g["x-vd-v"],this.vj=[g.tv||"",g.vdv].join("-"),this.Ks=g.tv,this.j.Ud="#"+g.bgc.substring(2)):(this.FB(g,b,c,this.Nk||"v4"),(v.l.Ue||v.l.hj&&!this.j.K.wa)&&18>=b&&v.Sm.set({gj:!0,data:g,url:this.xs(b,[]),qk:g[0].split("-").slice(0,3).join("/"),w:this.q,vdataVersion:this.vj,"x-vd-v":this.Nk, tv:this.Ks,bgc:this.j.Ud,Te:this.j.K.get("showBuildingBlock")})))}this.set("display")}},GV:function(a,b){var c=0,d=0,e=1,c=256*b.x,d=256*b.y,e=b.S;return[(c+a[0])*e,(d+a[1])*e]},FB:function(a,b,c,d,e){function g(c,g,l){c=[l,c,g].join("/");if(c=p.ta.get(c)){g=c.la;var m=v.A.$b+"://vdata.amap.com/icons/"+(h||k?"b":"n")+(10>g.z?"39":"18")+"/1/";if(c&&"loaded"!==c.status)if(p.nX(c,t)||c.ik){if(-1!==r.indexOf(q))if("limg"===q)a[1]&&(c.gj={url:"data:image/png;base64,"+a[1],It:"limg-"+c.key+"-"+p.q.oe}, v.ni.pm(c.gj,!0));else{if("roadlabel"===q)for(var n=1;n<a.length;n+=1){var w=a[n];w.uC=w[0];var H=v.a.cL(w[1],d);if(!(0>H[0]||256<=H[0]||0>H[1]||256<=H[1])){var B=p.GV(H,g),H={Pa:B,name:w[0],fj:!0,Hd:H,Sa:[],Pb:[],visible:!0,rl:!0},E=H.name;H.qt=15>w[2]%90||75<w[2]%90?90*Math.floor((w[2]+15)/90):w[2];B=w[3];0<=w[8]&&(H.MF={name:w[6],afa:w[7],dir:w[8]});var F=B[2];l=B[3];var D=-Math.floor(l/2);if(w[4])if("v5"<=d){var z=w[5].split(":"),G=z[1],G=parseInt(G)-1,z=v.A.$b+"://vdata.amap.com/style_icon/icon-normal-"+ (h||k?"big":"small")+".png";H.Sa.push(z);var z=Math.floor(G/10),I=G%10,J=0,Q=0,M=0;k?(J=48,M=Q=40):h?(J=Q=40,M=36):(J=Q=24,M=20);var O=J*Math.max(F+2,M)/M,z=[-O/2,-J/2,O,J,Q*I,Q*z,Q,Q];H.Fe=7;H.Pb.push(z)}else{D=!1;G=parseInt(w[5]);153===G&&(0===E.indexOf("G")?(G="153g",D=!0):0===E.indexOf("S")&&(G="153s",D=!0));if(151===G||150===G)D=!1,0===E.indexOf("G")&&(G=150,D=!0),0===E.indexOf("S")&&(G=151,D=!0);152===G&&(G=151);!0===D&&(m=v.A.$b+"://webapi.amap.com/theme/v1.3/icons/"+(h||k?"b/":"n/"));z=m+ G+".png";v.ni.pm(z);H.Sa.push(z);O=w[4][0]*u;w=w[4][1]*u;z=[-O/2,-w/2,O,w];H.Pb.push(z);F=Math.min(O-3,F);l=Math.min(w,l);D=-Math.floor(l/2)+(k?3:1)}H.Sa.push(c.gj);H.Fe=11;H.Pb.push([-Math.floor(F/2),D,F,l,B[0],B[1],B[2],B[3]]);c.Ra||(c.Ra=[]);c.Ra.push(H)}}else if("poilabel"===q){E=[];for(n=1;n<a.length;n+=1)if(w=a[n],w.uC=w[0],H=v.a.cL(w[1],d),!(0>H[0]||256<=H[0]||0>H[1]||256<=H[1])){B=p.GV(H,g);H={Pa:B,name:w[0].replace("^",""),Zn:!0,Hd:H,Sa:[],Pb:[],visible:!0,rl:!0};G=0;H.ml=w[8];w[6]&&("v5"<= d?(z=w[6].split(":"),G=z[1],D=Math.floor((parseInt(z[0].split("_")[1])-28)/2)):G=w[6]);if(G&&w[3]){if("v5"<=d){z=v.A.$b+"://vdata.amap.com/style_icon/icon-"+(1===D?"biz-":"normal-")+(h||k?"big":"small")+".png";H.Sa.push(z);G=parseInt(G)-1;z=Math.floor(G/10);I=G%10;k?(J=48,Q=40,M=28):h?(J=Q=40,M=28):(J=Q=24,M=20);O=J;if(151===G||152===G||153===G)M-=4,F=w[7][0][2],O=J*Math.max(F+2,M)/M;z=[-O/2,-J/2,O,J,Q*I,Q*z,Q,Q]}else z=m+G+".png",v.ni.pm(z),H.Sa.push(z),z=[-Math.round(w[3][0]/2),-Math.round(w[3][1]/ 2),w[3][0],w[3][1]],k&&!e&&(z[0]*=u,z[1]*=u,z[2]*=u,z[3]*=u);H.Pb.push(z)}if(w[2]&&w[7])for(F=w[2],z=0;z<w[2].length;z+=1){H.Sa.push(c.gj);B=w[7][z];k&&!e&&(F[z][0]=Math.round(F[z][0]*u),F[z][1]=Math.round(F[z][1]*u),F[z][2]=Math.round(F[z][2]*u),F[z][3]=Math.round(F[z][3]*u));O=F[z][0];I=F[z][1]-(k?4:2);J=B[3];Q=B[2];O<-Q&&G&&w[3]&&(O=-Q+H.Pb[0][0]);if("v5">d){if("375"===G||"3751"===G)Q=Math.min(F[z][2],k?24:14),O=-Math.floor(Q/2),I=-Math.floor(J/2)}else O-=2;H.Fe=J-4;4===l&&"\\u5317\\u4eac"===H.name&& (I=k?-50:-26);H.Pb.push([O,I,Q,B[3],B[0],B[1],B[2],B[3]])}H.hq=w[5];H.hq&&E.push(H.hq);H.zm=w[4];H.um=w[9];H.KU=w[10];H.Re=G;H.Js=D;c.Ra||(c.Ra=[]);c.Ra.push(H)}c.wg||(c.wg={},c.wg.pe=E)}q===r[r.length-1]&&(c.status="loaded",c.wa=c.Aa=!0,c.Uc&&(c.Uc.wa=c.Uc.Aa=!0))}}else p.mK(b,c,t,v.a.bind(p.kJ,p))}}var h=v.l.Y,k=this.q.ia,l=a[0].split("-");1===l.length&&(l=a[0].split("_"));c=parseInt(l[1]);var m=parseInt(l[2]),n=parseInt(l[0]),p=this,q=l[3],r=this.q.Ra,t=18<b?Math.pow(2,b-18):1,l=Math.ceil(p.Hf.hI), u=this.q.ia?this.q.kb:1,w=Math.pow(2,n);10>n&&(c<=l&&g(c+w,m,n),c>=w-l&&g(c-w,m,n));g(c,m,n)}};v.Q.canvas.jD=v.Q.canvas.uh.extend({ga:[v.$L]});v.Q.canvas.uh.jb({YJ:function(a){this.Rr++;var b=this.Kj,c=this.Ni;this.Es={};var d=this.q.ia?this.q.kb:1,e;0!==a.V.rotation?(e=2*Math.floor(a.V.pa.Mb.x)*d,d*=2*Math.floor(a.V.pa.Mb.y)):(e=a.size.width*d,d*=a.size.height);v.h.pl(b,e,d,!0);v.l.u8&&b.parentNode&&b.parentNode.appendChild(b);c.textBaseline="bottom";this.GT=0;a.qc&&(this.HV(a.qc,1,a.qc),0===a.qc.length&&this.labels&&this.labels.jk&&this.labels.zoom===this.zoom&&this.labels.jk.length!==this.labels.length&&(this.labels.jk=null));this.labels&& this.HV(this.labels,0,a.qc);!v.l.Y&&this.fo&&this.fo.length&&this.N$(a);this.tw=this.tw&&this.YV(c,this.tw,480);this.Hw=this.Hw&&this.YV(c,this.Hw,200);a.qc&&this.aW(a.qc,c,v.Pg.aT(this.j.K),this.bc,e,d);this.labels&&this.aW(this.labels,c,v.Pg.aT(this.j.K),this.bc,e,d);this.fo=[];this.labels&&(this.labels.ot=this.zoom,this.labels.lt=this.Za,this.labels.jx=this.rotation,this.labels.cW=this.q.ia,this.labels.size=a.size);a.qc&&(this.qc=a.qc);this.qc&&(this.qc.ot=this.zoom,this.qc.lt=this.Za,this.qc.jx= this.rotation,this.qc.size=a.size);this.r("afterLabelRender")},ZV:function(a,b,c){var d=void 0===b.rl?!0:b.rl,e=1,g=void 0===b.visible?!0:b.visible,h=null;if(b.Lb&&this.j.Zb){var k=h="",l="";b.Id&&this.iH&&(l=b.Id[0],h=l[3],k=l[4],l=b.fj?"":l[7]);if(h=this.T.ys&&this.T.ys(h,k,l,b.Lb,b.Kp))g=h[4],d=h[3],e=h[5]}if(g){if(this.Ni.globalAlpha!==c||e)this.Ni.globalAlpha=c||e;g=0;for(k=b.Sa.length;g<k;g+=1)(d||"CANVAS"===b.Sa[g].tagName)&&this.I9(a,b.Sa[g],b.Pb[g],b.qt,c||e);this.Ni.globalAlpha!==c&&(this.Ni.globalAlpha= c);b.Id&&this.iH&&this.iH(a,b,h)}},I9:function(a,b,c,d){var e=this.Ni;b=this.gm(b);if(!b)return 1;var g=c[2],h=c[3],k=c[0],l=c[1];d=(d||0)%360*-Math.PI/180;if(0!==d){var m=Math.cos(d),n=Math.sin(d),p=a[0],q=a[1];e.transform(m,n,-n,m,(1-m)*p+n*q,(1-m)*q-n*p)}k=a[0]+k;a=a[1]+l;4===c.length?b.loaded&&e.drawImage(b,k,a,g,h):e.drawImage(b,c[4],c[5],c[6],c[7],k,a,g,h);0!==d&&e.setTransform(1,0,0,1,0,0)},gm:function(a){if(!a)return null;if("IMG"===a.tagName||"CANVAS"===a.tagName||(a=v.ni.RS(a))&&a.loaded)return a}, aB:function(a){var b=a.Pa,c=b[0];a.reverse&&(c>v.a.ab/2?c-=v.a.ab:c<-v.a.ab/2&&(c+=v.a.ab));return this.gi(c,b[1])},gi:function(a,b){var c=this.q.ia?this.q.kb:1,d=this.S,e=0,g=0,e=(a-this.qd[0])/d,g=(b-this.qd[1])/d;return[Math.round(e*c),Math.round(g*c)]},U$:function(a){var b=a.Pa,c=b[0];a.reverse&&(c>v.a.ab/2?c-=v.a.ab:c<v.a.ab/2&&(c+=v.a.ab));return[c/this.S,b[1]/this.S]},gba:function(a,b){var c=a.Pa;return c[0]>b.sc.x||c[1]>b.sc.y||c[0]<b.pb.x||c[1]<b.pb.y?!1:!0},N$:function(a){var b=this.fo; if(this.fo.zoom!==this.labels.zoom)for(var c=0,d=b.length;c<d;c+=1){var e=b[c];e.Zn&&this.gba(e,a.V.pa)&&(this.Hw.push(e),e.zoom=b.zoom,e.pI=new Date)}},HV:function(a,b,c){var d=!(!c||!c.length),e=a.zoom-this.zoom,g=a.jk||a;if(0<e||d){a.jk=[];for(var h=0,k=g.length;h<k;h+=1){var l=g[h],m=this.U$(l);l.Zn||b?l.hq&&d&&c.TU&&-1!==v.a.indexOf(c.TU,l.hq)||(5>e&&this.Faa(m,l,0<e,b,d)?a.jk.push(l):v.l.Y||0===e&&!b||(this.tw.push(l),l.zoom=this.labels?this.labels.zoom:this.$c,l.pI=new Date)):l.fj&&a.jk.push(l)}}else a.jk= a;return!1},YV:function(a,b,c,d,e){a=new Date;for(var g=[],h=0,k=b.length;h<k;h+=1){var l=b[h],m=Math.max(0,Math.abs(l.zoom-this.zoom)),m=Math.max(0,1-(a-l.pI)/(1/Math.pow(1.3,m)*c));if(0<m){g.push(l);var n=this.aB(l);-20>n[0]||n[0]>d+20||-20>n[1]||n[1]>e+20||this.ZV(n,l,m)}else l.pI=void 0}g.length&&(this.GT=this.Kh=1);return g},aW:function(a,b,c,d,e,g){d=a.zoom!==this.zoom;18===a.zoom&&18<this.zoom&&(d=!1);b.globalAlpha=1;a=a.jk;b=0;for(var h=a.length;b<h;b+=1){var k=a[b];if(!(d&&k.fj||k.Cl&&c&& 0<=c.indexOf(k.Cl))){var l=this.aB(k);-20>l[0]||l[0]>e+20||-20>l[1]||l[1]>g+20||this.ZV(l,k)}}},n8:function(a){this.em&&this.em.cW!==this.q.ia&&this.q.set("reload");if(this.GT)return!0;if(a.qc&&a.qc.length)if(this.qc&&this.qc.length){if(this.qc!==a.qc||this.qc.ot!==this.zoom||this.qc.lt!==this.Za||this.qc.jx!==this.rotation||!this.qc.size.yb(a.size))return!0}else return!0;else if(this.qc&&this.qc.length)return!0;return!this.labels||!this.j.KS&&this.labels===this.em&&this.em&&this.em.ot===this.zoom&& this.em.lt===this.Za&&!a.ij&&this.em.jx===this.rotation&&this.em.cW===this.q.ia&&this.em.size.yb(a.size)?!1:!0},Faa:function(a,b,c,d,e){if(!e&&!c&&!d)return!0;var g;e=b.Sa.length;if(b.um>this.zoom)g=!0;else if(!c&&d)g=!1;else for(var h=0;h<e;h+=1){var k=b.Pb[h],l=k[2],m=k[3],n=k[0],k=k[1],n=a[0]+n,k=a[1]+k;this.Gaa(n,k,l,m)||(g=!0)}if(!g&&(c||d))for(h=0;h<e;h+=1)for(k=b.Pb[h],l=k[2],m=k[3],n=k[0],k=k[1],n=a[0]+n,k=a[1]+k,l=Math.ceil((n+l)/this.Rn),c=Math.ceil((k+m)/this.Rn),n=Math.floor(n/this.Rn), k=Math.floor(k/this.Rn),d=0,m=l-n;d<=m;d+=1)for(var l=0,p=c-k;l<=p;l+=1)this.Es[n+d]||(this.Es[n+d]={}),this.Es[n+d][k+l]=1;return!g},Gaa:function(a,b,c,d){var e=Math.ceil((a+c)/this.Rn);d=Math.ceil((b+d)/this.Rn);a=Math.floor(a/this.Rn);b=Math.floor(b/this.Rn);c=0;for(e-=a;c<=e;c+=1)if(this.Es[a+c])for(var g=0,h=d-b;g<=h;g+=1){if(1===this.Es[a+c][b+g])return!1}else this.Es[a+c]={};return!0}});v.Q.canvas.uh.sY=v.aa.extend({B:function(a){this.Q=a},E6:function(a){this.ko=a;return this.OF([0,0,0])?!0:this.ko=!1},AO:function(){return this.Q.ze?!1:!0},O1:function(a){if(a){var b=Array.prototype.slice.call(arguments,0);switch(a.type){case "icon":return this.R1.apply(this,b);case "label":return this.S1.apply(this,b);default:console.error("Unknown type",a)}}},NN:function(a,b,c){a=null;try{a=b.getImageData.apply(b,c)}catch(d){console.error(d),a=null}return a},a7:function(a){return 0>a?0:255<a?255: Math.round(a)},YQ:function(a,b){for(var c=0;4>c;c++)a[b+c]=this.a7(a[b+c]);return a},NF:function(a,b){var c=259*(b+255)/(255*(259-b));return[c*(a[0]-128)+128,c*(a[1]-128)+128,c*(a[2]-128)+128]},v6:function(a){return[255-a[0],255-a[1],255-a[2]]},OF:function(a,b){isNaN(b)&&(b=20);var c=Math.max(0,0.299*a[0]+0.587*a[1]+0.114*a[2]-b);switch(this.ko){case "amap://styles/normal":case "normal":return[1*c,1.2*c,255];case "amap://styles/light":case "light":return[1*c,1*c,255];case "amap://styles/fresh":case "fresh":return[1* c,1*c,220];case "amap://styles/grey":case "amap://styles/dark":case "insight":case "dark":return[1.5*a[0],1.5*a[1],1*a[2]];case "amap://styles/blue":case "amap://styles/darkblue":case "blue_night":case "mapv":return[2*a[0],1.5*a[1],1*a[2]]}return!1},T1:function(a,b){var c=20,d=10;switch(b.$k){case "active":c+=20,d+=20}return this.NF(this.OF(a,c),d)},hO:function(a,b){var c=-110;switch(b.$k){case "active":c+=30}return this.NF(this.OF(this.v6(a),c),50)},Q1:function(a){return this.NF(a,20)},gO:function(a, b,c,d,e,g){var h=a[b],k=a[b+1],l=a[b+2];a=a[b+3];0<a?(e=e.call(this,[h,k,l,a],g),c[d]=e[0],c[d+1]=e[1],c[d+2]=e[2]):(c[d]=h,c[d+1]=k,c[d+2]=l);c[d+3]=a;this.YQ(c,d)},i1:function(a){var b=a.data,c=a.width;a=a.height;for(var d=0,e=0,g=[Infinity,Infinity],h=[-Infinity,-Infinity],k=0;k<c;k++)for(var l=0;l<a;l++){var m=4*this.rE(k,l,c,a);if(!(76.5>b[m+3])){e++;k<g[0]&&(g[0]=k);l<g[1]&&(g[1]=l);k>h[0]&&(h[0]=k);l>h[1]&&(h[1]=l);for(var n=!0,p=0;4>p;p++)if(220>b[m+p]){n=!1;break}n&&d++}}return{mga:0<e?d/ e:0,M8:[g[0],g[1],h[0]-g[0]+1,h[1]-g[1]+1]}},rE:function(a,b,c){return b*c+a},Qz:function(a,b,c,d,e,g,h){var k=this.rE(b,c,d,e);d=a[4*k+0];e=a[4*k+1];var l=a[4*k+2];a=a[4*k+3];if(a/255<h.NU||h.gX&&!h.gX.call(this,d,e,l,a))return!1;g.push([b,c]);return!0},B5:function(a,b){var c=Math.abs(a[0]-b[0]),d=Math.abs(a[1]-b[1]);return Math.sqrt(c*c+d*d)},Kr:function(a,b){return 0.1>Math.abs(a[0]-b[0])&&0.1>Math.abs(a[1]-b[1])},O6:function(a,b){for(var c=[a[0]],d=1,e=a.length;d<e;d++){var g=a[d];this.B5(g,c[c.length- 1])<=b&&c.push(g)}return this.Kr(c[c.length-1],a[a.length-1])?c:null},Fha:function(){},J_:function(a,b,c,d){d=v.extend({NU:0.2,IU:4},d);var e,g,h=[],k=[],l=[],m=[];for(e=0;e<c;e++){for(g=0;g<b&&!this.Qz(a,g,e,b,c,h,d);g++);for(g=b-1;0<=g&&!this.Qz(a,g,e,b,c,k,d);g--);}if(!h.length||!k.length)return null;for(g=0;g<b;g++){var n;e=h[0][0];n=k[0][0];if(g>=e&&g<=n)for(e=0;e<c&&!this.Qz(a,g,e,b,c,l,d);e++);e=h[h.length-1][0];n=k[k.length-1][0];if(g>=e&&g<=n)for(e=c-1;0<=e&&!this.Qz(a,g,e,b,c,m,d);e--); }if(!l.length||!m.length)return null;m.reverse();h.reverse();if(this.Kr(l[l.length-1],k[0])&&this.Kr(k[k.length-1],m[0])&&this.Kr(m[m.length-1],h[0])&&this.Kr(h[h.length-1],l[0])){b=[m,h,l,k];e=0;for(a=b.length;e<a;e++)if(!(2>b[e].length||(b[e]=this.O6(b[e],d.IU),b[e])))return null;return[].concat(b[0]).concat(b[1].slice(1)).concat(b[2].slice(1)).concat(b[3].slice(1))}return null},T0:function(a){for(var b=[Infinity,Infinity],c=[-Infinity,-Infinity],d=0,e=a.length;d<e;d++){var g=a[d][0],h=a[d][1]; b[0]>g&&(b[0]=g);b[1]>h&&(b[1]=h);c[0]<g&&(c[0]=g);c[1]<h&&(c[1]=h)}return b.concat([c[0]-b[0]+1,c[1]-b[1]+1])},XN:function(a,b){this.PQ||(this.PQ=document.createElement("canvas"));var c=this.PQ;c.width=a;c.height=b;return c},o1:function(a){switch(a.length){case 2:return"lineTo";case 4:return"quadraticCurveTo"}return null},tN:function(a){switch(a.length){case 2:return[a[0]+0.5,a[1]+0.5];case 4:return[a[0]+0.5,a[1]+0.5,a[2]+0.5,a[3]+0.5]}return a},FM:function(a,b){a.beginPath();for(var c=0,d=b.length;c< d;c++){var e=b[c];0===c?(2<e.length&&(4===e.length?e=e.slice(-2):console.error("Unknown start point: ",b)),a.moveTo.apply(a,this.tN(e))):a[this.o1(e)].apply(a,this.tN(e))}},X0:function(a){a=this.hO([255,255,255],{$k:a.$k});this.YQ(a,0);return"rgba("+a.slice(0,3).join(",")+", 0.8)"},P1:function(a,b,c){function d(a){return[Math.round((a[0]-n)*q+n-m[0]),Math.round((a[1]-p)*r+p-m[1])]}c=v.extend({$k:"hover",qR:!0,padding:[1.5,1.5]},c);var e=a.width,g=a.height,h=this.XN(2*e+10,g),k=h.getContext("2d"), l=this.T0(b),m=c.padding;v.l.xd&&(m[0]+=2.5,m[1]+=2.5);for(var n=l[0],p=l[1],q=(l[2]+2*m[0])/l[2],r=(l[3]+2*m[1])/l[3],l=0,t=b.length;l<t;l++)switch(b[l].length){case 2:b[l]=d(b[l]);break;case 4:b[l]=d(b[l]).concat(d(b[l].slice(2)));break;default:console.error("Unknown point: ",b[l])}k.save();this.FM(k,b);k.closePath();k.fillStyle=c.fillStyle||"rgba(255,255,255,0.85)";k.fill();k.putImageData(a,e+6,0);k.drawImage(h,e+6,0,e,g,0,0,e,g);a=c.qR&&10<b.length;var u=c.strokeStyle||this.X0(c);k.strokeStyle= a?"#fff":u;k.lineCap="butt";k.lineJoin="round";k.lineWidth=v.l.xd?2:1.2;k.stroke();k.restore();return{Aa:h,ef:[0,0,e,g],md:a?function(a,c){this.Q6(a,c,b,u)}:null}},Q6:function(a,b,c,d){this.N_();var e=this.Q.Rr;this.yM(a,c,{duration:200,CJ:0,startTime:Date.now(),oea:function(a){a.strokeStyle=d;a.lineCap="butt";a.lineJoin="round";a.lineWidth=v.l.xd?2:1;a.translate(b[0],b[1])},nga:function(){return this.Q.Rr!==e}})},N_:function(){this.yD&&v.a.Ag(this.yD)},yM:function(a,b,c,d){this.AO()?this.yD=v.a.hc(function(){this.yD= null;if(c.nga.call(this))d&&d.call(this);else{var e=(Date.now()-c.startTime)/c.duration;1<e&&(e=1);var g=Math.round(b.length*e);if(c.CJ<g){var h=1===e?b:b.slice(c.CJ,g+1);h.length&&(a.save(),c.oea.call(this,a,e),this.FM(a,h),a.stroke(),a.restore());c.CJ=g}1>e?this.yM(a,b,c,d):d&&d.call(this)}},this):d&&d.call(this)},V_:function(a,b,c){a=a.createImageData(b.width,b.height);var d=a.data,e=a.width,g=a.height,h=c[0]+c[2],k=c[1],l=c[1]+c[3];for(c=c[0];c<h;c++)for(var m=k;m<l;m++)for(var n=4*this.rE(c, m,e,g),p=0;4>p;p++)d[n+p]=b.data[n+p];return a},E2:function(a,b,c){var d=a[1]+(b[1]-a[1])*c;return[Math.round(a[0]+(b[0]-a[0])*c),Math.round(d)]},l2:function(a,b,c){for(var d=1/c,e=[],g=1;g<c;g++){var h=this.E2(a,b,d*g);e.length&&this.Kr(h,e[e.length-1])||e.push(h)}return e},m2:function(a,b){for(var c=1,d=a.length;c<d;c++){var e=a[c-1],g=a[c];2===g.length&&(4===e.length&&(e=e.slice(2)),2===e.length&&(e=this.l2(e,g,b),a.splice.apply(a,[c,0].concat(e)),c+=e.length,d+=e.length))}},r1:function(a,b,c, d,e){e=Math.round(Math.min(c,d)*e);c--;d--;e?a=[[a+c,b+d-e],[a+c,b+d,a+c-e,b+d],[a+e,b+d],[a,b+d,a,b+d-e],[a,b+e],[a,b,a+e,b],[a+c-e,b],[a+c,b,a+c,b+e],[a+c,b+d-e]]:(e=[a+c,b+d],a=[e,[a,b+d],[a,b],[a+c,b],e]);this.m2(a,5);return a},R1:function(a,b,c,d,e,g){b=a.ef;var h=c?c.uI:this.NN(d,e,b);if(h){var k=c?c.JT:null,l=h,m=a.padding,n=m?m[0]:0,p=m?m[1]:0;(m=0<n*p)&&(l=this.V_(e,l,[n,p,l.width-2*n,l.height-2*p]));d=l.data;b=l.width;var q=l.height;if(b&&q){c=(c=this.Q.j)&&c.K?c.K.get("hotspotOptions"): {};c=v.extend({borderAnimation:!0},c);l=this.i1(l);a=!a.$aa&&0.46<=l.mga;var r=e.createImageData(b,q);e=r.data;for(var t=a?this.hO:this.Q1,u=0,w=d.length;u<w;u+=4)this.gO(d,u,e,u,t,{$k:g});if(m&&(e=a&&!v.l.xd?this.J_(d,b,q,{gX:a?function(a,b,c){return!(220<a&&220<b&&220<c)}:null,NU:0.2,IU:4}):null,e||(e=l.M8,e=this.r1(e[0],e[1],e[2],e[3],0.2)),e)){var x=this.P1(r,e,{$k:g,fillStyle:"active"!==g?null:"#ddd",BB:h,qR:c.borderAnimation&&"hover"===g&&!k,padding:a?[1.5,1.5]:[2.5,2.5]}),r=null;return{BB:h, mt:function(a,b){k&&h&&a.putImageData(h,b[0],b[1]);a.drawImage(x.Aa,x.ef[0],x.ef[1],x.ef[2],x.ef[3],b[0],b[1],b[2],b[3]);x.md&&(x.md.call(this,a,b),x.md=null)}}}return{BB:h,mt:function(a,b){if(m){var c=this.XN(r.width,r.height);c.getContext("2d").putImageData(r,0,0);a.clearRect(b[0]+n,b[1]+p,b[2]-2*n,b[3]-2*p);a.drawImage(c,0,0,c.width,c.height,b[0],b[1],b[2],b[3])}else a.putImageData(r,b[0],b[1]);r=null}}}}},S1:function(a,b,c,d,e,g){a=a.ef;if(c=c?c.uI:this.NN(d,e,a))if(d=c.data,a=c.width,b=c.height, a&&b){var h=e.createImageData(a,b);e=h.data;a=0;for(b=d.length;a<b;a+=4)this.gO(d,a,e,a,this.T1,{$k:g});return{BB:c,mt:function(a,b){a.putImageData(h,b[0],b[1]);h=null}}}},ZN:function(a,b,c){var d=c[2],e=c[3],g=a[0]+c[0];a=a[1]+c[1];if(4===c.length||c.vO){if((b=this.Q.gm(b))&&b.loaded)return c=[4,4],v.l.xd&&(c[0]*=2,c[1]*=2),{type:"icon",$aa:b.src&&b.src.indexOf&&0<=b.src.indexOf("/indoor_icon/"),padding:c,ef:[g-c[0],a-c[1],d+2*c[0],e+2*c[1]]}}else return{type:"label",ef:[g,a,d,e]}}}); v.Q.canvas.uh.jb({LN:function(){this.yE||(this.yE=new v.Q.canvas.uh.sY(this));return!1===this.yE.E6(this.ko)?null:this.yE},$o:function(a,b){var c=this.LN();if(c&&c.AO()&&a&&a.Sa&&a.Pb&&0===this.rotation){var d=this.Rr,e=this.aB(a),g=[],h;a.dn||(a.dn=[]);var k=a.dn;for(h=a.Pb.length-1;0<=h;h--){if(k[h]){if(k[h].rev!==d)continue;if(k[h].JT===b)continue}var l=c.ZN(e,a.Sa[h],a.Pb[h]);if(l){var m=c.O1(l,a,k[h],this.Kj,this.Ni,b);m&&(k[h]={JT:b,rev:d,uI:m.BB},g.push({mt:m.mt,ef:l.ef,$w:"icon"===l.type? 2:1}))}}g.sort(function(a,b){return a.$w-b.$w});h=0;for(d=g.length;h<d;h++)g[h].mt.call(c,this.Ni,g[h].ef),g[h].mt=null}},uu:function(a){a.dn&&(a.dn.length=0,a.dn=null)},Sz:function(){var a=this.Ni;a&&a.putImageData&&a.putImageData(a.getImageData(0,0,1,1),0,0)},Xz:function(a){if(a&&a.Sa&&a.Pb&&a.dn){var b=this.Ni,c=this.LN();if(c){for(var d=this.Rr,e=this.aB(a),g=a.dn,h=0,k=a.Pb.length;h<k;h++){var l=g[h];if(l&&(g[h]=null,d===l.rev)){var m=c.ZN(e,a.Sa[h],a.Pb[h]);m&&m.ef&&b.putImageData(l.uI,m.ef[0], m.ef[1])}}a.dn=null;this.Rr++}}}}); ');_jsload_('overlay', 'v.oa.Vb=v.oa.ne.extend({B:function(a,b){var c=a.length;this.Jg=Array(c);for(var d,e,g=0;g<c;g+=1)if(d=a[g],e=new v.oa.ML(d),this.Jg[g]=e,!b)if(0===g){if(0===d.length)break;e.Yn(d)||d.reverse()}else 0!==d.length&&e.Yn(d)&&d.reverse()},Cc:function(){if(0===this.Jg.length)return[Infinity,Infinity,-Infinity,-Infinity];if(!this.ff){for(var a=this.Jg[0].Cc(),b=1;b<this.Jg.length;b+=1){var c=this.Jg[b].Cc();v.H.eS(a,c)||v.H.extend(a,c)}this.ff=a}return this.ff},pT:function(){return this.Jg},Fg:function(){return v.oa.Kd.hy}, dd:function(a){for(var b=this.Jg,c,d=0,e=b.length;d<e&&(c=b[d].dd(a),0<d&&(c=!c),c);d+=1);return c}});v.oa.er=v.oa.ne.extend({B:function(a){var b=a.length;this.Ne=Array(b);for(var c=0;c<b;c+=1){var d=new v.oa.Vb(a[c]);this.Ne[c]=d}},Cc:function(){if(!this.ff){for(var a=[Infinity,Infinity,-Infinity,-Infinity],b=this.Ne,c=0,d=b.length;c<d;c+=1)v.H.extend(a,b[c].Cc());this.ff=a}return this.ff},KH:function(){return this.Pa},Fg:function(){return v.oa.Kd.ey},TS:function(){return this.Ne},dd:function(a){for(var b=!1,c=0,d=this.Ne.length;c<d;c+=1)if(this.Ne[c].dd(a)){b=!0;break}return b}});v.oa.Qm=v.oa.ne.extend({B:function(a){this.Pa=a},Cc:function(){if(!this.ff){for(var a=[Infinity,Infinity,-Infinity,-Infinity],b=0,c=this.Pa.length;b<c;b+=1)v.H.OA(a,this.Pa[b]);this.ff=a}return this.ff},KH:function(){return this.Pa},Fg:function(){return v.oa.Kd.UC},E$:function(){return this.Pa.length},qs:function(a){return v.Hc.En(a,this.Pa)}});v.oa.ML=v.oa.Qm.extend({Fg:function(){return v.oa.Kd.LL},Yn:v.Hc.Yn,dd:function(a){return v.Hc.dd(a,this.Pa)}});v.oa.eu=v.oa.ne.extend({B:function(a){var b=a.length;this.Ne=Array(b);for(var c=0;c<b;c+=1){var d=new v.oa.Qm(a[c]);this.Ne[c]=d}},TS:function(){return this.Ne},Cc:function(){if(!this.ff){for(var a=[Infinity,Infinity,-Infinity,-Infinity],b=this.Ne,c=0,d=b.length;c<d;c+=1)v.H.extend(a,b[c].Cc());this.ff=a}return this.ff},KH:function(){return this.Pa},Fg:function(){return v.oa.Kd.$C},E$:function(){return this.Pa.length},qs:function(a){for(var b=Infinity,c=0,d=this.Ne.length;c<d;c+=1)b=Math.min(b,this.Ne[c].qs(a)); return b}});v.D.Db=v.D.pg.extend({B:function(a,b){arguments.callee.na.apply(this,arguments);this.F7=a;this.X("options",a);this.X("geodesic",a);this.X("path",a);this.X("noSelect",a);this.Bp();this.X("display",b);b.g("zoomend",this.Hk,this)},Ul:function(){if("3D"==this.map.K.view.type){var a=this.N;a&&(a=a.ha)&&(delete a.Ca,delete a.ms)}},deltaPosChanged:function(){this.set("display")},geodesicChanged:function(){this.pathChanged()},no:function(a){var b=Math.pow(2,20-this.map.get("zoom")),c=this.get("path"),b=a.Dc(b), d=[],e,g,h;e=0;for(g=c.length;e<g;e+=1)h=this.map.Ub(c[e]).add(b),d.push(this.map.Qd(h));0<d.length&&this.set("path",d);if(this.zF&&0<this.zF.length)for(e=0,c=this.zF.length;e<c;e+=1)this.zF[e].no(a);this.F7.r("movepoly",{ft:b})},Ow:function(a,b,c){a=this.get("deltaPos")||[0,0];this.set("deltaPos",[c.x+a[0],c.y+a[1]])},Iu:function(a){this.get("options");return this.n2()?this.f1(a):this.mE(a)},n2:function(){var a=this.get("options");return a&&!!a.geodesic},getStrokeWeight:function(){return this.get("options").strokeWeight}, f1:function(a){if(!a||!a.length)return[];var b,c=[],d,e,g=[],h,k=this.map.get("resolution"),l=this.get("options").geodesicInterpolatePixelWidth||17;c.push(a[0]);g.push(this.nE(a[0]));d=1;for(e=a.length;d<e;d+=1)h=this.nE(a[d]),b=Math.round(Math.abs(h[0]-g[g.length-1][0])/k),b=Math.min(31,Math.round(b/l),Math.round(Math.abs(a[d-1].O-a[d].O))),"3D"==this.map.K.view.type&&(b=Math.round(b/1.2)),b=v.W.V$(a[d-1],a[d],b),c.push.apply(c,b),g.push.apply(g,this.mE(b)),c.push(a[d]),g.push(h);return g},qA:function(a){var b= [],c=[],d,e,g,h,k,l,m=a.ha;m instanceof v.oa.Qm?l=[m]:m instanceof v.oa.eu&&(l=m.Ne);m=[];a=a.Ga.rotation;b=this.map.get("size");d=Math.PI*a/180;a=(Math.abs(b.width*Math.cos(d))+Math.abs(b.height*Math.sin(d)))/2;var n=(Math.abs(b.width*Math.sin(d))+Math.abs(b.height*Math.cos(d)))/2;d=0;for(e=l.length;d<e;d+=1)if(g=l[d].Pa,g.length)for(h=0,k=g.length;h<k;h+=1)if(b=g[h],b=this.Je(b),b[0]=Math.round(b[0]+a),b[1]=Math.round(b[1]+n),0===h)c[0]=NaN,c[1]=NaN,m.push("M"+b[0]+" "+b[1]);else if(b[0]!==c[0]|| b[1]!==c[1])m.push("L"+b[0]+" "+b[1]),c[0]=b[0],c[1]=b[1];return m},Bp:function(){if(this.map&&!this.N){var a=this.map,b=this.get("path"),b=this.N=new v.Jf({iE:this.Yc.hz,name:"polyline-"+v.a.Hb(this),zIndex:this.get("options").zIndex||1,map:a,ha:new v.oa.Qm(this.Iu(b)),style:this.get("options")});b.jn=this;this.X("resolution",a);this.X("center",a);this.X("coords",b);this.X("style",b);b.Nd("noSelect visible zIndex strokeWeight isOutline deltaPos".split(" "),this)}},pathChanged:function(){this.Ul(); var a=this.N,b=this.get("path");a&&(this.set("coords",this.Iu(b)),a.Dg=!0,"c"!==this.map.get("overlayRender")&&a.Ga?(b=this.qA(a),v.l.el||b.push("e"),b=b.join(" "),0===b.length&&a.Ga?(a.Ga.Ge.parentNode.removeChild(a.Ga.Ge),a.Ga.Ob.parentNode&&a.Ga.Ob.parentNode.removeChild(a.Ga.Ob),a.Ga=null):v.l.el?(a.Ga.Ge.setAttribute("d",b),a.Ga.Ob&&a.Ga.Ob.setAttribute("d",b)):(a.Ga.Ge.path=b,a.Ga.Ob&&(a.Ga.Ob.path=b))):this.set("display"))},Hk:function(){},visibleChanged:function(){this.N&&(this.N.Ga?this.get("visible")? (this.N.Ga.Ge.style.display="block",this.N.Ga.Ob&&(this.N.Ga.Ob.style.display="block")):(this.N.Ga.Ge.style.display="none",this.N.Ga.Ob&&(this.N.Ga.Ob.style.display="none")):this.set("display"))},optionsChanged:function(){this.Ul();this.N&&(this.N.style=this.get("options"),this.N.zIndex=this.get("options").zIndex,this.N.Jn(),this.N.Ga&&(this.N.Ga.Ge.parentNode&&this.N.Ga.Ge.parentNode.removeChild(this.N.Ga.Ge),this.N.Ga.Ob&&this.N.Ga.Ob.parentNode&&this.N.Ga.Ob.parentNode.removeChild(this.N.Ga.Ob))); this.set("display")}});v.D.Wt=v.D.Db.extend({B:function(a,b){this.D7=a;arguments.callee.na.apply(this,arguments);this.X("tolerance",a);b.g("zoomend",this.Hk,this)},mE:function(a){var b=Math.pow(2,20-Math.round(this.map.get("zoom")));return v.tL.bT(a,this.map.Zl,b,this.D7.F)},toleranceChanged:function(){this.pathChanged()},Hk:function(){this.pathChanged()}});v.D.Vb=v.D.pg.extend({B:function(a,b){arguments.callee.na.apply(this,arguments);this.sR=a;this.X("options",a);this.X("path",a);this.Bp();this.X("display",b)},Ul:function(){if("3D"==this.map.K.view.type){var a=this.N;a&&(a=a.ha.get("rings"))&&v.a.isArray(a)&&a.forEach(function(a){delete a.Ca;delete a.ms})}},deltaPosChanged:function(){this.set("display")},no:function(a){var b=Math.pow(2,20-this.map.get("zoom")),c=this.get("path");a=a.Dc(b);var b=[],d,e;c.length&&c[0]instanceof v.W&&(c=[c],e=!0);for(var g= 0,h=c.length;g<h;g+=1){for(var k=c[g],l=[],m=0,n=k.length;m<n;m+=1)d=this.map.Ub(k[m]).add(a),l.push(this.map.Qd(d));b.push(l)}0<b.length&&this.set("path",e?b[0]:b);this.sR.r("movepoly",{ft:a})},Ow:function(a,b,c){a=this.get("deltaPos")||[0,0];this.set("deltaPos",[c.x+a[0],c.y+a[1]]);this.sR.r("movepoly",{ft:c})},Iu:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];a.length&&a[0]instanceof v.W&&(a=[a]);for(var b,c,d=[],e,g=this.map,h=0;h<a.length;h+=1){var k=a[h];e=[];b=0; for(c=k.length;b<c;b+=1){var l=g.Ub(k[b]);e.push([l.x,l.y])}d.push(e)}return d},Bp:function(){if(this.map&&!this.N){var a=this.map,b=this.get("path"),b=this.N=new v.Jf({iE:this.Yc.hz,name:"polygon-"+v.a.Hb(this),zIndex:this.get("options").zIndex||1,map:a,ha:new v.oa.Vb(this.Iu(b)),style:this.get("options")});b.jn=this;this.X("resolution",a);this.X("center",a);this.X("coords",b);this.X("style",b);b.Nd(["visible","zIndex","strokeWeight","deltaPos"],this)}},pathChanged:function(){var a=this.N,b=this.get("path"); this.Ul();a&&(this.set("coords",this.Iu(b)),a.Dg=!0,"c"!==this.map.get("overlayRender")&&a.da?(b=this.rA(a),0===b.length?(a.da.parentNode.removeChild(a.da),a.da=null):v.l.el?a.da.setAttribute("d",b.join(" ")):(b.push("e"),a.da.path=b.join(" "))):this.set("display"))},getStrokeWeight:function(){return this.get("options").strokeWeight},visibleChanged:function(){this.N&&(this.N.da?this.get("visible")?this.N.da.style.display="block":this.N.da.style.display="none":this.set("display"))},optionsChanged:function(){this.Ul(); this.N&&(this.N.style=this.get("options"),this.N.zIndex=this.get("options").zIndex,this.N.Jn());this.set("display")},rA:function(a){var b=[NaN,NaN,0],c=[NaN,NaN],d,e,g,h,k,l,m,n=a.da.rotation,p=this.map.get("size");e=Math.PI*n/180;n=(Math.abs(p.width*Math.cos(e))+Math.abs(p.height*Math.sin(e)))/2;p=(Math.abs(p.width*Math.sin(e))+Math.abs(p.height*Math.cos(e)))/2;a=a.ha;a instanceof v.oa.Vb?d=[a]:a instanceof v.oa.er&&(d=a.Ne);var q=[];a=0;for(e=d.length;a<e;a+=1)if(b=d[a],g=b.Jg,h=g.length,0<h)for(var r= 0;r<h;r+=1){var t;k=g[r].Pa;l=0;for(m=k.length;l<m;l+=1)if(b=k[l],b=this.Je(b),b[0]=Math.ceil(b[0]+n),b[1]=Math.ceil(b[1]+p),0===l)c[0]=NaN,c[1]=NaN,t=b,q.push("M"+b[0]+" "+b[1]);else if(b[0]!==c[0]||b[1]!==c[1])q.push("L"+b[0]+" "+b[1]),c=b;t&&q.push("L"+t[0]+" "+t[1])}return q}});v.D.uf=v.D.pg.extend({B:function(a,b){arguments.callee.na.apply(this,arguments);this.E7=a;this.X("center",a);this.X("draggable",a);this.X("unit",a,!0);this.X("radius",a);this.X("options",a);this.Bp();this.X("display",b)},no:function(a){var b=this.get("center");a=a.Dc(Math.pow(2,20-this.map.get("zoom")));var c=this.map.Ub(b).add(a);b instanceof v.W?this.set("center",this.map.Qd(c)):this.set("center",c);this.E7.r("movepoly",{ft:a})},Ow:function(a,b,c){a=this.get("deltaPos")||[0,0];this.set("deltaPos", [c.x+a[0],c.y+a[1]])},Bp:function(){if(this.map&&!this.N){var a=this.map,b=a.Ub(this.get("center")),c="px"===this.get("unit"),b=this.N=new v.Jf({Ru:!0,iE:this.Yc.hz,name:"circle-"+v.a.Hb(this),zIndex:this.get("options").zIndex||1,map:a,ha:new v.oa.vf([b.x,b.y]),style:this.get("options")});b.jq=c;b.jn=this;this.X("resolution",a);this.X("coords",b);this.X("style",b);b.X("visible",this,!0);b.Nd("radius center unit resolution zIndex strokeWeight deltaPos".split(" "),this)}},Ul:function(){if("3D"==this.map.K.view.type){var a= this.N;a&&(a=a.ha)&&(delete a.Ca,delete a.ms,delete a.KX)}},deltaPosChanged:function(){this.set("display")},getStrokeWeight:function(){return this.get("options").strokeWeight},centerChanged:function(){var a=this.N,b=this.map.Ub(this.get("center"));a&&(a.ha.Pa=[b.x,b.y],this.Ul(),this.set("coords",[b.x,b.y]),this.Dg=!0,a.da?this.OV():this.set("display"))},visibleChanged:function(){this.N&&(this.N.da?this.get("visible")?this.N.da.style.display="block":this.N.da.style.display="none":this.set("display"))}, optionsChanged:function(){this.Ul();this.N&&(this.N.style=this.get("options"),this.N.zIndex=this.get("options").zIndex,this.N.Jn(),this.N.Dg=!0,this.set("display"))},BG:function(a){var b=[],c=[],d,c=a.ha;c instanceof v.oa.vf&&(d=[c]);var c=this.map.get("resolution",Math.floor(this.map.get("zoom"))),e=a.da.rotation,b=this.map.get("size"),g=Math.PI*e/180,e=(Math.abs(b.width*Math.cos(g))+Math.abs(b.height*Math.sin(g)))/2,g=(Math.abs(b.width*Math.sin(g))+Math.abs(b.height*Math.cos(g)))/2,b=this.Je(d[0].Pa); b[0]=Math.round(b[0]+e);b[1]=Math.round(b[1]+g);a=a.get("remain")?5.23:a.jq?this.get("radius"):this.get("radius")/(c*Math.cos(Math.PI*this.get("center").P/180));return c=["M",b[0],b[1]-a,"A",a,a,0,1,1,b[0]-0.01,b[1]-a,"Z"].join(" ")},OV:function(){var a=this.N,b=this.get("radius");if("c"!==this.map.get("overlayRender")&&a.da)if(v.l.el)b=this.BG(a),a.da.setAttribute("d",b);else{b=this.map.get("resolution",Math.floor(this.map.get("zoom")));b=a.jq?this.get("radius"):this.get("radius")/(b*Math.cos(Math.PI* this.get("center").P/180));a.da.style.width=Math.round(2*b);a.da.style.height=Math.round(2*b);var c=this.map.get("size").width/2,d=this.map.get("size").height/2,e=this.Je(a.ha.Pa);e[0]=Math.round(e[0]+c);e[1]=Math.round(e[1]+d);a.da.style.top=Math.round(e[1]-b);a.da.style.left=Math.round(e[0]-b)}else this.set("display")},radiusChanged:function(){var a=this.N,b=this.get("radius");a&&(this.Ul(),a.Dg=!0,a.r("rad",{target:a,zi:b}),this.OV())}}); ');_jsload_('wgl', '(function(){if(v.l.Fm){var a=function(a){function c(a,b,c,d,g,h){c=a.Ca;d=[];var k=a.qj,l=null,m=null;a.Ca=[];h=h&&16<b;for(var n=1,p=c.length;n<p;n+=1){var q=c[n],s=q[1].split("&"),l=r(A?A:s[0]),m=r(s[4]),x=q[2],y=q[0],Z=q[3]*Math.pow(2,2),ea=q[4],ba={};if((q=q[5])&&q.length)for(var U=0,K=q.length;U<K;U+=1)for(var N=q[U].split("-")[1].split("^"),s=0,V=N.length;s<V;s+=1)-1===e(d,N[s])&&d.push(N[s]);if(ea&&ea.length)for(q=0,U=ea.length;q<U;q+=1)for(K=ea[q].split("-"),N=parseInt(K[0]),ba[N]={},s=1, V=K.length;s<V;s+=1)ba[N][parseInt(K[s])]=!0;q=0;for(ea=y.length;q<ea;q+=1){for(var s=y[q],U=[],K=[],N=[],s=u(s,w,b),s=t(s,k,g,!0)[1],V=[],R=0,S=0,P=0,T=s.length-1;P<T;P+=1){var W=s[P],ca=s[P+1],R=R+W[0],S=S+ca[1];if(!ba[q]||!ba[q][P])if(h){var ia=0,ga=ca[0]-W[0],ra=ca[1]-W[1];0===ga?ia=0.5:0===ra?ia=ca[0]>W[0]?0:1:(ia=Math.abs(Math.atan(ra/ga)/Math.PI),ia=ca[0]>W[0]?ia:1-ia);ra=Math.sqrt(Math.pow(ga,2)+Math.pow(ra,2));ga=Math.round(Z/64);ra=Math.ceil(ra/64);ga?N.push(0,0,ra,ga,0,ga,0,0,ra,0,ra,ga): N.push(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1);ga=0.4+0.6*ia;ia=0.8+0.2*ia;U.push(W[0],W[1],-Z,ga);U.push(ca[0],ca[1],0,ia);U.push(W[0],W[1],0,ia);U.push(W[0],W[1],-Z,ga);U.push(ca[0],ca[1],-Z,ga);U.push(ca[0],ca[1],0,ia)}else K.push(W[0],W[1],0,1,ca[0],ca[1],0,1);V.push([W[0],W[1]])}s.pop();R=[R/s.length+215440491,S/s.length+106744817];V=C.Et(h?V:s,[],0,1);S=0;for(P=V.length;S<P;S+=1)for(s=0;3>s;s+=1)T=-Z,h||(T=0),N.push(0,0,0,0,0,0),U.push(V[S][s][0],V[S][s][1],T,0);s=[l,m,x];a.Ca.push([new Float32Array(U), new Float32Array(N),new Float32Array(K),s,null,R])}}a.gk=d;return a}function d(a,b,c,d,g,h){c=a.Ca;d=[];for(var k=a.qj,l=null,m=null,n={},p=1,q=c.length;p<q;p+=1){var s=c[p],x=s[1].split("&"),l=r(A?A:x[0]),m=r(x[2]),y=x[0]+x[2];n[y]||(n[y]={uX:[],nW:[],ho:[],us:[],d$:l,borderColor:m,Lb:s[2]});var l=n[y].uX,m=n[y].nW,x=n[y].ho,y=n[y].us,Z=s[0],ea=s[3]*Math.pow(2,2),ba=s[4],U={};if((s=s[5])&&s.length)for(var K=0,N=s.length;K<N;K+=1)for(var V=s[K].split("-")[1].split("^"),R=0,S=V.length;R<S;R+=1)-1=== e(d,V[R])&&d.push(V[R]);if(ba&&ba.length)for(s=0,N=ba.length;s<N;s+=1)for(V=ba[s].split("-"),R=parseInt(V[0]),U[R]={},K=1,S=V.length;K<S;K+=1)U[R][parseInt(V[K])]=!0;s=0;for(ba=Z.length;s<ba;s+=1){for(var P=Z[s],P=u(P,w,b),P=t(P,k,g,!0)[1],K=[],N=0,V=P.length-1;N<V;N+=1){var R=P[N],S=P[N+1],T=[R[0]-0*ea,R[1]-0.3*ea],W=[S[0]-0*ea,S[1]-0.3*ea];U[s]&&U[s][N]||(h?((S[0]-R[0])*(T[1]-R[1])<(T[0]-R[0])*(S[1]-R[1])&&(l.push(T[0],T[1],2),l.push(S[0],S[1],-1),l.push(R[0],R[1],-1),l.push(T[0],T[1],2),l.push(W[0], W[1],2),l.push(S[0],S[1],-1),y.push([R,S,W,T])),x.push(T[0],T[1],-1,W[0],W[1],-1)):x.push(R[0],R[1],-1,S[0],S[1],2));K.push([T[0],T[1]])}P.pop();N=C.Et(h?K:P,[],0,1);y.push(h?K:P);P=0;for(V=N.length;P<V;P+=1)for(K=0;3>K;K+=1)m.push(N[P][K][0],N[P][K][1],3)}}a.Ca=[];for(P in n)n.hasOwnProperty(P)&&(x=[n[P].d$,n[P].borderColor,n[P].Lb],n[P].us.sq=!0,a.Ca.push([new Float32Array(n[P].uX),new Float32Array(n[P].nW),new Float32Array(n[P].ho),x,n[P].us]));a.gk=d;return a}function e(a,b){if(a&&!a.length)return-1; if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c+=1)if(a[c]===b)return c;return-1}function g(a,b){for(var c=a.Ca,d=[],e={0:"ffde0000",1:"ffffcc00",2:"ff33b100",3:"ff8c0e0e",4:"ffadadad"},g=0,h=c.length;g<h;g++){for(var k=[],l=0,n=c[g].length;l<n;l++){var p=[],q=[],t=[];m(p,t,q,c[g][l][1],a.la,b);q.sq=!0;p.forEach(function(a,b){k.push([a,t[b]])})}if(k.length){var s=[[],[],{width:0.75*c[g][0][0],borderColor:r(e[g])}];k.forEach(function(a){var b=s[0].length/9;b&&(a[1]=a[1].map(function(a){return a+ b}));s[0]=s[0].concat(a[0]);s[1]=s[1].concat(a[1])});s[0]=new Float32Array(s[0]);s[1]=new Uint16Array(s[1]);d.push(s)}}a.Ca=d;return a}function h(a){var b=[],c=[],d=[];a=t(a,{x:0,y:0},1);c.push.apply(c,a[2]);if(2<a[1].length){var e=C.Et(a[1],[],0);e.length&&(b.push.apply(b,a[0]),d.push.apply(d,e))}return[new Float32Array(b),new Uint16Array(d),{},c]}function k(a,b,c,d,e){for(var g="solid solid_roundcap solid_squarecap dash railway dash_crewel".split(" "),h=a.Ca.slice(1),k=h.length-1;0<=k;k--)h[k].QT= k;h.sort(function(a,b){return a[2]>b[2]?1:a.QT>b.QT?1:-1});for(var m={},k=0,n=h.length;k<n;k+=1){var p=h[k],q=p[1].split("&"),t,u,w,x,y;t=u=w=x=y=null;var A,C,K,N,V=null,R=!1;A=C=K=N=null;q[1]&&(t=r(q[1]));u=parseInt(q[0]);w=q[2];w!==g[0]&&(w===g[1]?A="round":w===g[2]?A="square":0===w.indexOf(g[5])?(V=!0,K=[3,2]):0===w.indexOf(g[3])?(K=w.substring(5).split(")")[0].split(","),K.forEach(function(a,b){K[b]*=e})):0===w.indexOf(g[4])&&(x=t,t=q[4]?r(q[4]):[1,1,1,t[3]],K=[12,12],R=!0,y=3,u=1));q[3]&&q[4]&& 3<q.length&&(y=u+parseInt(q[3]),x=r(q[4]),w=q[5],w!==g[0]&&(w===g[1]?C="round":w===g[2]?C="square":0!==w.indexOf(g[5])&&0===w.indexOf(g[3])&&(y+=1,N=w.substring(5).split(")")[0].split(","),N.forEach(function(a,b){N[b]*=e}))));if(c){if(K)for(q=K.length-1;0<=q;q-=1)K[q]*=e;if(N)for(q=N.length-1;0<=q;q-=1)N[q]*=e}w=[];w.Bf=0;var S=[],P=[];l(w,P,S,p[0],a.qj,b,c,d,e,A);"app"===s&&(u/=4,y/=4);q=[u,t,K,y,x,N,V,R,A,C,p[3],p[4]];q.Oja=!0;p=p[2];m[p]||(m[p]=[]);S.sq=!0;m[p].push([new Float32Array(w),new Uint16Array(P), q,S])}a.Ca=m;return a}function l(a,b,c,d,e,g,h,k,l,m){for(var n=0,p=d.length;n<p;n+=1){var q=a.length/11,r=q+6,s=u(d[n],w,g),x=t(s,e,k);if(1<x[1].length){for(var s=x[0],y=x[2],A=0,x=x[1].length;A<x;A+=1){if(0<A){var C=s[2*A]-s[2*A-2],K=s[2*A+1]-s[2*A-1];a.Bf+=Math.sqrt(C*C+K*K)*(h?l:1)}var C=s[2*A],K=s[2*A+1],N=y[A][0],V=y[A][1],R,S;A===x-1?(R=s[2*x-2],S=s[2*x-1]):(R=s[2*A+2],S=s[2*A+3]);var P,T;0===A?(P=C,T=K):(P=s[2*A-2],T=s[2*A-1]);if(0!==A){var W=A===x-1?0:-1;a.push(C,K,N,V,1,P,T,W,R,S,a.Bf); a.push(C,K,N,V,-1,P,T,W,R,S,a.Bf)}else a.push(C,K,N,V,0,P,T,0,R,S,a.Bf),a.push(C,K,N,V,1,P,T,0,R,S,a.Bf),a.push(C,K,N,V,1,P,T,1,R,S,a.Bf),a.push(C,K,N,V,0,P,T,1,R,S,a.Bf),a.push(C,K,N,V,-1,P,T,1,R,S,a.Bf),a.push(C,K,N,V,-1,P,T,0,R,S,a.Bf),m&&(b.push(q+2,q+0,q+3),b.push(q+2,q+1,q+0),b.push(q+3,q+0,q+4),b.push(q+4,q+0,q+5));A!==x-1?(W=0===A?0:1,a.push(C,K,N,V,1,P,T,W,R,S,a.Bf),a.push(C,K,N,V,-1,P,T,W,R,S,a.Bf)):(a.push(C,K,N,V,0,P,T,0,R,S,a.Bf),a.push(C,K,N,V,1,P,T,0,R,S,a.Bf),a.push(C,K,N,V,1,P,T, -1,R,S,a.Bf),a.push(C,K,N,V,0,P,T,-1,R,S,a.Bf),a.push(C,K,N,V,-1,P,T,-1,R,S,a.Bf),a.push(C,K,N,V,-1,P,T,0,R,S,a.Bf));A!==x-1?(b.push(r+4*A,r+4*A+3,r+4*A+1),b.push(r+4*A,r+4*A+2,r+4*A+3)):m&&(C=r+4*(x-1),b.push(C+1,C+2,C+0),b.push(C+2,C+3,C+0),b.push(C+0,C+4,C+5),b.push(C+0,C+3,C+4))}c.push(y)}}}function m(a,b,c,d,e,g){for(var h=0,k=d.length;h<k;h+=1){var l=[],m=[],n=u(d[h]),p=t(n,e,g);c.push(p[2]);if(1<p[1].length){var q=p[1].length;p[1].forEach(function(a,b,c){var d=c[b-1];c=c[b+1];0===b?d=a:b=== q-1&&(c=a);l.push(a[0],a[1],p[2][b][0],p[2][b][1],1,d[0],d[1],c[0],c[1]);l.push(a[0],a[1],p[2][b][0],p[2][b][1],-1,d[0],d[1],c[0],c[1]);0===b?m.push(0,1,2):b!=q-1?(m.push(2*(b-1)+1,2*b+1,2*b),m.push(2*b,2*b+1,2*(b+1))):m.push(2*(b-1)+1,2*b+1,2*b)});a.push(l);b.push(m)}}}function n(a,b,c,d,e,g,h,k){for(var l=0,m=d.length;l<m;l+=1){var n=a.length/2,p=t(u(d[l],w,g),e,h);if(2<p[1].length&&(n=C.Et(p[1],[],n),n.length&&(a.push.apply(a,p[0]),b.push.apply(b,n),c.push(p[2]),k)))for(var n=0,q=p[2].length;n< q;n+=1){var r=p[2][n][0]/512,s=p[2][n][1]/512;1==e.x%2&&(r+=0.5);1==e.y%2&&(s+=0.5);k.push(r,s)}}}function p(a,b,c){var d=a.Ca,e=[],g=[],h=[],k=[];q(a,g,h,c);for(var l=[[[0,0],[255,0],[255,255],[0,255]]],m=[[0,0],[255,0],[0,255],[255,255]],p=a.qj,t=0,s=m.length;t<s;t+=1){var u=m[t][0]/512,w=m[t][1]/512;1==p.x%2&&(u+=0.5);1==p.y%2&&(w+=0.5);k.push(u,w)}l.sq=!0;e.push([new Float32Array(g),new Uint16Array(h),r("ff"+a.yR.substr(1)),"regions:land",l,new Float32Array(k)]);d.sort(function(a,b){return"string"=== typeof a?-1:"string"===typeof b?1:a[2]>b[2]?1:a[2]<b[2]?-1:0});m=1;for(p=d.length;m<p;m+=1)t=d[m],g=[],h=[],l=[],k=[],s=r(t[1].split("&")[0]),n(g,h,l,t[0],a.qj,b,c,k),l.sq=!0,e.push([new Float32Array(g),new Uint16Array(h),s,t[3],l,new Float32Array(k)]);a.Ca=e;return a}function q(a,b,c,d){var e=a.qj;a=256*e.x*d-215440491;e=256*e.y*d-106744817;b.push(a,e);var g=256*d;d=a+g;b.push(d,e);e+=g;b.push(a,e);b.push(d,e);c.push(0,1,2,1,3,2)}function r(a){for(var b=[],c=0,d=a.length;c<d;c+=2)b.push(parseInt(a.substr(c, 2),16)/255);b.push(b.shift());return b}function t(a,b,c,d){var e=0,g=0,e=256*b.x,g=256*b.y;b=[];for(var h=[],k=[],l=0,m=a.length;l<m;l+=2){var n=(e+a[l])*c-215440491,p=(g+a[l+1])*c-106744817,q=k.length;if(d||0===b.length)k.push(n),k.push(p),b.push([n,p]),h.push([a[l],a[l+1]]);else if(n!==k[q-2]||p!==k[q-1])n===k[q-2]&&n===k[q-4]?(k[q-1]=p,b[b.length-1][1]=p,h[b.length-1][1]=a[l+1]):p===k[q-1]&&p===k[q-3]?(k[q-2]=n,b[b.length-1][0]=n,h[b.length-1][0]=a[l]):(k.push(n),k.push(p),b.push([n,p]),h.push([a[l], a[l+1]]))}return[k,b,h]}function u(a,b,c){var d="ASDFGHJKLQWERTYUIO!sdfghjkleiu3~yr5-P&mq9`%zCN*b=8@^xpVM";b=b||"v5";var e,g;"v5"<b?(e=d.length,g=512):(e=27,d=d.substr(0,27),g=333);var h,k,l,m,n;k=[];l=NaN;m=0;for(n=a.length;m<n;m++)h=a[m],h=d.indexOf(h),isNaN(l)?l=h*e:(h=l+h-g,18===c&&"v5"<b&&(h/=4),k.push(h),l=NaN);return k}var w,x=Number.EPSILON||2E-16,s,y=!1,A=null,C={ef:function(a){for(var b=a.length,c=0,d=b-1,e=0;e<b;d=e++)c+=a[d][0]*a[e][1]-a[e][0]*a[d][1];return 0.5*c},NK:function(){return function(a, b){var c=a.length;if(3>c)return null;var d=[],e=[],g=[],h,k,l;if(0<C.ef(a))for(k=0;k<c;k++)e[k]=k;else for(k=0;k<c;k++)e[k]=c-1-k;var m=2*c;for(k=c-1;2<c&&!(0>=m--);){h=k;c<=h&&(h=0);k=h+1;c<=k&&(k=0);l=k+1;c<=l&&(l=0);var n;a:{var p=n=void 0,q=void 0,t=void 0,r=void 0,s=void 0,u=void 0,w=void 0,y=void 0,p=a[e[h]][0],q=a[e[h]][1],t=a[e[k]][0],r=a[e[k]][1],s=a[e[l]][0],u=a[e[l]][1];if(x>(t-p)*(u-q)-(r-q)*(s-p))n=!1;else{var A=void 0,N=void 0,V=void 0,R=void 0,S=void 0,P=void 0,T=void 0,W=void 0,ca= void 0,ia=void 0,ca=W=T=y=w=void 0,A=s-t,N=u-r,V=p-s,R=q-u,S=t-p,P=r-q;for(n=0;n<c;n++)if(w=a[e[n]][0],y=a[e[n]][1],!(w===p&&y===q||w===t&&y===r||w===s&&y===u)&&(T=w-p,W=y-q,ca=w-t,ia=y-r,w-=s,y-=u,ca=A*ia-N*ca,T=S*W-P*T,W=V*y-R*w,ca>=-x&&W>=-x&&T>=-x)){n=!1;break a}n=!0}}if(n){d.push([a[e[h]],a[e[k]],a[e[l]]]);g.push([e[h],e[k],e[l]]);h=k;for(l=k+1;l<c;h++,l++)e[h]=e[l];c--;m=2*c}}return b?g:d}}(),Et:function(a,b,c,d){var e,g,h,k={};b=0;for(e=a.length;b<e;b++)h=a[b][0]+":"+a[b][1],k[h]=b;a=C.NK(a, !1);if(!a)return[];if(d)return a;var l=[];b=0;for(e=a.length;b<e;b++)for(g=a[b],d=0;3>d;d++)h=g[d][0]+":"+g[d][1],h=k[h],l.push(h+c);return l},Vaa:function(a){return 0>C.ef(a)}};return{zJ:function(e,g){function h(a){var b=a.Ca;q&&b&&1<b.length&&b.slice(1).forEach(function(b){if(b&&null===b[1]){var c=b[b.length-1],d=q[c];b[1]=d.browserStyle[d.levelStyleMapping[m]];"road"===a.hd&&(b[1]=b[1][0],b[4]=d,b[4].id=c)}})}w=e.Nk;y=e.Raa;s=e.mode;var l=y?c:d,m=e.Rs,n=e.pt,q=null;A=e.sA;var t=e.Y,r=[],u=Math.pow(2, 20-m);e.df&&(q=e.df.stylemaps);for(var x=0,C=e.ge.length;x<C;x+=1){var O=e.ge[x],$=O.hd;h(O);switch($){case "region":r.push(p(O,m,u));break;case "road":r.push(k(O,m,n,u,e.kW));break;case "building":r.push(l(O,m,n,t,u,e.f8))}}delete e.df;e.ge=r;if(a){l=[];x=0;for(C=r.length;x<C;x++)if((n=r[x].Ca)&&n.length)for(t=0,u=n.length;t<u;t++)n[t].buffer&&n[t].buffer instanceof ArrayBuffer&&l.push(n[t].buffer);a.eA(l)}g(null,{data:e})},Pca:function(a,b){for(var c=a.ge,d=Math.pow(2,20-a.bg),e=[],h=0,k=c.length;h< k;h++)e.push(g(c[h],d));a.ge=e;b(null,{data:a})},uV:function(a,b){var c=a.dt.reduce(function(a,b){return a.concat(b)},[]),c=h(c);b(null,{data:c})},rV:function(a,b){var c=a.eb,d=a.zi,e=0,g=Math.PI/180*6,h=[],k=[];h.push(c[0],c[1]);for(var l=0;60>l;l++)h.push(c[0]+d*Math.cos(e),c[1]+d*Math.sin(e)),e+=g,0<l&&k.push(0,l,l+1),59==l&&k.push(0,l+1,1);b(null,{data:[h,k]})},pka:function(){}}};v.PX=a();v.LC=new v.lu(a,{})}})(v);(function(){function a(){function a(b,c,d,e,g,k){var l=[0,0,0,0,0],n=d.slice(0,4).concat(l),p=[],r=Math.PI/180*6,B=void 0,E=void 0,B=d.slice(0,2),F=m(e),D=m(g),E=q.normalize(h(F).Ff(h(B))),z=q.normalize(h(D).Ff(h(B)));q.AI(E,k)?(B=q.kB(E),E=q.kB(z)):(B=q.kB(z),E=q.kB(E),k=[D,F],F=k[0],D=k[1],g=[g,e],e=g[0],g=g[1]);F=Math.ceil(Math.abs(E-B)/r);30<=F&&(F=60-F);for(k=0;k<F;k++)0===k?(n.push.apply(n,e.slice(0,4)),n.push.apply(n,l)):(D=(k*r+B)%(2*Math.PI),n.push.apply(n,d.slice(0,2).concat([0,0])),n.push(1* Math.cos(D),1*Math.sin(D),0,0,0)),0<k&&p.push(0,k,k+1);n.push.apply(n,g.slice(0,4));n.push.apply(n,l);p.push(0,F,F+1);var G=b.length/9;b.push.apply(b,n);c.push.apply(c,p.map(function(a){return a+G}))}function c(c,d,e,g,k){function l(a,b,c,d,e){var g=void 0;a.NA(b)||q.gU(a,b)?g=b:c&&d&&e?g=a:c&&!d&&e?g=b:c||d||e?c||!d||e?(g=q.normalize(a.Ih(b)),B=q.cos(g,a),g=g.dH(B)):g=a:g=b;return g}function n(a,b,c){if(void 0===c||!0===c)d.push(a[0],a[1]),d.push(-b.y,b.x,0,0),d.push(H,0,0);if(void 0===c||!1===c)d.push(a[0], a[1]),d.push(b.y,-b.x,0,0),d.push(H,0,0)}var p=c.length,r=0,H=0,B=void 0,E=void 0;k&&(g="bevel");c.forEach(function(c,t,z){var G=z[t-1];z=z[t+1];var I=void 0;G&&(H+=q.Od(c,G));if(0===t||t===p-1)0===t?(void 0===z&&(z=c),I=q.normalize(h(z[0]-c[0],z[1]-c[1])),e.push(0,1,2)):(I=q.normalize(h(c[0]-G[0],c[1]-G[1])),t=d.length/9+2,4===t?e.push(3,2,1):e.push(t-3-r,t-1,t-2)),n(c,I);else{var J=q.normalize(h(c[0]-G[0],c[1]-G[1])),Q=q.normalize(h(z[0]-c[0],z[1]-c[1]));t=q.normalize(J.multiply(-1).Ih(Q));E=q.AI(t, J);B=q.cos(t,J);n(c,l(J,Q,E,!0,!0),!0);n(c,l(J,Q,E,!0,!1),!1);n(c,l(J,Q,E,!1,!0),!0);n(c,l(J,Q,E,!1,!1),!1);G=d.length/9;z=G-4;var I=z+2,M=9*z,O=M+9,$=O+9,Y=$+9;E?($=m(d.slice(O,$)),M=m(d.slice(M,O)),M=q.normalize(h($).Ff(h(M))),M=Math.abs(q.cos(J,M)/q.sin(J,M)*2),d[O+7]=-M,d[Y+7]=M):(Y=m(d.slice(M,O)),O=m(d.slice(O,$)),O=q.normalize(h(Y).Ff(h(O))),O=Math.abs(q.cos(O,J)/q.sin(O,J)*2),d[M+7]=-O,d[$+7]=O);q.gU(J,Q)?e.push(z,z+1,z-2-r):e.push(z,z-1-r,z+1);"miter"==g&&(E?n(c,l(J,Q,0,!0,!0),!0):n(c,l(J, Q,0,!0,!0),!1),r=1);"round"===g&&(Q=J=c=void 0,E?(c=d.slice(9*(z+1),9*(z+2)),J=d.slice(9*z,9*(z+1)),Q=d.slice(9*I,9*(I+1))):(c=d.slice(9*z,9*(z+1)),J=d.slice(9*(z+1),9*(z+2)),Q=d.slice(9*(I+1),9*(I+2))),a(d,e,c,J,Q,t.multiply(-1)),r=d.length/9-G);e.push(I,I+1,I+2+r);k||"bevel"!=g&&"miter"!=g||(E?e.push(I,z,z+1):e.push(I,I-1,I+1),"miter"==g&&(E?e.push(I+2,I-2,I):e.push(I+2,I+1,I-1)))}})}function d(a,b,c){function d(a,b){var c=void 0;if(a.NA(b))c=b;else{var c=q.normalize(a.Ih(b)),e=q.cos(c,a);e>Math.sqrt(3)/ 2&&(e=Math.sqrt(3)/2);c=c.dH(e)}return c}function e(a,c,d){if(void 0===d||!0===d)b.push(a[0],a[1]),b.push(-c.y,c.x,0,0),b.push(l,0,0);if(void 0===d||!1===d)b.push(a[0],a[1]),b.push(c.y,-c.x,0,0),b.push(l,0,0)}for(var g=a[0],k=a[a.length-1],l=0,m=void 0;g[0]===k[0]&&g[1]===k[1]&&g!==k;)a.pop(),k=a[a.length-1];a.push(g);a.push(a[1]);a.unshift(k);var n=a.length;a.forEach(function(a,g,k){var p=k[g-1];k=k[g+1];var t=void 0;p&&(l+=q.Od(a,p));if(0===g||g===n-1)0===g?(t=q.normalize(h(k[0]-a[0],k[1]-a[1])), c.push(0,1,2)):(t=q.normalize(h(a[0]-p[0],a[1]-p[1])),g=b.length/9+2,c.push(g-3,g-1,g-2)),e(a,t);else{g=q.normalize(h(a[0]-p[0],a[1]-p[1]));k=q.normalize(h(k[0]-a[0],k[1]-a[1]));p=q.normalize(g.multiply(-1).Ih(k));m=q.AI(p,g);e(a,d(g,k),!0);e(a,d(g,k),!1);e(a,d(g,k),!0);e(a,d(g,k),!1);a=b.length/9-4;k=a+2;var t=9*a,r=t+9,y=r+9,A=y+9;g=Math.abs(q.cos(g,p)/q.sin(g,p));m?(b[t+7]=g,b[r+7]=-g,b[y+7]=-g,b[A+7]=g):(b[t+7]=-g,b[r+7]=g,b[y+7]=g,b[A+7]=-g);c.push(a,a-1,a+1);c.push(k,k+1,k+2)}})}function e(c, d,e){function g(a,b){r.push.apply(r,a.slice(0,k));r.push(b.x,b.y);r.push.apply(r,a.slice(l));r.push.apply(r,a)}var m=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"butt",n=c.length-1,p=d.length,r=[],L=[],H=[d.slice(0,9),d.slice(9,18)],B=[d.slice(p-9,p),d.slice(p-18,p-9)];"square"===m?(m=q.normalize(h(c[0]).Ff(h(c[1]))),g(H[0],m),g(H[1],m),m=q.normalize(h(c[n]).Ff(h(c[n-1]))),g(B[0],m),g(B[1],m),L.push(0,2,3,3,1,0),L.push(6,7,4,4,7,5)):"round"===m&&(m=H[0].slice(0,2).concat(0,0,0,0).concat(H[0].slice(l)), a(d,e,m,H[0],H[1],q.normalize(h(c[0]).Ff(h(c[1])))),m=B[0].slice(0,2).concat(0,0,0,0).concat(B[0].slice(l)),a(d,e,m,B[0],B[1],q.normalize(h(c[n]).Ff(h(c[n-1])))));d.push.apply(d,r);e.push.apply(e,L.map(function(a){return a+p/9}))}function g(a){var b=[];a.forEach(function(a){var c=a[0]-p[0];a=a[1]-p[1];var d=b.length-1;if(-1===d)b.push([c,a]);else if(c!==b[d][0]||a!==b[d][1])if(1<=d){var e=q.normalize(h(c-b[d][0],a-b[d][1])),g=q.normalize(h(b[d][0]-b[d-1][0],b[d][1]-b[d-1][1]));e.NA(g)?b[d]=[c,a]: b.push([c,a])}else b.push([c,a])});return b}function h(a,b){"object"===typeof a&&a.length&&(b=a[1],a=a[0]);return Object.create(r,{x:{value:a},y:{value:b}})}var k,l;function m(a){return[a[0]+n*a[2],a[1]+n*a[3]]}var n=1;k=4;l=6;var p=[215440491,106744817],q={normalize:function(a){var b=this.length(a);return a.dH(b)},Rk:function(a,b){return a.multiply(b)},XG:function(a,b){return a.x*b.y-a.y*b.x},length:function(a){return Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))},sin:function(a,b){return this.XG(a, b)/(this.length(a)*this.length(b))},cos:function(a,b){return this.Rk(a,b)/(this.length(a)*this.length(b))},AI:function(a,b){return 0<this.XG(a,b)},Od:function(a,b){return Math.sqrt(Math.pow(b[0]-a[0],2)+Math.pow(b[1]-a[1],2))},gU:function(a,b){return a.multiply(-1).NA(b)},kB:function(a){a=Math.atan2(a.y,a.x);0>=a&&(a+=2*Math.PI);return a}},r={Ih:function(a){return h(this.x+a.x,this.y+a.y)},Ff:function(a){return h(this.x-a.x,this.y-a.y)},multiply:function(a){return"number"===typeof a?h(this.x*a,this.y* a):this.x*a.x+this.y*a.y},dH:function(a){return h(this.x/a,this.y/a)},NA:function(a){var b=a.y;return this.x===a.x&&this.y===b}};return{parse:function(a,b){var h=a.lineJoin,h=void 0===h?"miter":h,k=a.lineCap,k=void 0===k?"butt":k,l=a.bba,l=void 0===l?!1:l,m=a.nm,n=void 0===m?!1:m,p=[],m=[],q=g(a.dt);l?(d(q,p,m),h=p.length,[0,1,2,h/9-1,h/9-2].forEach(function(a){p[9*a+8]=-1})):(c(q,p,m,h,n),e(q,p,m,k));b(null,{data:[new Float32Array(p),new Uint16Array(m)]})}}}v.NX=a();v.kga=new v.lu(a,{})})();v.St={Oaa:function(a,b,c){b=v.St.createProgram(a,b,c);if(!b)return console.log("Failed to create program"),!1;a.useProgram(b);a.Ja=b;return!0},createProgram:function(a,b,c){b=v.St.CU(a,a.VERTEX_SHADER,b);c=v.St.CU(a,a.FRAGMENT_SHADER,c);if(!b||!c)return null;var d=a.createProgram();if(!d)return null;a.attachShader(d,b);a.attachShader(d,c);a.linkProgram(d);return a.getProgramParameter(d,a.LINK_STATUS)?d:(console.log("Failed to link program: "+a.getProgramInfoLog(d)),a.deleteProgram(d),a.deleteShader(c), a.deleteShader(b),null)},CU:function(a,b,c){b=a.createShader(b);if(null===b)return console.log("unable to create shader"),null;a.shaderSource(b,c);a.compileShader(b);return a.getShaderParameter(b,a.COMPILE_STATUS)?b:(console.log("Failed to compile shader: "+a.getShaderInfoLog(b)),a.deleteShader(b),null)}};v.Q.Ve.Jc=v.Q.td.Th.extend({ga:[v.iu],B:function(a,b){this.Xj=20;this.kb=Math.min(2,window.devicePixelRatio||1);this.qo=1;arguments.callee.na.apply(this,arguments);this.X("mapStyle",a.j);this.X("style",a.j);this.qi=this.pi=!0;a.j.K.bo&&this.ru(a,b);this.Bl=0;this.Uf={};this.jB()||this.set("reload")},hZ:"precision highp float;attribute vec4 a_Position;attribute vec3 a_op,a_Next,a_Previous;attribute float a_Tags;uniform float u_xDelta,u_width;uniform lowp int u_type;uniform mat4 u_othMatrix,u_zoomMatrix,u_modelMatrix;uniform float u_scale;varying float v_distance;varying vec2 v_op;varying float v_TB;varying float v_cap;varying lowp float v_Tags;void main() {vec4 position=a_Position;position.x+=u_xDelta;if (u_type==0) {gl_Position=u_othMatrix*u_zoomMatrix*u_modelMatrix*position;}else if(u_type>1) {v_op=a_op.xy;v_TB=a_op.z;vec3 curPos=position.xyz;v_distance=a_Next.z;float ddis=0.0;vec3 previous=vec3(a_Previous.x+u_xDelta,a_Previous.y,0);vec3 next=vec3(a_Next.x+u_xDelta,a_Next.y,0);vec4 up,dir;v_distance *= u_scale;if(previous==curPos){ dir= vec4(normalize(next-curPos).xy,0,0);}else if(next==curPos){dir= -vec4(normalize(previous-curPos).xy,0,0);}else {vec3 dir0=previous-curPos;vec3 dir1=next-curPos;vec3 dir2=normalize(dir0);vec3 dir3=normalize(dir1);float f0=dir0.x*dir1.y-dir1.x*dir0.y;dir = vec4(0); v_cap=1.0;if(f0==0.0){up = vec4(dir3.y,-dir3.x,0,0); }else{vec3 dir4=normalize(dir2+dir3);float sinA=length(cross(dir4,dir2));float cosA=dot(dir4,dir2);if(sinA<0.5){sinA=0.5;}up= vec4(dir4,0)/sinA;ddis=abs(length(up)*cosA*u_width*0.5);if(f0<0.0){up=-up;ddis=-ddis;}v_distance += v_TB*a_Previous.z*ddis;}}if(previous==curPos||next==curPos){ up = vec4(dir.y,-dir.x,0,0); if(u_type==4){v_cap=sqrt(v_TB*v_TB+a_Previous.z*a_Previous.z);}else if(u_type==3){v_cap=1.0;}else{dir = vec4(0);}}vec4 pos=u_zoomMatrix*u_modelMatrix*position;pos=pos+(up*v_TB-dir*a_Previous.z)*u_width*0.5;gl_Position=u_othMatrix*pos;}else if (u_type==1) {v_Tags=a_Tags;gl_Position=u_othMatrix*u_zoomMatrix*u_modelMatrix*position;}}", mY:"precision lowp float;uniform vec4 u_FragColor,u_FragColor2;varying lowp float v_distance,v_TB;varying vec2 v_op;varying lowp float v_Tags;varying float v_cap;uniform lowp int u_type;uniform int u_isDash,u_onlyBorder;uniform vec4 u_dash;void main() {vec4 color=u_FragColor;if (u_type==0) {}else if(u_type>1) {if(v_op.x<-0.2||v_op.x>256.2||v_op.y<-0.2||v_op.y>256.2){discard;}if(v_cap>1.0){discard;}if(u_isDash==1){float all = u_dash[0] + u_dash[1] + u_dash[2] + u_dash[3];float off = mod(v_distance - u_dash[0], all);if(off> u_dash[0]&&off<=(u_dash[0]+u_dash[1])||off>(all-u_dash[3])){discard;}}if(u_onlyBorder==1&&v_TB<=0.7&&v_TB>=-0.7){discard;}}else if(u_type==1) {color=v_Tags==3.0?u_FragColor2:vec4((u_FragColor+(u_FragColor2-u_FragColor)*v_Tags/3.0).xyzw);}gl_FragColor=color;}", reloadChanged:function(){this.q&&(this.q.wa=!1);this.ta.clear();this.za&&this.za.parentNode&&this.za.parentNode.removeChild(this.za);this.set("display")},GB:function(a){if(this.q&&a.HI===this.q.oe)for(var b=0,c=a.ge.length;b<c;b+=1)this.Tw(a.ge[b],a.Rs,a.pt,a.Y)},SJ:function(a){for(var b=0,c=a.length;b<c;b+=1){var d=a[b];this.j.oj&&d[3]&&!this.j.Zb&&(d[2]=this.T.On(d[2],d[3]));d.Ie=d[1].length;d[0]=this.Ye(this.Ia.ARRAY_BUFFER,d[0]);d[1]=this.Ye(this.Ia.ELEMENT_ARRAY_BUFFER,d[1])}},dK:function(a){for(var b= 0,c=a.length;b<c;b+=1){var d=a[b];d.Ie=d[1].length;d[0]=this.Ye(this.Ia.ARRAY_BUFFER,d[0]);d[1]=this.Ye(this.Ia.ELEMENT_ARRAY_BUFFER,d[1]);this.j.oj&&d[2][10]&&!this.j.Zb&&(d[2][1]=this.T.Zi(d[2][1],d[2][10],1),d[2][4]=this.T.Zi(d[2][4],d[2][10],0))}},FG:function(a){for(var b=0,c=a.length;b<c;b+=1){var d=a[b];d.Pw=d[0].length/3;d[0]=this.Ye(this.Ia.ARRAY_BUFFER,d[0]);d.yB=d[1].length/3;d[1]=this.Ye(this.Ia.ARRAY_BUFFER,d[1]);d.Qw=d[2].length/3;d[2]=this.Ye(this.Ia.ARRAY_BUFFER,d[2]);if(this.j.oj&& d[3][2]&&!this.j.Zb){var e=this.T.Tp(d[3][0],d[3][1],d[3][2]);d[3][0]=e[0];d[3][1]=e[1]}}},Ye:function(a,b){if(b.length){var c=this.Ia,d=c.createBuffer();c.bindBuffer(a,d);c.bufferData(a,b,c.STATIC_DRAW);return d}},PS:function(a){var b=a.la,c=b.x,d=b.y,e=b.z,g=Math.pow(2,e),h=(c+g)%g,k=h+g,l=h-g,m=null;h!==c&&(m=this.aq(e,h,d));m||l===c||(m=this.aq(e,l,d));m||k===c||(m=this.aq(e,k,d));return m?(a.status=m.status,a.Aa=m.Aa,a.bc=m.bc,a.Bc=m.Bc,a.Ma={building:m.Ma.building,region:m.Ma.region,road:m.Ma.road, am:(b.x-m.la.x)/g+m.Ma.am},!0):!1},aq:function(a,b,c){if((a=this.ta.get(a+"/"+b+"/"+c))&&a.Ma)return a},Tw:function(a){var b=a.hd,c=this.ta.get(a.qk);if(c){c.Ma||(c.Ma={am:0});c.Ma[b]=a.Ca;if("region"===b)this.SJ(a.Ca);else if("road"===b)for(var d in a.Ca)a.Ca.hasOwnProperty(d)&&this.dK(a.Ca[d]);else"building"===b&&(this.FG(a.Ca),a.gk&&a.gk.length&&!c.wg&&(c.wg={},c.wg.pe=a.gk,v.Pm&&v.Pm.r("vecTileParsed.buildings",{xx:c})));b===this.q.Ra[this.q.Ra.length-1]&&(c.Aa=!0,this.set("display"))}},md:function(){if(this.Vf&& !this.q.wa){var a=this.q;v.Bd.Td.end({id:this.j.K.id,key:"rb",index:2});a.wa=!0;a.yc?a.fa("renderComplete"):(a.yc=!0,a.fa("complete"))}},ac:function(a,b){this.yj=a.yj;this.kl(a,b);this.md();a.Hs||(a.O7=this.Vf,this.nt(a,b),this.eo=this.Za,this.Kh&&this.set("display",0))},jh:function(){return this.za},Sw:function(){v.Q.Ve.Jc.Bn+=1;this.za&&v.C.I(this.za,"webglcontextlost",this.Sw,this);this.za.parentNode&&this.za.parentNode.removeChild(this.za);if(1<v.Q.Ve.Jc.Bn)this.EB();else{var a=this.za.className; this.za=document.createElement("canvas");this.za.className=a;this.jB()}this.set("reload");new v.Na.$a(v.A.$b+"://webapi.amap.com/count?"+["type=glfail","c="+v.Q.Ve.Jc.Bn,"crd="+v.l.fI,"k="+v.A.key,"u="+v.A.qn,"m="+(v.l.Y?1:0),"pf="+v.l.wq,"dpr="+window.devicePixelRatio,"scale="+(v.l.HC||0),"detect="+v.l.ia].join("&"))},EB:function(){v.l.ag=!1;this.q&&this.q.j.K&&(this.q.j.set("baseRender",v.l.zS?"dv":"d"),this.q.j.K.TI(),this.q.Q=null,this.q.ma.wo(),this.q=null);this.za=this.T=null},jf:function(a){this.za= document.createElement("canvas");this.za.className=a||"amap-layer"},jB:function(){if(1<v.Q.Ve.Jc.Bn)return this.EB(),!1;var a=this.Ia=this.za.getContext(v.l.MX,v.l.OX);if(a)v.C.g(this.za,"webglcontextlost",this.Sw,this);else return this.EB(),!1;v.St.Oaa(a,this.hZ,this.mY);this.bL=a.getUniformLocation(a.Ja,"u_xDelta");this.AX=a.getUniformLocation(a.Ja,"u_othMatrix");this.DX=a.getUniformLocation(a.Ja,"u_zoomMatrix");this.zX=a.getUniformLocation(a.Ja,"u_modelMatrix");this.cf=a.getAttribLocation(a.Ja, "a_Position");this.Vi=a.getAttribLocation(a.Ja,"a_op");this.Ui=a.getAttribLocation(a.Ja,"a_Previous");this.Xg=a.getAttribLocation(a.Ja,"a_Next");this.Zr=a.getAttribLocation(a.Ja,"a_Tags");a.enableVertexAttribArray(this.cf);this.Km=a.getUniformLocation(a.Ja,"u_FragColor");this.OK=a.getUniformLocation(a.Ja,"u_FragColor2");this.tj=a.getUniformLocation(a.Ja,"u_type");this.Mx=a.getUniformLocation(a.Ja,"u_width");this.UK=a.getUniformLocation(a.Ja,"u_isDash");this.VK=a.getUniformLocation(a.Ja,"u_onlyBorder"); this.RK=a.getUniformLocation(a.Ja,"u_dash");this.ZK=a.getUniformLocation(a.Ja,"u_scale");a.enable(a.BLEND);a.enable(a.CULL_FACE);a.cullFace(a.FRONT);a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD);a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);a.clearColor(0,0,0,0);this.$s=this.ls=this.nm=void 0;this.wj=0;return!0},Bq:function(a){var b=Math.pow(2,a.V.zoom-this.Yd),c=a.V.Za.Va(this.eo).mc(this.Lh);this.transform={translate:this.transform[0].translate.add(c),scale:b, rotate:0};this.Za=a.V.Za},nt:function(a,b){var c=this.wG(a,b),d=this.Ia;d.clear(d.COLOR_BUFFER_BIT);var e=this.q.ia?this.kb:this.qo,g=0,h=0;0!==a.V.rotation?(g=2*Math.floor(a.V.pa.Mb.x)*e,h=2*Math.floor(a.V.pa.Mb.y)*e):(g=a.size.width*e,h=a.size.height*e);g&&h&&(this.za.width=g,this.za.height=h,d.viewport(0,0,this.za.width,this.za.height),this.xo.apply(this,c),this.Rd(a))},zo:256*Math.pow(2,20),kH:function(a,b){var c=b.Ma.region;if(c){this.Tl(b.Ma.am*this.zo);for(var d=0;d<c.length;d+=1){var e=c[d], g=e[2],h=e[3];h&&this.j.Zb&&(g=this.T.On(g,h),e.Sc=g);g&&(a.bindBuffer(a.ARRAY_BUFFER,e[0]),a.vertexAttribPointer(this.cf,2,a.FLOAT,!1,8,0),a.uniform4f(this.Km,g[0],g[1],g[2],g[3]),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,e[1]),a.drawElements(a.TRIANGLES,e.Ie,a.UNSIGNED_SHORT,0))}}},lH:function(a,b){var c=this.q.ia?this.kb:this.qo,d;for(d in b)if(b.hasOwnProperty(d)){for(var e=b[d],g=0;g<e.length;g+=1){var h=e[g],k=h[2],l=k[4],m=k[10];m&&this.j.Zb&&(l=this.T.Zi(l,m,0),h.Sc=l);if(l){m="square"===h[2][9]? 3:"round"===h[2][9]?4:2;a.uniform1i(this.tj,m);var n=this.Lu(k)[1];n&&(this.Tl(h.wj*this.zo),a.bindBuffer(a.ARRAY_BUFFER,h[0]),a.vertexAttribPointer(this.cf,2,a.FLOAT,!1,44,0),a.vertexAttribPointer(this.Vi,3,a.FLOAT,!1,44,8),a.vertexAttribPointer(this.Ui,3,a.FLOAT,!1,44,20),a.vertexAttribPointer(this.Xg,3,a.FLOAT,!1,44,32),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,h[1]),h=h.Ie,a.uniform1f(this.Mx,n*c),a.uniform4f(this.Km,l[0],l[1],l[2],l[3]),this.Sl(k[5]?1:0,k[5],0),a.drawElements(a.TRIANGLES,h,a.UNSIGNED_SHORT, 0))}}for(g=0;g<e.length;g+=1)if(h=e[g],k=h[2],l=this.Lu(k)[0])n=k[1],(m=k[10])&&this.j.Zb&&(n=this.T.Zi(n,m,1),h.Sc=n),n&&(m="square"===h[2][8]?3:"round"===h[2][8]?4:2,a.uniform1i(this.tj,m),this.Tl(h.wj*this.zo),a.bindBuffer(a.ARRAY_BUFFER,h[0]),a.vertexAttribPointer(this.cf,2,a.FLOAT,!1,44,0),a.vertexAttribPointer(this.Vi,3,a.FLOAT,!1,44,8),a.vertexAttribPointer(this.Ui,3,a.FLOAT,!1,44,20),a.vertexAttribPointer(this.Xg,3,a.FLOAT,!1,44,32),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,h[1]),h=h.Ie,a.uniform1f(this.Mx, l*c),a.uniform4f(this.Km,n[0],n[1],n[2],n[3]),this.Sl(k[2]?1:0,k[2],k[6]?1:0),a.drawElements(a.TRIANGLES,h,a.UNSIGNED_SHORT,0))}},Kc:new v.G(215440491,106744817),xo:function(a,b,c){if(a.length){this.bc+=1;b=this.za.width;c=this.za.height;var d=this.Ia;b=(new v.Kf).FW(-b/2,b/2,c/2,-c/2,0);c=Math.pow(2,this.zoom-this.Xj)*(this.q.ia?this.kb:this.qo);c=(new v.Kf).scale(c,c,1);var e=this.Za.mc(this.S/Math.pow(2,this.Xj-this.zoom)).Va(this.Kc),e=(new v.Kf).translate(-e.x,-e.y,0);d.uniformMatrix4fv(this.AX, !1,b.elements);d.uniformMatrix4fv(this.DX,!1,c.elements);d.uniformMatrix4fv(this.zX,!1,e.elements);d.uniform1f(this.ZK,Math.pow(2,this.zoom-this.Xj)*(this.q.ia?this.kb:1));b=this.Vm=[];for(c=a.length-1;0<=c;c-=1){e=a[c];d.disableVertexAttribArray(this.Vi);d.disableVertexAttribArray(this.Ui);d.disableVertexAttribArray(this.Xg);d.disableVertexAttribArray(this.Zr);this.Sl(0,void 0,void 0);d.uniform1i(this.tj,0);this.Tl(0);for(var g=0,h=e.length;g<h;g+=1){var k=e[g];e[g].Ma&&(k.bc=this.bc,b.push(k),this.kH(d, k))}d.enableVertexAttribArray(this.Vi);d.enableVertexAttribArray(this.Ui);d.enableVertexAttribArray(this.Xg);d.disableVertexAttribArray(this.Zr);if(e.length){for(var l={},g=0,h=e.length;g<h;g+=1){var k=e[g],m=k.Ma.road;if(m)for(var n in m)if(m.hasOwnProperty(n)){l[n]||(l[n]=[]);for(var p=0,q=m[n].length;p<q;p+=1)m[n][p].wj=k.Ma.am,l[n].push(m[n][p])}}this.lH(d,l,e[0].la.z)}if(!(14>this.zoom))for(d.uniform1i(this.tj,1),this.Sl(0,void 0,void 0),d.disableVertexAttribArray(this.Vi),d.disableVertexAttribArray(this.Ui), d.disableVertexAttribArray(this.Xg),d.enableVertexAttribArray(this.Zr),g=0,h=e.length;g<h;g+=1)k=e[g],k.Ma.building&&this.JA(d,k)}}},JA:function(a,b){for(var c=b.Ma.building,d=0;d<c.length;d+=1){var e=c[d],g=e[3][0],h=e[3][1];if(!e||!g)break;var k=e[3][2];k&&this.j.Zb&&(h=this.T.Tp(g,h,k),g=h[0],h=h[1],e.Sc=g);if(g||h)g||(g=[0,0,0,0]),h||(h=[0,0,0,0]),a.uniform4f(this.OK,g[0],g[1],g[2],g[3]),a.uniform4f(this.Km,h[0],h[1],h[2],h[3]),e.Pw&&(a.bindBuffer(a.ARRAY_BUFFER,e[0]),a.vertexAttribPointer(this.cf, 2,a.FLOAT,!1,12,0),a.vertexAttribPointer(this.Zr,1,a.FLOAT,!1,12,8),a.drawArrays(a.TRIANGLES,0,e.Pw)),e.Qw&&(a.bindBuffer(a.ARRAY_BUFFER,e[2]),a.vertexAttribPointer(this.cf,2,a.FLOAT,!1,12,0),a.vertexAttribPointer(this.Zr,1,a.FLOAT,!1,12,8),a.drawArrays(a.LINES,0,e.Qw)),e.yB&&(a.bindBuffer(a.ARRAY_BUFFER,e[1]),a.vertexAttribPointer(this.cf,2,a.FLOAT,!1,12,0),a.vertexAttribPointer(this.Zr,1,a.FLOAT,!1,12,8),a.drawArrays(a.TRIANGLES,0,e.yB))}},Sl:function(a,b,c){var d=this.Ia;a!==this.nm&&(d.uniform1i(this.UK, a),this.nm=a);a&&b!==this.ls&&(this.ls=b,d.uniform4f(this.RK,b[0],b[1],b[2]||0,b[3]||0));c!==this.$s&&(d.uniform1i(this.VK,c),this.$s=c)},Tl:function(a){a!==this.wj&&(this.Ia.uniform1f(this.bL,a),this.wj=a)},Rd:function(){this.transform={translate:{x:this.za.width/2,y:this.za.height/2},scale:this.q.ia?1/this.kb:1/this.qo,rotate:0}},hG:function(a,b,c){var d=null;if(a.length&&c)d=a[11].id+"-"+c,this.Uf[d]&&(a[0]=this.Uf[d][0],a[3]=this.Uf[d][3]);else return c=[],b&&b[0]&&(c=b[0].split("&")),(b=c[2])&& 0===b.indexOf("railway")?(a[0]=1,a[3]=3):a[0]=parseInt(c[0])||0,c[3]&&c[4]&&3<c.length?(a[3]=a[0]+parseInt(c[3]),0===v.a.indexOf(c[5],"dash")&&(a[3]+=1)):a[3]=0,d&&void 0===this.Uf[d]&&(this.Uf[d]=[a[0],0,0,a[3]]),a},Lu:function(a){function b(a,b,c){var d;a&&b?d=a+c%1*(b-a):0===a&&b?d=Math.max(0,c%1-0.5)/0.5*b:0===a&&0===b?d=0:0!==a&&0===b&&(d=0);return v.a.od(d,3)}var c=a[11].browserStyle,d=a[11].levelStyleMapping;if(18<this.zoom){var e=this.Yh(a,18,c,d);a=Math.pow(2,this.zoom-18);return[e[0]*a, e[3]*a]}if(v.a.fU(this.zoom))return e=this.Yh(a,this.zoom,c,d),[e[0],e[3]];e=this.Yh(a,Math.floor(this.zoom),c,d);c=this.Yh(a,Math.ceil(this.zoom),c,d);a=b(e[0],c[0],this.zoom);e=b(e[3],c[3],this.zoom);return[a,e]},Yh:function(a,b,c,d){a=a[11].id+"-"+b;this.Uf[a]||(this.Uf[a]=this.hG([],c[d[b]]));return this.Uf[a]}});v.Q.Ve.Jc.Bn=0; ');_jsload_('AMap.Autocomplete', 'v.sL=v.aa.extend({Kg:".amap-sug-result{position:absolute;z-index:1024;background-color:#fefefe;border:1px solid #d1d1d1;bottom:auto}.auto-item:hover{background-color:#cae1ff}.auto-item{white-space:nowrap;font-size:12px;cursor:pointer;padding:4px}.auto-item-span{color:#c1c1c1;padding-left:4px}",ga:[v.ja],B:function(a){this.CLASS_NAME="AMap.Autocomplete";v.e.cb(this.CLASS_NAME,a);this.L=a||{};this.url=v.A.gd+"/v3/assistant/inputtips";void 0==this.L.closeResultOnScroll&&(this.L.closeResultOnScroll=!0); void 0==this.L.outPutDirAuto&&(this.L.outPutDirAuto=!0);this.L.nc&&("string"===typeof this.L.output?this.nc=document.getElementById(this.L.output):v.a.nB(this.L.output)&&(this.nc=this.L.output));if(this.L.input){"string"===typeof this.L.input?this.input=document.getElementById(this.L.input):v.a.nB(this.L.input)&&(this.input=this.L.input);this.input&&this.Laa();this.nc||(this.nc=v.h.create("div",document.body,"amap-sug-result"),this.nc.style.visibility="hidden",this.ZU=!0);var b=this;a=function(){b.nc.style.visibility= "hidden"};var c=v.h.getElementsByClassName("amap-maps");if(c&&c.length)for(var d=0;d<c.length;d+=1)v.C.g(c[d],"click",a);v.C.g(document,"click",a);v.C.g(document,"mousewheel",a);v.C.g(window,"resize",this.NB,this);this.L.closeResultOnScroll?v.C.g(window,"scroll",this.closeResult,this):v.C.g(window,"scroll",this.NB,this)}},closeResult:function(){this.nc&&(this.nc.style.visibility="hidden")},Laa:function(){"oninput"in this.input&&v.C.g(this.input,"input",this.ica,this);v.C.g(this.input,"keyup",this.oca, this);v.C.g(this.input,"keydown",function(a){v.C.stopPropagation(a)},this)},ica:function(){this.nc&&this.vR()},oca:function(a){var b=(a||window.event).keyCode;if(a=this.nc){var c=a.DA;40===b?a.qh&&a.qh.length&&(a.childNodes[c]&&(a.childNodes[c].style.background=""),c=(c+1)%a.qh.length,a.DA=c,a.childNodes[c].style.background="#CAE1FF",this.input.value=a.qh[c].name,this.r("choose",{poi:this.nc.qh[c]})):38===b?a.qh&&a.qh.length&&(a.childNodes[c]&&(a.childNodes[c].style.background=""),c=(c-1+a.qh.length)% a.qh.length,a.DA=c,a.childNodes[c].style.background="#CAE1FF",this.input.value=a.qh[c].name,this.r("choose",{poi:this.nc.qh[c]})):13===b?(a=this.nc)&&-1!==a.DA&&this.wW(c):"oninput"in this.input||this.vR()}},wW:function(a){var b=this.input;if(this.nc&&this.nc.qh){var c=this.nc.qh[a].name;this.r("select",{poi:this.nc.qh[a]});b.value=c;this.nc.qh="";this.nc.style.display="none"}},vR:function(){var a=this.input.value;0<a.length?this.uU!==a&&this.search(a):(this.uU="",this.nc.style.display="none")},jK:function(a){this.L.noshowDistrict= a},M7:function(a){this.nc.innerHTML="";var b=this,c=document.createDocumentFragment();if(a&&0<a.length&&this.input){for(var d=function(a){b.wW(a.target.MV)},e=0;e<a.length;e++){var g=v.h.create("div",c,"auto-item");g.id="amap-sug"+e;g.MV=e;v.h.fillText(g,a[e].name);v.C.g(g,"click",d);b.L.noshowDistrict||(g=v.h.create("span",g,"auto-item-span"),v.h.fillText(g,a[e].district),g.MV=e)}this.nc.DA=-1;this.nc.qh=a;this.nc.appendChild(c);this.nc.style.display="block";this.nc.style.visibility="visible"}else this.nc.style.visibility= "hidden";this.ZU&&this.NB()},setType:function(a){v.e.add(this.CLASS_NAME,"setType");this.L.type=a},setLang:function(a){v.e.add(this.CLASS_NAME,"setLang");this.L.lang=a||"zh_cn"},getLang:function(){return this.L.lang},setCity:function(a){v.e.add(this.CLASS_NAME,"setCity");this.L.city=a},setCityLimit:function(a){this.L.citylimit=a},search:function(a,b){v.e.add(this.CLASS_NAME,"search");if(a){this.uU=a;var c=["s=rsv3"];c.push("key="+v.A.key);this.L.datatype&&c.push("datatype="+this.L.datatype);this.$m(this.L, {city:"city",type:"type",citylimit:"citylimit",lang:"language"},c);var d=this,c=new v.Na.$a(d.url+(0<c.length?"?"+c.join("&"):""),{callback:"callback",MA:{keywords:a}});c.g("complete",function(a){d.Wb(a,b)},d);c.g("error",function(a){d.Bb(a,b)},d)}else b&&"function"===typeof b&&b("error","NO_PARAMS")},Bb:function(a,b){X.event.M(this,"error",a);b&&"function"===typeof b&&b("error",a.info)},tb:function(a){a=parseInt(a,10);return isNaN(a)?0:a},IB:function(a){return a instanceof Array&&!a.length?"":a}, Wb:function(a,b){var c;if(parseInt(a.status,10))if(a.tips&&0!==a.tips.length){for(c=0;c<a.tips.length;c+=1){var d=a.tips[c];d.location&&d.location.length&&(d.location=v.a.xa(d.location.split(",")));d.location=this.IB(d.location);d.adcode=this.IB(d.adcode);d.district=this.IB(d.district);d.id=this.IB(d.id)}c={info:a.info,count:this.tb(a.count),tips:a.tips};X.event.M(this,"complete",c);b&&"function"===typeof b&&b("complete",c);this.input&&this.M7(a.tips)}else this.nc&&(this.nc.innerHTML="",this.nc.style.visibility= "hidden"),c={info:"ok"===a.info.toLowerCase()?"NO_DATA":a.info},X.event.M(this,"complete",c),b&&"function"===typeof b&&b("no_data",{});else c={info:a.info},X.event.M(this,"error",c),b&&"function"===typeof b&&b("error",a.info)},NB:function(){var a=this.input.getBoundingClientRect(),b=this.nc.getBoundingClientRect(),c=b.height;void 0===c&&(c=b.bottom-b.top);b=a.width;void 0===b&&(b=a.right-a.left);var d=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;this.nc.style.left= a.left+(document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft)-1+"px";var e=document.documentElement.clientHeight;this.nc.style.top=this.L.outPutDirAuto&&a.bottom+c+10>e&&a.bottom>c?a.top+d-c-2+"px":a.bottom+d+2+"px";this.nc.style.minWidth=b+2+"px";return this},$m:function(a,b,c){for(var d in a)"undefined"!==typeof a[d]&&"undefined"!==typeof b[d]&&c.push(b[d]+"="+a[d])}});window.AMap.Autocomplete=v.sL; ');_jsload_('AMap.PlaceSearch', 'v.iy=v.aa.extend({ga:[v.ja],B:function(a){this.CLASS_NAME="AMap.PlaceSearch";v.e.cb(this.CLASS_NAME,a);this.L=v.extend({showCover:!0,autoFitView:!0},a||{});this.L.pageIndex=this.L.pageIndex||1;this.L.pageSize="number"!==typeof this.L.pageSize||0>this.L.pageSize?10:50<this.L.pageSize?50:this.L.pageSize;this.url=v.A.gd+"/v3/place";this.VJ=this.L.renderEngine||"PlaceSearchRenderByMarkerList";if(this.L.map||this.L.panel)v.fb.load("AMap."+this.VJ),this.L.extensions="all";this.L.children&&(this.L.extensions= "all")},clear:function(){v.e.add(this.CLASS_NAME,"clear");this.Q&&this.Q.clear()},setLang:function(a){v.e.add(this.CLASS_NAME,"setLang");this.L.lang=a||"zh_cn"},getLang:function(){return this.L.lang},search:function(a,b){var c=["s=rsv3","children="+(this.L.children?"1":"")];c.push("key="+v.A.key);this.$m(this.L,{city:"city",rankBy:"sortrule",type:"types",pageIndex:"page",pageSize:"offset",extensions:"extensions",citylimit:"citylimit"},c);this.zz(this.url+"/text",c,b,{keywords:a||""},"KEYWORD",arguments)}, searchInBounds:function(a,b,c){v.e.add(this.CLASS_NAME,"searchInBounds");if(b){var d=["polygon="+b,"s=rsv3","children="+(this.L.children?"1":"")];d.push("key="+v.A.key);this.$m(this.L,{city:"city",rankBy:"sortrule",type:"types",pageIndex:"page",pageSize:"offset",extensions:"extensions",citylimit:"citylimit"},d);this.zz(this.url+"/polygon",d,c,{keywords:a||""},"POLYGON",arguments)}else v.event.M(this,"error",{info:"NO_PARAMS"}),c&&"function"===typeof c&&c("error","NO_PARAMS")},searchNearBy:function(a, b,c,d){v.e.add(this.CLASS_NAME,"searchNearBy");if(b){b=v.a.xa(b);var e=["location="+b,"s=rsv3","children="+(this.L.children?"1":"")];e.push("key="+v.A.key);c&&e.push("radius="+c);this.$m(this.L,{city:"city",rankBy:"sortrule",type:"types",pageIndex:"page",pageSize:"offset",extensions:"extensions",citylimit:"citylimit"},e);this.zz(this.url+"/around",e,d,{keywords:a||""},"NEARBY",arguments)}else v.event.M(this,"error",{info:"NO_PARAMS"}),d&&"function"===typeof d&&d("error","NO_PARAMS")},getDetails:function(a, b){v.e.add(this.CLASS_NAME,"getDetails");if(a){var c=["id="+a,"s=rsv3"];c.push("key="+v.A.key);this.zz(this.url+"/detail",c,b,{},"ID")}else v.event.M(this,"error",{info:"NO_PARAMS"}),b&&"function"===typeof b&&b("error","NO_PARAMS")},setType:function(a){v.e.add(this.CLASS_NAME,"setType");this.L.type=a},setPageIndex:function(a){v.e.add(this.CLASS_NAME,"setPageIndex");this.L.pageIndex=a||1},setPageSize:function(a){v.e.add(this.CLASS_NAME,"setPageSize");this.L.pageSize="number"!==typeof a||0>a?10:50< a?50:a},setCity:function(a){v.e.add(this.CLASS_NAME,"setCity");this.L.city=a},setCityLimit:function(a){this.L.citylimit=a},$m:function(a,b,c){for(var d in a)"undefined"!==typeof a[d]&&"undefined"!==typeof b[d]&&c.push(b[d]+"="+a[d]);c.push("language="+this.getLang())},zz:function(a,b,c,d,e,g){a+=0<b.length?"?"+b.join("&"):"";a=new v.Na.$a(a,{callback:"callback",hd:e,as:!0,MA:d});a.g("complete",function(a){this.Wb(a,c,e,g)},this);a.g("error",function(a){this.Bb(a,c)},this)},ca:function(a){return a instanceof Array&&0===a.length||"undefined"===typeof a?"":a},BN:function(a){for(var b in a)a.hasOwnProperty(b)&&(a[b]=this.ca(a[b]),"object"===typeof a[b]&&this.BN(a[b]))},Nc:function(a){if(a){var b=a.split(",");return 2===b.length?new v.W(b[0],b[1]):a}return a},tF:function(a){function b(a){return a?(a=a.split(","),new v.W(a[0],a[1])):null}this.BN(a);var c={id:a.id,name:a.name,type:a.type,location:b(a.location),address:a.address,tel:a.tel,distance:parseFloat(a.distance),shopinfo:a.shopinfo};c.shopinfo=a.shopinfo&& a.shopinfo.length?a.shopinfo:"";if(a.children){for(var d=a.children,e=0,g=d.length;e<g;e++)d[e].location=b(d[e].location);c.children=d}d={website:a.website,pcode:a.pcode,citycode:a.citycode,adcode:a.adcode,postcode:a.postcode,pname:a.pname,cityname:a.cityname,adname:a.adname,email:a.email,photos:a.photos,entr_location:b(a.entr_location),exit_location:b(a.exit_location),groupbuy:"0"!==a.groupbuy_num,discount:"0"!==a.discount_num};"1"===a.indoor_map?(d.indoor_map=!0,d.indoor_data={cpid:this.ca(a.indoor_data.cpid), floor:this.ca(a.indoor_data.floor),truefloor:this.ca(a.indoor_data.truefloor)}):d.indoor_map=!1;e={groupbuys:"",discounts:"",deep_type:"",dining:"",hotel:"",cinema:"",scenic:""};if(a.rich_content){if(d.groupbuy){var g=a.rich_content.groupbuys,h=g.length;0<h&&(e.groupbuys=[]);for(var k=0;k<h;k+=1)e.groupbuys.push({title:g[k].title,type_code:g[k].typecode,type:g[k].type,detail:g[k].detail,stime:g[k].start_time,etime:g[k].end_time,count:g[k].num,sold_num:parseInt(g[k].sold_num),original_price:parseFloat(g[k].original_price), groupbuy_price:parseFloat(g[k].groupbuy_price),discount:parseFloat(g[k].discount),ticket_address:g[k].ticket_address,ticket_tel:g[k].ticket_tel,photos:g[k].photos,url:g[k].url,provider:""})}if(d.discount)for(g=a.rich_content.discounts,h=g.length,0<h&&(e.discounts=[]),k=0;k<h;k+=1)e.discounts.push({title:g[k].title,detail:g[k].detail,start_time:g[k].start_time,end_time:g[k].end_time,sold_num:parseInt(g[k].sold_num),photos:g[k].photos,url:g[k].url,provider:""})}if(a.deep_info)switch(e.deep_type=a.deep_info.type, a=a.deep_info,e.deep_type){case "cinema":e.cinema={intro:a.intro,rating:a.rating,deep_src:"",parking:a.parking,opentime_GDF:a.opentime_GDF,opentime:a.opentime,photos:a.photos};e.deep_type="CINEMA";break;case "dining":e.dining={cuisines:a.cuisines,tag:a.tag,intro:a.intro,rating:a.rating,cp_rating:a.cp_rating,deep_src:"",taste_rating:a.taste_rating,environment_rating:a.environment_rating,service_rating:a.service_rating,cost:a.cost,recommend:a.recommend,atmosphere:a.atmosphere,ordering_wap_url:a.ordering_wap_url, ordering_web_url:a.ordering_web_url,ordering_app_url:a.ordering_app_url,opentime_GDF:a.opentime_GDF,opentime:a.opentime,addition:a.addition,photos:a.photos};e.deep_type="DINING";break;case "scenic":e.scenic={intro:a.intro,rating:a.rating,deep_src:"",level:a.level,price:a.price,season:a.season,recommend:a.recommend,theme:a.theme,ordering_wap_url:a.ordering_wap_url,ordering_web_url:a.ordering_web_url,opentime_GDF:a.opentime_GDF,opentime:a.opentime,photos:a.photos};e.deep_type="SCENIC";break;case "hotel":e.hotel= {rating:a.rating,star:a.star,intro:a.intro,lowest_price:a.lowest_price,faci_rating:a.faci_rating,health_rating:a.health_rating,environment_rating:a.environment_rating,service_rating:a.service_rating,traffic:a.traffic,addition:a.addition,deep_src:"",photos:a.photos},e.deep_type="HOTEL"}a={};for(var l in c)c.hasOwnProperty(l)&&(a[l]=c[l]);if(this.L.extensions&&"base"!==this.L.extensions){for(var m in e)e.hasOwnProperty(m)&&e[m]&&(a[m]=e[m]);for(var n in d)d.hasOwnProperty(n)&&(a[n]=d[n])}return a}, close:function(){v.e.add(this.CLASS_NAME,"close");this.closed=!0},open:function(){v.e.add(this.CLASS_NAME,"open");this.closed=!1},poiOnAMAP:function(a){v.e.add(this.CLASS_NAME,"poiOnAMAP");var b={},c=v.a.xa(a.location);b.id=a.id;c&&(b.y=c.P,b.x=c.O);b.name=a.name;b.address=a.address;v.lg.Do(v.lg.mT(b))},detailOnAMAP:function(a){v.e.add(this.CLASS_NAME,"detailOnAMAP");var b={},c=v.a.xa(a.location);b.id=a.id;c&&(b.y=c.P,b.x=c.O);b.name=a.name;v.lg.Do(v.lg.kT(b))},Wb:function(a,b,c,d){if(!this.closed){var e; if(parseInt(a.status,10)){e={info:a.info,poiList:{}};e.poiList={pois:[],count:parseInt(a.count,10),pageIndex:this.L.pageIndex,pageSize:this.L.pageSize};if(a.pois)for(var g=0;g<a.pois.length;g+=1)e.poiList.pois[g]=this.tF(a.pois[g]);a.suggestion&&a.suggestion.keywords.length&&(e.keywordList=a.suggestion.keywords,e.info="TIP_KEYWORDS");if(a.suggestion&&a.suggestion.cities.length){for(var g=a.suggestion.cities,h=[],k=0;k<g.length;k+=1){var l=g[k],m;for(m in l)l.hasOwnProperty(m)&&"num"===m&&(l.count= l[m],delete l[m]);l.count=parseInt(l.count);h.push(l)}e.info="TIP_CITIES";e.cityList=h}a.count&&0!==parseInt(a.count,10)||e.cityList||e.keywordList?(v.event.M(this,"complete",e),(this.L.map||this.L.panel)&&this.pu(e,c,d),b&&"function"===typeof b&&b("complete",e)):(e.info="ok"===a.info.toLowerCase()?"NO_DATA":a.info,v.event.M(this,"complete",e),(this.L.map||this.L.panel)&&this.pu(e,c,d),b&&"function"===typeof b&&(e.cityList||e.keywordList?b("complete",e):b("no_data",{})))}else e={info:a.info},X.event.M(this, "error",e),b&&"function"===typeof b&&b("error",a.info)}},pu:function(a,b,c){var d=this;v.fb.load("AMap."+this.VJ,function(){d.Q||(d.render=d.Q=new window.AMap[d.VJ](d.L.showCover));d.Q.autoRender({data:a,eventTrigger:function(a,b){v.event.M(d,a,b)},methodName:{KEYWORD:"search",NEARBY:"searchNearBy",POLYGON:"searchInBounds",ROUTE:"searchNearRoute"}[b],placeSearchInstance:d,methodArgumments:c,renderStyle:d.L.renderStyle||"newpc",panel:d.L.panel,map:d.L.map,autoFitView:d.L.autoFitView});d.Hz=d.Q.searchCircle})}, Bb:function(a,b){X.event.M(this,"error",a);b&&"function"===typeof b&&b("error",a.info)}});window.AMap.PlaceSearch=v.iy; ');_jsload_('AMap.Scale', 'v.UY=v.aa.extend({ga:[v.ja,v.$d],Kg:".amap-scalecontrol{position:absolute;z-index:150}.amap-scale-text{text-align:center;font-size:10px}.amap-scale-line{position:relative;height:8px}.amap-scale-line div{-webkit-box-sizing:content-box!important;-moz-box-sizing:content-box!important;box-sizing:content-box!important}.amap-scale-edgeleft,.amap-scale-middle,.amap-scale-edgeright{position:absolute;background-color:#333;overflow:hidden}.amap-scale-edgeleft,.amap-scale-edgeright{width:1px;_width:3px;height:6px;_height:8px;border:solid 1px #fff}.amap-scale-middle{height:2px;_height:4px;left:2px;top:2px;border-top:solid 1px #fff;border-bottom:solid 1px #fff}", B:function(a){this.CLASS_NAME="AMap.Scale";v.e.cb(this.CLASS_NAME,a);this.position="LB";this.offset=new v.G(2,20);this.visible=!0;this.f={};this.f.J=v.h.create("div",null,"amap-scalecontrol");this.f.text=v.h.create("div",this.f.J,"amap-scale-text");this.f.KI=v.h.create("div",this.f.J,"amap-scale-line");this.f.zia=v.h.create("div",this.f.KI,"amap-scale-edgeleft");this.f.W9=v.h.create("div",this.f.KI,"amap-scale-edgeright");this.f.Kba=v.h.create("div",this.f.KI,"amap-scale-middle");this.ub(a)},wp:function(a, b){this.map=a;b.appendChild(this.f.J);this.ce=b;this.Qj()},zq:function(){this.Wj();this.ce.removeChild(this.f.J);this.map=this.ce=null},ub:function(a){for(var b in a)"_"!==b.substr(0,1)&&void 0!==this[b]&&(this[b]=a[b]);this.position&&this.offset&&this.rv(this.position,this.offset);this.visible?v.h.Fa(this.f.J,{visibility:"visible"}):v.h.Fa(this.f.J,{visibility:"hidden"})},WH:function(a){return this[a]},rv:function(a,b){switch(a){case "LT":v.h.Fa(this.f.J,{left:b.de()+"px",top:b.ud()+"px",right:"", bottom:""});break;case "RT":v.h.Fa(this.f.J,{right:b.de()+"px",top:b.ud()+"px",left:"",bottom:""});break;case "LB":v.h.Fa(this.f.J,{left:b.de()+"px",bottom:b.ud()+"px",right:"",top:""});break;case "RB":v.h.Fa(this.f.J,{right:b.de()+"px",bottom:b.ud()+"px",left:"",top:""})}this.ce&&(this.ce.removeChild(this.f.J),this.ce.appendChild(this.f.J))},G6:function(a,b){this.f.text.innerHTML=a;v.h.Fa(this.f.text,{width:b+8+"px"}).Fa(this.f.Kba,{width:b+"px"}).Fa(this.f.W9,{left:b+1+"px"})},uQ:[[1E7,"10000"], [5E6,"5000"],[2E6,"2000"],[1E6,"1000"],[5E5,"500"],[2E5,"200"],[1E5,"100"],[1E5,"100"],[5E4,"50"],[2E4,"20"],[1E4,"10"],[5E3,"5"],[2E3,"2"],[1E3,"1"],[500,"500"],[200,"200"],[200,"200"],[100,"100"],[50,"50"],[20,"20"],[10,"10"]],Qj:function(){this.Hk();this.Ba={ZX:v.event.addListener(this.map,"zoomend",this.Hk,this),Sba:v.event.addListener(this.map,"moveend",this.Hk,this)};this.X("lang",this.map)},langChanged:function(){this.Hk()},Wj:function(){if(this.Ba)for(var a in this.Ba)this.Ba.hasOwnProperty(a)&& v.event.removeListener(this.Ba[a]);this.Ei("lang")},Hk:function(){var a=Math.round(this.map.get("zoom")),b=this.map.getResolution(),b=this.uQ[a][0]/b,c=this.uQ[a][1],c=13>=a?"en"==this.map.getLang()?c+" KM":"zh_en"==this.map.getLang()?c+" \\u516c\\u91cc/KM":c+" \\u516c\\u91cc":"en"==this.map.getLang()?c+" M":"zh_en"==this.map.getLang()?c+" \\u7c73/M":c+" \\u7c73";this.G6(c,b)},show:function(){v.e.add(this.CLASS_NAME,"show");this.ub({visible:!0});v.event.M(this,"show")},hide:function(){v.e.add(this.CLASS_NAME, "hide");this.ub({visible:!1});v.event.M(this,"hide")},Cs:function(){var a=[0,0,0,0];if(this.f.J){var b=v.h.Vd(this.f.J,"width"),c=v.h.Vd(this.f.J,"height"),b=this.offset.de()+parseFloat(b),c=this.offset.ud()+parseFloat(c);-1!==this.position.indexOf("T")&&(a[0]=c);-1!==this.position.indexOf("R")&&(a[1]=b);-1!==this.position.indexOf("B")&&(a[2]=c);-1!==this.position.indexOf("L")&&(a[3]=b)}return a}});window.AMap.Scale=v.UY; ');_jsload_('AMap.OverView', 'v.IY=v.aa.extend({ga:[v.ja],Kg:".amap-overviewcontrol{z-index:150;width:120px;height:120px;background:#fff;position:absolute;right:0;bottom:0}.amap-overview-main{width:115px;height:115px;position:absolute;left:5px;top:5px;overflow:hidden}.amap-overviewcontrol,.amap-overview-main{border-top:solid 1px #ccc;border-left:solid 1px #ccc}.amap-overview-map{position:absolute}.amap-overview-button{width:17px;height:17px;position:absolute;right:0;bottom:0;background:url(../../theme/v1.3/mapcontrols.png);background-position:-40px -386px;cursor:pointer}.amap-overview-win{width:62px;height:35px;background:#91a3d8;opacity:.25;border:solid 2px #44b;filter:alpha(opacity=25);position:absolute;top:40px;left:26px;cursor:move}", B:function(a){this.CLASS_NAME="AMap.OverView";v.e.cb(this.CLASS_NAME,a);this.Kaa();this.f={};this.f.J=v.h.create("div",null,"amap-overviewcontrol");this.f.hl=v.h.create("div",this.f.J,"amap-overview-main");this.f.map=v.h.create("div",this.f.hl,"amap-overview-map");this.f.nL=v.h.create("div",this.f.hl,"amap-overview-win");this.f.No=v.h.create("div",this.f.hl,"amap-overview-win");this.f.button=v.h.create("div",this.f.J,"amap-overview-button");this.ub(a||{})},Kaa:function(){this.Ti="overview";this.visible= !0;this.hk=!1;this.Gc=[3,18];this.height=this.width=120;this.Kq=null},wp:function(a,b){this.map=a;b.appendChild(this.f.J);this.ce=b;this.Qj();this.xk&&(this.hk?v.h.Fa(this.xk,{right:this.width+"px"}):v.h.Fa(this.xk,{right:"17px"}))},zq:function(){this.Wj();this.ce.removeChild(this.f.J);this.map=this.ce=null},ub:function(a){for(var b in a)"_"!==b.substr(0,1)&&void 0!==this[b]&&(this[b]=a[b]);b=this.hk;this.Kq=void 0!==a.tileLayer?a.tileLayer:this.Kq;this.hk=void 0!==a.isOpen?a.isOpen:this.hk;this.visible= void 0!==a.visible?a.visible:this.visible;this.width&&this.height&&v.h.Fa(this.f.J,{width:this.width+"px",height:this.height+"px"}).Fa(this.f.hl,{width:this.width-5+"px",height:this.height-5+"px"}).Fa(this.f.map,{width:this.width-5+"px",height:this.height-5+"px"});this.hk||v.h.Fa(this.f.J,{width:"17px",height:"17px"}).Fa(this.f.button,{backgroundPosition:"-40px -405px"});!b&&this.hk&&this.open();this.visible?v.h.Fa(this.f.J,{visibility:"visible"}):v.h.Fa(this.f.J,{visibility:"hidden"})},WH:function(a){return this[a]}, Qj:function(){this.zv();this.Ba={button:v.event.U(this.f.button,"click",this.l3,this),xla:v.event.U(this.f.No,"mousedown",this.jp,this),yla:v.event.U(document,"mousemove",this.hp,this),Cla:v.event.U(document,"mouseup",this.ip,this),Bla:v.event.U(this.f.No,"touchstart",this.jp,this),Ala:v.event.U(document,"touchmove",this.hp,this),zla:v.event.U(document,"touchend",this.ip,this),Gja:v.event.addListener(this.map,"moveend",this.zv,this),Ija:v.event.addListener(this.map,"zoomend",this.zv,this),Hja:v.event.addListener(this.map, "resize",this.zv,this)}},Wj:function(){if(this.Ba)for(var a in this.Ba)this.Ba.hasOwnProperty(a)&&v.event.removeListener(this.Ba[a])},l3:function(){this.hk?this.close():this.open()},jp:function(a){v.C.stopPropagation(a).preventDefault(a);a=v.C.$i("touchstart"===a.type?a.touches[0]:a,this.f.map);this.x=a.de();this.y=a.ud();this.oh=+v.h.Vd(this.f.No,"left").replace("px","");this.Rb=+v.h.Vd(this.f.No,"top").replace("px","");this.Lp=!0},hp:function(a){if(this.Lp){this.tU="touchmove"===a.type?a.touches[0]: a;var b=v.C.$i(this.tU,this.f.map);a=b.de()-this.x;var b=b.ud()-this.y,c=this.oh+a,d=this.Rb+b;this.oH=a;this.pH=b;v.h.Fa(this.f.No,{left:c+"px",top:d+"px"})}},ip:function(){if(this.Lp){var a=v.C.$i(this.tU,this.f.map),b=a.de()-this.x,c=a.ud()-this.y,d=this.oh,e=this.Rb,g=this;v.l.xe&&(b=this.oH,c=this.pH);var h=this.oh+b,k=this.Rb+c,l=Math.round(b/10),m=Math.round(c/10),n=setInterval(function(){v.h.Fa(g.f.nL,{left:d+"px",top:e+"px"});if(Math.abs(h-d)<Math.abs(l)||Math.abs(k-e)<Math.abs(m))window.clearInterval(n), v.h.Fa(g.f.nL,{left:h+"px",top:k+"px"}),g.map.panBy(Math.round(-b/Math.pow(2,g.qS)),Math.round(-c/Math.pow(2,g.qS)));d+=l;e+=m},15);this.Lp=!1}},open:function(){v.e.add(this.CLASS_NAME,"open");var a=17,b=17,c=Math.round((this.width-17)/10),d=Math.round((this.height-17)/10),e,g=this;e=setInterval(function(){a+=c;b+=d;v.h.Fa(g.f.J,{width:a+"px",height:b+"px"});g.xk&&v.h.Fa(g.xk,{right:a+"px"});if(a>=g.width||b>=g.height)window.clearInterval(e),v.h.Fa(g.f.J,{width:g.width+"px",height:g.height+"px"}).Fa(g.f.button, {backgroundPosition:"-40px -386px"}),g.xk&&v.h.Fa(g.xk,{right:g.width+"px"}),g.hk=!0,g.f.J.removeChild(g.f.hl),g.f.J.insertBefore(g.f.hl,g.f.button)},15);v.event.M(this,"open")},close:function(){v.e.add(this.CLASS_NAME,"close");var a=this.width,b=this.width,c=Math.round((this.width-17)/10),d=Math.round((this.height-17)/10),e,g=this;e=setInterval(function(){a-=c;b-=d;v.h.Fa(g.f.J,{width:a+"px",height:b+"px"});g.xk&&v.h.Fa(g.xk,{right:a+"px"});if(17>=a||17>=b)window.clearInterval(e),v.h.Fa(g.f.J,{width:"17px", height:"17px"}).Fa(g.f.button,{backgroundPosition:"-40px -405px"}),g.xk&&v.h.Fa(g.xk,{right:"17px"}),g.hk=!1,g.f.J.removeChild(g.f.hl),g.f.J.insertBefore(g.f.hl,g.f.button)},15);v.event.M(this,"close")},getTileLayer:function(){v.e.add(this.CLASS_NAME,"getTileLayer");return this.Kq},setTileLayer:function(a){v.e.add(this.CLASS_NAME,"setTileLayer");this.Kq=a;this.map&&this.zv()},show:function(){v.e.add(this.CLASS_NAME,"show");this.ub({visible:!0});v.event.M(this,"show")},hide:function(){v.e.add(this.CLASS_NAME, "hide");this.ub({visible:!1});v.event.M(this,"hide")},zv:function(){var a=this.map.getSize(),b=this.map.getCenter(),c=this.Gc,d=this.l1(a.width,a.height,this.width-5,this.height-5);a.width*a.height*Math.pow(2,2*d)*4>this.width*this.height&&(d-=1);var e=this.map.getZoom()+d;this.qS=d;var g=0,h=0;e>=c[0]&&e<=c[1]?(g=Math.round(Math.pow(2,d)*a.width),h=Math.round(Math.pow(2,d)*a.height)):e=c[0];this.s6(g,h);this.j6(b,e)},j6:function(a,b){this.bi||(this.bi=[]);for(var c=this.map.Qb(a,b),d=this.width- 5,e=this.height-5,g=Math.floor((c.y-e/2)/256),h=Math.floor((c.x+d/2)/256),k=Math.floor((c.y+e/2)/256),l=0,m=Math.floor((c.x-d/2)/256);m<=h;m+=1)for(var n=g;n<=k;n+=1){this.bi.length<=l&&this.bi.push(v.h.create("img",this.f.map));var p=this.bi[l];v.h.Fa(p,{visibility:"inherit",position:"absolute",left:256*m-c.x+d/2+"px",top:256*n-c.y+e/2+"px"});p.src=this.Mu(m,n,b);l+=1}for(;l<this.bi.length;)v.h.Fa(this.bi[l],{visibility:"hidden"}),l+=1},l1:function(a,b,c,d){a=Math.log(c/a)/Math.LN2;b=Math.log(d/ b)/Math.LN2;return Math.floor(Math.min(a,b))},s6:function(a,b){var c={};0<a&&0<b?(c.width=a+"px",c.height=b+"px",c.left=Math.round((this.width-5-a)/2)+"px",c.top=Math.round((this.height-5-b)/2)+"px",c.display="block"):c.display="none";v.h.Fa([this.f.nL,this.f.No],c);this.f.hl.removeChild(this.f.No);this.f.hl.appendChild(this.f.No)},Mu:function(a,b,c){this.Kq||(this.Kq=new X.w.Qa({getTileUrl:v.A.$b+"://webrd01.is.autonavi.com/appmaptile?lang="+this.map.get("lang")+"&size=1&scale=1&style=7&x=[x]&y=[y]&z=[z]"})); return this.Kq.getTileUrl(a,b,c)},Cs:function(){return[0,this.hk?this.width+5:22,this.hk?this.height+5:22,0]}});window.AMap.OverView||(window.AMap.OverView=v.IY); ');_jsload_('AMap.ToolBar', 'v.bZ=v.aa.extend({ga:[v.ja],Kg:\'.amap-toolbar{z-index:150}.amap-toolbar{position:absolute;width:52px;overflow:visible}.amap-pancontrol{width:52px;height:52px;background:url(../../theme/v1.3/map_view.png) 0 -140px;position:absolute;_background:url(../../theme/v1.3/map_view.gif)}.amap-pan-left,.amap-pan-top,.amap-pan-right,.amap-pan-bottom{position:absolute;cursor:pointer}.amap-pan-left,.amap-pan-right{width:12px;height:18px;top:17px}.amap-pan-top,.amap-pan-bottom{width:18px;height:12px;left:17px}.amap-pan-left{left:8px}.amap-pan-right{left:32px}.amap-pan-top{top:8px}.amap-pan-bottom{top:31px}.amap-pan-left:hover,.amap-pan-top:hover,.amap-pan-right:hover,.amap-pan-bottom:hover{background:url(../../theme/v1.3/map_view.png);_background:url(../../theme/v1.3/map_view.gif)}.amap-pan-left:hover{background-position:-52px -110px}.amap-pan-top:hover{background-position:-70px -112px}.amap-pan-right:hover{background-position:-61px -110px}.amap-pan-bottom:hover{background-position:-84px -110px}.amap-pan-left-hover{_background:url(../../theme/v1.3/map_view.gif);background-position:-52px -110px}.amap-pan-top-hover{_background:url(../../theme/v1.3/map_view.gif);background-position:-70px -112px}.amap-pan-right-hover{_background:url(../../theme/v1.3/map_view.gif);background-position:-61px -110px}.amap-pan-bottom-hover{_background:url(../../theme/v1.3/map_view.gif);background-position:-84px -110px}.amap-zoomcontrol{width:24px;position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.amap-zoom-plus,.amap-zoom-minus,.amap-zoom-cursor,.amap-zoom-label-street,.amap-zoom-label-city,.amap-zoom-label-province,.amap-zoom-label-country{background:url(../../theme/v1.3/map_view.png);_background:url(../../theme/v1.3/map_view.gif);cursor:pointer}.amap-zoom-ruler,.amap-zoom-mask{background:url(../../theme/v1.3/toolbar_rbg.png);cursor:pointer}.amap-zoom-ruler{overflow:visible}.amap-zoom-plus,.amap-zoom-minus{width:24px;height:21px}.amap-zoom-plus{background-position:0 -217px}.amap-zoom-plus:hover{background-position:0 -194px}.amap-zoom-minus{background-position:-26px -224px}.amap-zoom-minus:hover{background-position:-26px -195px}.amap-zoom-plus2:hover{background-position:-50px -194px;cursor:default}.amap-zoom-minus2:hover{background-position:-50px -223px;cursor:default}.amap-zoom-ruler{width:12px;height:147px;position:relative;left:6px;background-position:0 0}.amap-zoom-mask,.amap-zoom-cursor,.amap-zoom-labels,.amap-zoom-label-street,.amap-zoom-label-city,.amap-zoom-label-province,.amap-zoom-label-country{position:absolute}.amap-zoom-mask{width:12px;height:106px;background-position:-14px 0}.amap-zoom-cursor{width:24px;height:20px;left:-6px;top:106px;background-position:-127px -164px}.amap-zoom-cursor:hover{background-position:-127px -141px}.amap-zoom-labels{display:none}.amap-zoom-label-street,.amap-zoom-label-city,.amap-zoom-label-province,.amap-zoom-label-country{width:39px;height:31px;left:20px}.amap-zoom-label-street{top:0;background-position:-87px -140px}.amap-zoom-label-city{top:54px;background-position:-87px -171px}.amap-zoom-label-province{top:92px;background-position:-87px -203px}.amap-zoom-label-country{top:129px;background-position:-87px -235px}.amap-locate{position:absolute;width:18px;height:18px;background:url(../../theme/v1.3/map_view.png);_background:url(../../theme/v1.3/map_view.gif);background-position:-130px -185px;cursor:pointer}.amap-geo{width:30px;height:30px;cursor:pointer;bottom:18px;right:7px}.amap-toolbar-geo{position:absolute}.amap-touch-toolbar .amap-zoomcontrol{position:absolute;right:4px;bottom:-80px;z-index:500;width:35px;background-color:white;background-color:rgba(255,255,255,0.9);border-radius:3px;border:1px solid #ccc;box-shadow:1px 1px 10px 0 #ccc}.amap-touch-toolbar .amap-zoomcontrol:after{position:absolute;content:"";height:1px;background:#ddd;top:48px;width:60%;margin:auto;left:0;right:0}.amap-toolbar-geo-secc{background-image:url(../../theme/v1.3/markers/b/loc.png)!important;background-size:22px 22px!important;background-position-x:6px!important}.amap-touch-toolbar .amap-geo{background:#fff url(../../theme/v1.3/markers/b/loc_gray.png) 50% 50% no-repeat;width:35px;height:35px;border:1px solid #ccc;border-radius:3px;right:4px}.amap-touch-toolbar .amap-locate-loading{background-image:url(../../theme/v1.3/loading.gif)}.amap-zoom-touch-plus{margin-bottom:5px}amap-zoom-touch-plus,.amap-zoom-touch-minus{width:100%;height:43px;background-color:white;background-color:rgba(255,255,255,0.5)}.amap-zoom-touch-plus>div,.amap-zoom-touch-minus>div{margin:auto;font-size:26px;line-height:43px;font-family:verdana;text-align:center;color:#666;height:100%;cursor:pointer}.amap-zoom-touch>div{opacity:.2}\', B:function(a){this.CLASS_NAME="AMap.ToolBar";v.e.cb(this.CLASS_NAME,a);this.gf(a||{});this.f={};this.f.J=v.h.create("div",null,"amap-toolbar");this.f.uq=v.h.create("div",this.f.J,"amap-pancontrol");this.f.left=v.h.create("div",this.f.uq,"amap-pan-left");this.f.top=v.h.create("div",this.f.uq,"amap-pan-top");this.f.right=v.h.create("div",this.f.uq,"amap-pan-right");this.f.bottom=v.h.create("div",this.f.uq,"amap-pan-bottom");this.f.ee=v.h.create("div",this.f.J,"amap-locate");this.f.zoom=v.h.create("div", this.f.J,"amap-zoomcontrol");this.f.Ih=v.h.create("div",this.f.zoom,"amap-zoom-plus");this.f.hg=v.h.create("div",this.f.zoom,"amap-zoom-ruler");this.f.Ff=v.h.create("div",this.f.zoom,"amap-zoom-minus");this.f.wB=v.h.create("div",this.f.hg,"amap-zoom-mask");this.f.cursor=v.h.create("div",this.f.hg,"amap-zoom-cursor");this.f.labels=v.h.create("div",this.f.hg,"amap-zoom-labels");this.f.street=v.h.create("div",this.f.labels,"amap-zoom-label-street");this.f.city=v.h.create("div",this.f.labels,"amap-zoom-label-city"); this.f.LV=v.h.create("div",this.f.labels,"amap-zoom-label-province");this.f.country=v.h.create("div",this.f.labels,"amap-zoom-label-country");(this.nn=(this.X6=v.l.Y)||a&&a.liteStyle)?(this.Cea(),this.position="RB",this.offset=new v.G(10,110)):v.h.Fa(this.f.uq,{position:"relative"}).Fa(this.f.ee,{position:"relative",left:"17px"}).Fa(this.f.zoom,{position:"relative",left:"14px"});this.ub(a);this.rG&&this.fG()},gf:function(a){this.Zfa=a.useNative||!1;this.Ti="toolbar";this.MW=this.ee=this.direction= this.hg=this.visible=!0;this.position="LT";this.offset=new v.G(10,10);this.rG=!1;this.timeout=a.timeout||5E3;this.xba=v.A.lb+"/theme/v1.3/small_loading.gif";this.rm=new X.D.bb({position:this.Pf,offset:new v.G(-11,-11),content:"<div style=\'width:23px;height:23px;overflow:hidden;\'><img style=\'position:relative;cursor:pointer;\' width=\'23px\' height=\'23px\' src=\'"+v.A.Hg+"/loc.png\'></div>"});this.rm.ka=!0},wp:function(a,b){this.map=a;b.appendChild(this.f.J);this.ce=b;this.lR();this.Qj();var c=this;setTimeout(function(){c.map&& c.QP()},0)},zq:function(){this.Wj();this.ce.removeChild(this.f.J);this.map=this.ce=null;this.eG()},Cea:function(){var a=v.h.create("div",this.f.Ih);a.innerHTML="&#43;";v.h.Ka(this.f.Ih,"amap-zoom-plus");v.h.Ea(this.f.Ih,"amap-zoom-touch-plus");v.h.Ka(this.f.ee,"amap-locate");v.h.Ea(this.f.ee,"amap-geo amap-toolbar-geo");a=v.h.create("div",this.f.Ff);a.innerHTML="&#8722;";v.h.Ka(this.f.Ff,"amap-zoom-minus");v.h.Ea(this.f.Ff,"amap-zoom-touch-minus");v.h.Ea(this.f.J,"amap-touch-toolbar")},Dea:function(a){a.direction= !1;!0!==a.locate&&(a.locate=!1);a.ruler=!1;return a},ub:function(a){a=a||{};this.nn&&(a=this.Dea(a));for(var b in a)a.hasOwnProperty(b)&&"_"!==b.substr(0,1)&&void 0!==this[b]&&(this[b]=a[b]);this.offset=void 0!==a.offset?a.offset:this.offset;this.position=void 0!==a.position?a.position:this.position;this.hg=void 0!==a.ruler?a.ruler:this.hg;this.ee=void 0!==a.locate?a.locate:this.ee;this.direction=void 0!==a.direction?a.direction:this.direction;this.rG=void 0!==a.autoPosition?a.autoPosition:this.rG; void 0!==a.locationMarker&&(this.rm.getMap===this.map&&(this.rm.setMap(null),a.locationMarker.setPosition(this.rm.getPosition()),a.locationMarker.setMap(this.map)),this.rm=a.locationMarker);this.M2();this.position&&this.offset&&this.rv(this.position,this.offset);this.direction?v.h.Fa(this.f.uq,{display:"block"}):v.h.Fa(this.f.uq,{display:"none"});this.ee?v.h.Fa(this.f.ee,{display:"block"}):v.h.Fa(this.f.ee,{display:"none"});!this.hg||this.map&&270>this.map.getSize().getHeight()?v.h.Fa(this.f.hg,{display:"none"}): v.h.Fa(this.f.hg,{display:"block"});this.visible?v.h.Fa(this.f.J,{visibility:"visible"}):v.h.Fa(this.f.J,{visibility:"hidden"})},WH:function(a){return this[a]},rv:function(a,b){switch(a){case "LT":v.h.Fa(this.f.J,{left:b.de()+"px",top:b.ud()+"px",right:"",bottom:""});break;case "RT":v.h.Fa(this.f.J,{right:b.de()+"px",top:b.ud()+"px",left:"",bottom:""});break;case "LB":v.h.Fa(this.f.J,{left:b.de()+"px",bottom:b.ud()+"px",right:"",top:""});break;case "RB":v.h.Fa(this.f.J,{right:b.de()+"px",bottom:b.ud()+ "px",left:"",top:""})}this.ce&&(this.ce.removeChild(this.f.J),this.ce.appendChild(this.f.J))},QP:function(){this.Gc=null;this.lR();this.UF(this.map.get("zoom"))},Qj:function(){this.UF(this.map.get("zoom"));this.Ba={Gc:v.event.addListener(this.map,"zooms",this.QP,this),left:v.event.U(this.f.left,"click",this.D3,this),top:v.event.U(this.f.top,"click",this.y4,this),right:v.event.U(this.f.right,"click",this.d4,this),bottom:v.event.U(this.f.bottom,"click",this.i3,this),ee:v.event.U(this.f.ee,"click",this.G3, this),aka:v.event.U(this.f.J,"mousedown",function(a){v.C.preventDefault(a)},this),wia:v.event.U(this.f.cursor,"mousedown",this.jp,this),pia:v.event.U(this.f.cursor,"mouseover",this.u3,this),oia:v.event.U(this.f.cursor,"mouseout",this.v3,this),uia:v.event.U(document,"mousemove",this.hp,this),via:v.event.U(document,"mouseup",this.ip,this),cursor:v.event.U(this.f.cursor,"click",this.t3,this),Ih:v.event.U(this.f.Ih,"click",this.Y3,this),Ff:v.event.U(this.f.Ff,"click",this.I3,this),Oka:v.event.U(this.f.hg, "mouseover",this.EP,this),Lla:v.event.U(this.f.zoom,"mouseout",this.DP,this),wja:v.event.U(this.f.labels,"mouseover",this.EP,this),vja:v.event.U(this.f.labels,"mouseout",this.DP,this),hg:v.event.U(this.f.hg,"click",this.v4,this),street:v.event.U(this.f.street,"click",this.x4,this),city:v.event.U(this.f.city,"click",this.m3,this),LV:v.event.U(this.f.LV,"click",this.Z3,this),country:v.event.U(this.f.country,"click",this.s3,this),ZX:v.event.addListener(this.map,"zoomend",this.Hk,this),lla:v.event.U(this.f.J, "touchstart",v.a.ES,v.C.stopPropagation),resize:v.event.addListener(this.map,"resize",this.c4,this)};v.l.lh&&(this.Ba.yja=v.event.U(this.f.left,"mouseover",this.F3,this),this.Ba.jla=v.event.U(this.f.top,"mouseover",this.A4,this),this.Ba.Cka=v.event.U(this.f.right,"mouseover",this.g4,this),this.Ba.Vha=v.event.U(this.f.bottom,"mouseover",this.k3,this),this.Ba.xja=v.event.U(this.f.left,"mouseout",this.E3,this),this.Ba.ila=v.event.U(this.f.top,"mouseout",this.z4,this),this.Ba.Bka=v.event.U(this.f.right, "mouseout",this.f4,this),this.Ba.Uha=v.event.U(this.f.bottom,"mouseout",this.j3,this))},u3:function(){this.f.cursor.style.top=parseInt(this.f.cursor.style.top)-2+"px"},v3:function(){this.f.cursor.style.top=parseInt(this.f.cursor.style.top)+2+"px"},Wj:function(){if(this.Ba)for(var a in this.Ba)this.Ba.hasOwnProperty(a)&&v.event.removeListener(this.Ba[a])},D3:function(){this.map.panBy(this.map.getSize().width/2-1,0)},i3:function(){this.map.panBy(0,-this.map.getSize().height/2+1)},d4:function(){this.map.panBy(-this.map.getSize().width/ 2+1,0)},F3:function(){this.f.left.className+=" amap-pan-left-hover"},g4:function(){this.f.right.className+=" amap-pan-right-hover"},A4:function(){this.f.top.className+=" amap-pan-top-hover"},k3:function(){this.f.bottom.className+=" amap-pan-bottom-hover"},E3:function(){this.f.left.className=this.f.left.className.replace(" amap-pan-left-hover","")},f4:function(){this.f.right.className=this.f.right.className.replace(" amap-pan-right-hover","")},z4:function(){this.f.top.className=this.f.top.className.replace(" amap-pan-top-hover", "")},j3:function(){this.f.bottom.className=this.f.bottom.className.replace(" amap-pan-bottom-hover","")},y4:function(){this.map.panBy(0,this.map.getSize().height/2-1)},M2:function(){navigator.geolocation||(this.ee=!1)},lR:function(){this.Gc||(this.Gc=this.map?this.map.get("zooms"):[3,18]);this.MW=5<this.Gc[0]||17>this.Gc[1]?!1:!0},G3:function(){this.Pf?this.eG():this.fG()},Gha:function(a,b){var c=v.A.gd+"/v3/assistant/coordinate/convert?coordsys=gps&s=rsv3&output=json",c=c+"&locations="+a.toString()+ "&key="+v.A.key,c=new v.Na.$a(c,{callback:"callback"});c.g("complete",b,this);c.g("error",b,this)},fG:function(){if(navigator.geolocation){this.nn||(this.f.Pd||(this.f.Pd=v.h.create("img",this.f.ee),this.f.Pd.src=this.xba,v.h.Fa(this.f.Pd,{margin:(this.nn?10:4)+"px"})),this.f.ee.appendChild(this.f.Pd));v.h.Ea(this.f.ee,"amap-locate-loading");var a=this;v.fb.load("AMap.Geolocation",function(){a.geolocation||(a.geolocation=new v.vk({useNative:this.Zfa,showButton:!1,showMarker:!1,showCircle:!1,panToLocation:!1, maximumAge:6E5}));a.geolocation.getCurrentPosition(function(b,c){v.h.Ka(a.f.ee,"amap-locate-loading");"complete"===b?(a.N2(c),v.event.M(a,"location-success",c)):(a.L2(),v.event.M(a,"location-failed",c))})})}},eG:function(){this.nn?v.h.Ka(this.f.ee,"amap-toolbar-geo-secc"):v.h.Fa(this.f.ee,{backgroundPosition:"-130px -185px"});this.N1();this.Pf=null},N6:function(){var a=this;if(this.Pf)if(this.sb=this.rm,this.sb.setMap(this.map),this.rm instanceof X.D.bb&&this.rm.setPosition(this.Pf),this.nu&&(this.ya= new X.D.Sd({isCustom:!0,content:"<span style=\'display: block; width:80px;background: #fff;border: 1px solid blue;font-size: 12px;border-radius: 3px;\'>\\u5b9a\\u4f4d\\u7cbe\\u5ea6:"+this.nu+"\\u7c73</span>",offset:new v.G(25,0)}),this.sb.g("mouseover",function(){a.ya.open(a.map,a.sb.getPosition())}),this.sb.g("mouseout",function(){a.ya.close()})),this.nu){this.nb=new X.D.uf({center:this.Pf,radius:this.nu,strokeColor:"#0093FF",strokeOpacity:0.3,strokeWeight:1,fillColor:"#02B0FF",fillOpacity:0.25});this.nb.ka= !0;this.nb.setMap(this.map);var b=this.map.getSize(),b=Math.min(b.width,b.height)/4,b=Math.floor(Math.LOG2E*Math.log(b*Math.cos(this.Pf.getLat()*Math.PI/180)*12756274*Math.PI/256/this.nu));this.map.setZoomAndCenter(b,this.Pf)}else this.map.setCenter(this.Pf);v.event.M(this,"location",{type:"location",lnglat:this.Pf})},N1:function(){this.sb&&(this.sb.setMap(null),this.sb=null);this.nb&&(this.nb.setMap(null),this.nb=null);this.rm.setMap(null)},M6:function(){this.MW&&this.f.labels&&v.h.Fa(this.f.labels, {display:"block"})},M1:function(){this.f.labels&&v.h.Fa(this.f.labels,{display:"none"})},Ut:function(a,b){var c=b-a;c&&v.event.M(this,"zoomchanged",{type:0===c?void 0:0<c?"zoomin":"zoomout"})},UF:function(a){var b=+v.h.Vd(this.f.hg,"height").replace("px",""),c=this.Gc;a>c[1]&&(a=c[1]);a<c[0]&&(a=c[0]);b=c[0]===c[1]?0:Math.floor((b-10)*(c[1]-a)/(c[1]-c[0]));v.h.Fa(this.f.wB,{height:b+"px"});v.h.Fa(this.f.cursor,{top:b+"px"});this.nn?(a===c[1]?v.h.Ea(this.f.Ih,"amap-zoom-touch"):v.h.Ka(this.f.Ih,"amap-zoom-touch"), a===c[0]?v.h.Ea(this.f.Ff,"amap-zoom-touch"):v.h.Ka(this.f.Ff,"amap-zoom-touch")):(a===c[1]?v.h.Ea(this.f.Ih,"amap-zoom-plus2"):v.h.Ka(this.f.Ih,"amap-zoom-plus2"),a===c[0]?v.h.Ea(this.f.Ff,"amap-zoom-minus2"):v.h.Ka(this.f.Ff,"amap-zoom-minus2"))},$N:function(){var a=+v.h.Vd(this.f.hg,"height").replace("px",""),b=this.Gc,c=+v.h.Vd(this.f.wB,"height").replace("px","");return b[1]-Math.round((b[1]-b[0])*c/(a-10))},jp:function(a){this.map&&this.map.getStatus().zoomEnable&&(v.C.stopPropagation(a).preventDefault(a), this.y=v.C.$i(a,this.f.zoom).ud(),this.Rb=+v.h.Vd(this.f.cursor,"top").replace("px",""),this.Lp=!0)},hp:function(a){if(this.Lp){v.C.stopPropagation(a).preventDefault(a);a=v.C.$i(a,this.f.zoom).ud()-this.y;a=this.Rb+a;var b=+v.h.Vd(this.f.hg,"height").replace("px","");0<=a&&a<b-10&&(v.h.Fa(this.f.cursor,{top:a+"px"}),v.h.Fa(this.f.wB,{height:a+2+"px"}))}},ip:function(){if(this.Lp){var a=this.map.get("zoom"),b=this.$N();this.map.setZoom(b);this.Ut(a,b);this.Lp=!1}},t3:function(a){v.C.stopPropagation(a).preventDefault(a)}, Hk:function(){this.UF(this.map.get("zoom"))},Y3:function(a){v.C.stopPropagation(a).preventDefault(a);this.map.zoomIn();v.event.M(this,"zoomchanged",{type:"zoomin"})},I3:function(a){v.C.stopPropagation(a).preventDefault(a);this.map.zoomOut();v.event.M(this,"zoomchanged",{type:"zoomout"})},EP:function(){this.oU=!0;this.M6()},DP:function(){this.oU=!1;var a=this;setTimeout(function(){a.oU||a.M1()},1E3)},v4:function(a){if(this.map&&this.map.getStatus().zoomEnable){a=v.C.$i(a,this.f.hg).y;var b=+v.h.Vd(this.f.hg, "height").replace("px","");a>b-10&&(a=b-10);v.h.Fa(this.f.cursor,{top:a+"px"}).Fa(this.f.wB,{height:a+"px"});a=this.map.get("zoom");b=this.$N();this.map.setZoom(b);this.Ut(a,b)}},x4:function(a){this.map&&this.map.getStatus().zoomEnable&&(v.C.stopPropagation(a).preventDefault(a),this.map.setZoom(17),a=this.map.get("zoom"),this.Ut(a,17))},m3:function(a){this.map&&this.map.getStatus().zoomEnable&&(v.C.stopPropagation(a).preventDefault(a),this.map.setZoom(11),a=this.map.get("zoom"),this.Ut(a,11))},Z3:function(a){this.map&& this.map.getStatus().zoomEnable&&(v.C.stopPropagation(a).preventDefault(a),this.map.setZoom(7),a=this.map.get("zoom"),this.Ut(a,7))},s3:function(a){this.map&&this.map.getStatus().zoomEnable&&(v.C.stopPropagation(a).preventDefault(a),this.map.setZoom(3),a=this.map.get("zoom"),this.Ut(a,3))},c4:function(){this.ub({locate:this.ee})},N2:function(a){try{this.Pf=a.position,this.nu=a.accuracy,this.f.Pd&&this.f.Pd.parentNode&&this.f.Pd.parentNode.removeChild(this.f.Pd),this.nn?v.h.Ea(this.f.ee,"amap-toolbar-geo-secc"): v.h.Fa(this.f.ee,{backgroundPosition:"-130px -211px"}),this.N6({locations:this.Pf+""})}catch(b){}},L2:function(){this.Pf=null;try{this.f.ee.removeChild(this.f.Pd),this.nn||v.h.Fa(this.f.ee,{backgroundPosition:"-130px -185px"})}catch(a){}},getOffset:function(){v.e.add(this.CLASS_NAME,"getOffset");return this.offset},setOffset:function(a){v.e.add(this.CLASS_NAME,"setOffset");this.ub({offset:a})},hideRuler:function(){v.e.add(this.CLASS_NAME,"hideRuler");this.ub({ruler:!1})},showRuler:function(){v.e.add(this.CLASS_NAME, "showRuler");this.ub({ruler:!0})},hideDirection:function(){v.e.add(this.CLASS_NAME,"hideDirection");this.ub({direction:!1})},showDirection:function(){v.e.add(this.CLASS_NAME,"showDirection");this.ub({direction:!0})},hideLocation:function(){v.e.add(this.CLASS_NAME,"hideLocation");this.ub({locate:!1})},showLocation:function(){v.e.add(this.CLASS_NAME,"showLocation");this.ub({locate:!0})},hide:function(){v.e.add(this.CLASS_NAME,"hide");this.ub({visible:!1});v.event.M(this,"hide")},show:function(){v.e.add(this.CLASS_NAME, "show");this.ub({visible:!0});v.event.M(this,"show")},doLocation:function(){v.e.add(this.CLASS_NAME,"doLocation");this.Pf&&this.eG();this.fG()},getLocation:function(){v.e.add(this.CLASS_NAME,"getLocation");return this.Pf},Cs:function(){var a=[0,0,0,0];if(this.f.J){var b=v.h.Vd(this.f.J,"width"),c=v.h.Vd(this.f.J,"height"),b=this.offset.de()+parseFloat(b),c=this.offset.ud()+parseFloat(c)+5;-1!==this.position.indexOf("T")&&(a[0]=c);-1!==this.position.indexOf("R")&&(a[1]=b);-1!==this.position.indexOf("B")&& (a[2]=c);-1!==this.position.indexOf("L")&&(a[3]=b)}return a}});window.AMap.ToolBar||(window.AMap.ToolBar=v.bZ); ');_jsload_('AMap.MapType', 'v.BY=v.aa.extend({Kg:".amap-maptypecontrol{z-index:150;position:absolute;top:12px;right:12px;z-index:304}.amap-maptype-wrap{position:absolute;top:0;right:0;width:64px;height:64px}.amap-maptype-con{position:absolute;top:0;right:0;width:60px;height:60px;background:#fff;border:solid 1px #ccc;cursor:pointer}.amap-maptype-win{position:absolute;top:1px;right:1px;width:56px;height:56px;overflow:hidden;background:#ccc;border:solid 1px #ccc}.amap-maptype-title{position:absolute;bottom:0;left:0;width:60px;height:20px;color:#333;text-align:center;font-size:12px;line-height:20px;background:#fff}.amap-maptype-title:hover{background-color:#eee}.amap-maptype-list{position:absolute;top:64px;right:0;width:100px;background:#fff;border:solid 1px #ccc;overflow:hidden}.amap-maptype-list p{width:100px;height:20px;margin:0;cursor:pointer;background:#fff}.amap-maptype-lsit p:hover{background:#eee}.amap-maptype-check{display:inline-block;width:15px;height:15px;margin-left:2px;background:url(../../theme/v1.3/maptype-bg.png) no-repeat -30px 4px}.amap-maptype-checked{background-position:0 4px}.amap-maptype-check-hover{background-position:-15px 4px}.amap-maptype-label{display:inline-block;width:60px;height:15px;color:#333;font-size:12px;line-height:15px;margin-left:10px}", ga:[v.ja],B:function(a){this.CLASS_NAME="AMap.MapType";v.e.cb(this.CLASS_NAME,a);this.pS=0;this.PW=this.vt=!1;this.visible=!0;a&&("undefined"!==typeof a.defaultType&&(this.pS=a.defaultType),"undefined"!==typeof a.showTraffic&&(this.vt=a.showTraffic),"undefined"!==typeof a.showRoad&&(this.PW=a.showRoad));this.lo=[{title:"\\u5730\\u56fe",w:new X.w.Qa,Zd:["traffic"]},{title:"\\u536b\\u661f",w:new X.w.Qa.TL,Zd:["traffic","road"]}];this.Zd={traffic:{title:"\\u8def\\u51b5",w:new X.w.Qa.YL,show:this.vt},road:{title:"\\u8def\\u7f51", w:new X.w.Qa.RL,show:this.PW}};this.b9()},wp:function(a,b){this.map=a;this.ce=b;b.appendChild(this.f.J);this.Qj();this.EQ(this.pS);this.WM()},zq:function(){this.Wj();this.ce.removeChild(this.f.J);this.map=this.ce=null},b9:function(){this.Cn=-1;var a={};a.J=v.h.create("div",null,"amap-maptypecontrol");a.rga=v.h.create("div",a.J,"amap-maptype-wrap");a.VG=v.h.create("div",a.rga,"amap-maptype-con");a.mL=v.h.create("div",a.VG,"amap-maptype-win");a.title=v.h.create("div",a.VG,"amap-maptype-title");a.list= v.h.create("div",a.J,"amap-maptype-list");for(var b in this.Zd)if(this.Zd.hasOwnProperty(b)){var c=v.h.create("p",a.list,"amap-maptype-item");c.gs=v.h.create("span",c,"amap-maptype-check");this.Zd[b].show&&v.h.Ea(c.gs,"amap-maptype-checked");c.hba=v.h.create("span",c,"amap-maptype-label");c.hba.innerHTML=this.Zd[b].title;this.Zd[b].td=c}a.list.style.width="60px";this.f=a},RM:function(){for(var a in this.Zd)if(this.Zd.hasOwnProperty(a)){var b=this.Zd[a],c=b.w.get("zooms"),d=this.map.getZoom();b.map= this.map;b.td.title=d>c[1]||d<c[0]?"\\u5f53\\u524d\\u7ea7\\u522b\\u4e0d\\u63d0\\u4f9b"+b.title+"\\u6570\\u636e":""}},Qj:function(){this.Ba={Kja:v.event.addListener(this.map,"mapmove",this.Ez,this),ZX:v.event.addListener(this.map,"zoomend",this.Ez,this),zga:v.event.addListener(this.map,"zoomchange",this.RM,this),Sba:v.event.addListener(this.map,"moveend",this.Ez,this),hia:v.event.U(this.f.VG,"click",this.o3,this),gia:v.event.U(this.f.J,"mouseover",this.q3,this),fia:v.event.U(this.f.J,"mouseout",this.p3,this)}; for(var a in this.Zd)if(this.Zd.hasOwnProperty(a)){var b=this.Zd[a];b.map=this.map;this.Ba["subclick"+a]=v.event.U(b.td,"click",this.A3,b);this.Ba["submouseover"+a]=v.event.U(b.td,"mouseover",this.C3,b);this.Ba["submouseout"+a]=v.event.U(b.td,"mouseout",this.B3,b)}this.RM()},Wj:function(){if(this.Ba)for(var a in this.Ba)this.Ba.hasOwnProperty(a)&&v.event.removeListener(this.Ba[a])},o3:function(){this.EQ((this.Cn+1)%this.lo.length)},A3:function(){v.h.Ka(this.td.gs,"amap-maptype-check-hover");this.show? (v.h.Ka(this.td.gs,"amap-maptype-checked"),this.w.setMap(null),this.show=!1):(v.h.Ea(this.td.gs,"amap-maptype-checked"),this.w.setMap(this.map),this.show=!0)},C3:function(){this.show||v.h.Ea(this.td.gs,"amap-maptype-check-hover")},B3:function(){v.h.Ka(this.td.gs,"amap-maptype-check-hover")},q3:function(){this.C0()},p3:function(){this.WM()},WM:function(){this.$D=60;this.ZD=20;this.zM()},C0:function(a){this.$D=100;this.ZD=20*this.lo[this.Cn].Zd.length;this.zM(a)},zM:function(a){this.LQ();var b=this; this.NE=setInterval(function(){var c=Number(v.h.Vd(b.f.list,"width").replace("px","")),d=Number(v.h.Vd(b.f.list,"height").replace("px","")),e=b.$D-c,g=b.ZD-d;0!==e||0!==g?(e=5<e?c+5:-5>e?c-5:b.$D,g=5<g?d+5:-5>g?d-5:b.ZD,b.f.list.style.width=e+"px",b.f.list.style.height=g+"px"):(clearInterval(b.NE),a&&a.call(b))},50)},LQ:function(){this.NE&&clearInterval(this.NE)},PH:function(a){var b=[];if(this.lo[a]){b.push(this.lo[a].w);a=this.lo[a].Zd;a=v.a.isArray(a)?a.join():"";for(var c in this.Zd)this.Zd.hasOwnProperty(c)&& -1!==a.indexOf(c)&&this.Zd[c].show&&b.push(this.Zd[c].w)}return b},EQ:function(a){a!==this.Cn&&(this.map.remove(this.PH(this.Cn)),-1==this.Cn?this.map.setLayers(this.PH(a)):this.map.add(this.PH(a)),this.Cn=a,this.Ez(),this.i6())},Ez:function(){var a=this.lo[(this.Cn+1)%this.lo.length];this.f.title.innerHTML=a.title;var b=Number(v.h.Vd(this.f.mL,"width").replace("px","")),c=Number(v.h.Vd(this.f.mL,"height").replace("px",""))||56,d=this.map.getSize().width,e=this.map.getSize().height;if(!(0>=b||0>= c||0>=d||0>=e)){var g=this.map.Qb(this.map.getCenter()),g=g.add(new v.G(d/2-14-b/2,14+c/2-e/2)),g=this.map.jg(g);this.n6(this.f.mL,g,this.map,a.w,b,c)}},i6:function(){this.LQ();var a=this.lo[this.Cn].Zd;if(0===a.length)this.f.list.style.display="none";else{this.f.list.style.display="block";this.f.list.style.height=20*a.length+"px";var a=a.join(","),b;for(b in this.Zd)this.Zd.hasOwnProperty(b)&&(-1!==a.indexOf(b)?this.Zd[b].td.style.display="block":this.Zd[b].td.style.display="none")}},n6:function(a, b,c,d,e,g){a.bi||(a.bi=[]);var h=d.getZooms(),k=Math.ceil(c.getZoom()),k=Math.min(Math.max(k,h[0]),h[1]);b=c.Qb(b,k);c=Math.floor((b.y-g/2)/256);for(var h=Math.floor((b.x+e/2)/256),l=Math.floor((b.y+g/2)/256),m=0,n=Math.floor((b.x-e/2)/256);n<=h;n+=1)for(var p=c;p<=l;p+=1){a.bi.length<=m&&a.bi.push(v.h.create("img",a));var q=a.bi[m];q.style.visibility="inherit";q.style.position="absolute";q.style.left=256*n-b.x+e/2+"px";q.style.top=256*p-b.y+g/2+"px";var r=d.getTileUrl(n,p,k);q.src=r;m+=1}for(;m< a.bi.length;)a.bi[m].style.visibility="hidden",m+=1},ub:function(a){(this.visible=a.visible)?v.h.Fa(this.f.J,{visibility:"visible"}):v.h.Fa(this.f.J,{visibility:"hidden"})},hide:function(){v.e.add(this.CLASS_NAME,"hide");this.ub({visible:!1});v.event.M(this,"hide")},show:function(){v.e.add(this.CLASS_NAME,"show");this.ub({visible:!0});v.event.M(this,"show")},Cs:function(){return this.visible?[120,80,0,0]:[0,0,0,0]}});window.AMap.MapType=v.BY; ');_jsload_('AMap.PolyEditor', 'v.MY=v.aa.extend({ga:[v.ja],B:function(a,b){this.j=a;this.Wc=b;this.lb=v.A.lb;this.CLASS_NAME="AMap.PolyEditor"},kS:function(){this.Wa||this.ap();for(var a=0;a<this.Wa.length;a+=1)for(var b=this.Wa[a],c=0;c<b.length;c+=1)b[c].setMap(this.j),b[c].Fk&&b[c].Fk.setMap(this.j)},UV:function(){if(this.Wa){for(var a=0;a<this.Wa.length;a+=1)for(var b=this.Wa[a],c=0;c<b.length;c+=1)b[c].setMap(null),b[c].$j(),b[c].Fk&&(b[c].Fk.setMap(null),b[c].Fk.$j());delete this.Wa}},open:function(){v.e.add(this.CLASS_NAME, "open");this.kS();this.Wc.g("setPath",this.xV,this)},xV:function(){this.UV();this.kS()},close:function(){v.e.add(this.CLASS_NAME,"close");this.UV();this.Wc.I("setPath",this.xV,this);v.event.M(this,"end",{type:"end",target:this.Wc})},ap:function(){this.Wa=[];var a=this.Wc.getPath();if(a.length){a[0]instanceof v.W&&(a=[a]);this.fp=a;for(var b=0;b<a.length;b+=1){var c=a[b];this.Wa[b]=[];for(var d=0,e=0,g=0,d=0,g=c.length;d<g;d+=1)e=this.sg(c[d],d,b),e.g("click",this.lF,this),this.Wa[b].push(e);d=0;for(e= g-1;d<g;e=d,d+=1)if(0!==d||X.D.Vb&&this.Wc instanceof X.D.Vb)c=this.Wa[b][e],e=this.Wa[b][d],this.Ey(c,e,b),this.Yz(c,e)}}},sg:function(a,b,c){var d=new X.D.bb({position:a,draggable:!0,icon:new X.D.og({size:new v.Ic(11,11),imageOffset:new v.G(0,0),image:this.lb+"/images/dd-via.png"}),offset:new v.G(-6,-6),cursor:"pointer",zIndex:this.Wc.get("zIndex")+1E3});d.ka=!0;d.Cha=a;d.Pu=b;d.Pi=c;d.g("dragging",this.Nj,this);d.g("dragend",function(a){this.zk(a);var b={target:this.Wc};b.lnglat=a.target.getPosition(); a=this.j.lngLatToContainer(b.lnglat);b.pixel=new v.G(a.x,a.y,1);v.event.M(this,"adjust",b)},this);return d},Bz:function(a){var b=a.Pu;a.setMap(null);this.Wa[a.Pi].splice(b,1);this.fp[a.Pi].splice(b,1);this.Gq(this.fp,!0);this.aR(this.Wa[a.Pi]);a.I("dragging",this.Nj,this).I("dragend",this.zk,this).I("click",this.lF,this)},zk:function(){this.Wc.X9=!0;this.Wc.r("edit")},Nj:function(a){a=a.target;a.xc=!0;a.$u&&a.$u.setPosition(this.uE(a.Nr,a));a.Fk&&a.Fk.setPosition(this.uE(a,a.Hr));this.fp[a.Pi][a.Pu]= a.getPosition();this.Gq(this.fp,!0)},lF:function(a){if(a.target.xc||this.fp[a.target.Pi].length<=(this.Wc instanceof X.D.Db?2:3))a.target.xc=!1;else{var b=a.target;this.Bz(b);var c={target:this.Wc};c.lnglat=a.target.getPosition();a=this.j.lngLatToContainer(c.lnglat);c.pixel=new v.G(a.x,a.y,1);v.event.M(this,"removenode",c);this.Yz(b.Nr,b.Hr);b.$u&&b.$u.setMap(null);b.Fk&&b.Fk.setMap(null);b.Nr&&b.Hr?this.Ey(b.Nr,b.Hr,b.Pi):b.Nr?b.Hr||(b.Nr.Fk=null):b.Hr.$u=null;this.zk()}},aR:function(a){for(var b= 0,c=a.length;b<c;b+=1)a[b].Pu=b},Gq:function(a){this.Wc&&(this.Wc instanceof X.D.Db?a=a[0]:1!==a.length||a[0]instanceof v.W||(a=a[0]),this.Wc.setPath(a,!0))},Ey:function(a,b,c){var d=this.uE(a,b),e=this.sg(d),g,h,k;e.setOpacity(0.5);e.Pi=c;a.Fk=b.$u=e;h=function(){var c=b.Pu;e.Pu=c;e.xc=!0;e.I("click",g,this).g("click",this.lF,this);d=e.getPosition();this.fp[e.Pi].splice(c,0,d);this.Gq(this.fp,!0);this.Wa[e.Pi].splice(c,0,e);e.setOpacity(1);this.aR(this.Wa[e.Pi]);this.Yz(a,e);this.Yz(e,b)};k=function(c){e.xc= !1;e.I("dragstart",h,this);e.I("dragend",k,this);if(e.getMap()){var d={target:this.Wc};d.lnglat=c.target.getPosition();c=this.j.lngLatToContainer(d.lnglat);d.pixel=new v.G(c.x,c.y,1);v.event.M(this,"addnode",d);this.Ey(a,e,e.Pi);this.Ey(e,b,e.Pi)}};g=function(a){h.call(this);k.call(this,a);this.zk()};e.g("click",g,this).g("dragstart",h,this).g("dragend",k,this);e.setMap(this.j)},Yz:function(a,b){a&&(a.Hr=b);b&&(b.Nr=a)},uE:function(a,b){var c=this.j,d=c.Qb(a.getPosition()),e=c.Qb(b.getPosition()); return c.jg(d.add(e).mc(2))}});window.AMap.PolyEditor=v.MY; ');_jsload_('AMap.CircleEditor', 'v.uL=v.aa.extend({ga:[v.ja],B:function(a,b,c,d){this.CLASS_NAME="AMap.CircleEditor";v.e.cb(this.CLASS_NAME,d);this.j=a;this.nb=b;this.nb.setOptions({draggable:c||!1});this.lb=v.A.lb;d&&d.HA&&(this.HA=!0)},open:function(){v.e.add(this.CLASS_NAME,"open");this.ad&&this.Cb||this.ap();this.ad&&this.ad.setMap(this.j);if(this.Cb)for(var a=0,b=this.Cb.length;a<b;a+=1)this.Cb[a].setMap(this.j);this.fv=this.nb.getOptions.draggable;this.nb.g("dragstart",this.dP,this);this.nb.g("dragging",this.cP,this);this.nb.g("setCenter", this.Pv,this);this.nb.g("setRadius",this.ax,this)},Pv:function(){var a=this.nb.getCenter(),b=this.ad.getPosition(),b=a.Va(b);this.Cb[0].setPosition(this.Cb[0].getPosition().add(b));this.ad.setPosition(a)},ax:function(){var a=this.nb.getCenter(),b=this.nb.getRadius(),c=b*Math.cos(Math.PI/4);this.Cb[0].setPosition(a.offset(c,c));this.Cb[0].setLabel({content:"\\u534a\\u5f84:"+b+"\\u7c73"})},close:function(){v.e.add(this.CLASS_NAME,"close");this.ad&&(this.ad.setMap(null),delete this.ad);if(this.Cb){for(var a= 0,b=this.Cb.length;a<b;a+=1)this.Cb[a].setMap(null);delete this.Cb}this.nb.setOptions({draggable:this.fv});this.nb.I("dragstart",this.dP,this);this.nb.I("dragging",this.cP,this);this.nb.I("setCenter",this.Pv,this);this.nb.I("setRadius",this.ax,this);this.r("end",{type:"end",target:this.nb})},dP:function(a){this.eM=a.lnglat},cP:function(a){var b=a.lnglat.Va(this.eM);this.eM=a.lnglat;this.ad.setPosition(this.ad.getPosition().add(b));this.Cb[0].setPosition(this.Cb[0].getPosition().add(b))},ap:function(){this.OD(); this.QD()},OD:function(){var a=this.nb.getCenter();this.HA?(this.ad=new X.D.bb({position:a,visible:!1}),this.ad.ka=!0):this.ad=this.sg(a)},QD:function(){var a=this.nb.getCenter(),a=this.Ku(a);this.Cb=[];this.Cb.push(this.sg(a,!0))},Ku:function(a){var b=this.nb.getRadius()*Math.cos(Math.PI/4);return a.offset(b,b)},sg:function(a,b){var c=new X.D.bb({position:a,draggable:!0,icon:new X.D.og({size:new v.Ic(11,11),imageOffset:new v.G(0,0),image:this.lb+"/images/dd-via.png"}),offset:new v.G(-6,-6),zIndex:this.nb.get("zIndex")+ 1E3});c.ka=!0;b&&(c.setLabel({content:"\\u534a\\u5f84:"+this.nb.getRadius()+"\\u7c73",offset:new AMap.Pixel(15,-4)}),c.setTitle("\\u62d6\\u62fd\\u4fee\\u6539\\u534a\\u5f84"));this.qu(c);return c},qu:function(a){a.g("dragstart",this.CP,this).g("dragging",this.Nj,this).g("dragend",this.bn,this)},$Q:function(a){a.I("dragstart",this.CP,this).I("dragging",this.Nj,this).I("dragend",this.bn,this)},CP:function(){},zk:function(){this.nb.X9=!0;this.nb.r("edit")},Nj:function(a){a=a.target;var b=a.getPosition();a===this.ad? this.dF(b):this.ov(b)},bn:function(){this.zk();this.r("dragend",{type:"dragend",target:this.nb})},dF:function(a){if(!this.HA){var b=this.Cb[0].getPosition().add(a.Va(this.nb.getCenter()));this.Cb[0].setPosition(b);this.nb.setCenter(a,!0);this.r("move",{type:"move",lnglat:a,target:this.nb})}},ov:function(a){var b=this.nb.getCenter();a=Math.round(b.distance(a));this.nb.setRadius(a,!0);this.Cb[0].setLabel({content:"\\u534a\\u5f84:"+a+"\\u7c73"});this.r("adjust",{type:"adjust",radius:a,target:this.nb})}}); window.AMap.CircleEditor=v.uL; ');_jsload_('AMap.Geocoder', 'v.EL=v.aa.extend({ga:[v.ja],B:function(a){this.L=a||{};this.url=v.A.gd+"/v3/geocode";this.CLASS_NAME="AMap.Geocoder";v.e.cb(this.CLASS_NAME,a)},getLocation:function(a,b){v.e.add(this.CLASS_NAME,"getLocation");if(a){var c=["key="+v.A.key,"s=rsv3"];this.$m(this.L,{city:"city"},c);c=new v.Na.$a(this.url+"/geo"+(0<c.length?"?"+c.join("&"):""),{callback:"callback",MA:{address:a}});c.g("complete",function(a){this.P0(a,b)},this);c.g("error",function(a){this.Bb(a,b)},this)}else v.event.M(this,"error",{info:"NO_PARAMS"}), b&&"function"===typeof b&&b("error","NO_PARAMS")},setCity:function(a){v.e.add(this.CLASS_NAME,"setCity");this.L.city=a},setLang:function(a){v.e.add(this.CLASS_NAME,"setLang");this.L.lang=a||"zh_cn"},getLang:function(){return this.L.lang},getAddress:function(a,b){v.e.add(this.CLASS_NAME,"getAddress");a=v.a.xa(a);var c=[],d=["key="+v.A.key,"s=rsv3","language="+this.L.lang];if(a instanceof Array){for(var e=0,g=a.length;e<g;e+=1)c.push(a[e]+"");c=c.join("|");d.push("batch=true")}else c=a+"";d.push("location="+ c);this.$m(this.L,{radius:"radius",extensions:"extensions"},d);c=new v.Na.$a(this.url+"/regeo"+(0<d.length?"?"+d.join("&"):""),{callback:"callback",as:!0,hd:"REGEO"});c.g("complete",function(a){this.w6(a,b)},this);c.g("error",function(a){this.Bb(a,b)},this)},$m:function(a,b,c){for(var d in a)"undefined"!==typeof a[d]&&"undefined"!==typeof b[d]&&c.push(b[d]+"="+a[d])},Nc:function(a){a=a.split(",");return new v.W(a[0],a[1])},ca:function(a){return"object"===typeof a||"undefined"===typeof a?"":a},tb:function(a){a= parseInt(a,10);return isNaN(a)?0:a},P0:function(a,b){var c;if(parseInt(a.status,10))if(c={info:a.info,resultNum:a.count,geocodes:[]},a.geocodes.length){for(var d=0,e=a.geocodes.length;d<e;d+=1){var g=a.geocodes[d],g={location:this.Nc(g.location),formattedAddress:this.ca(g.formatted_address),adcode:this.ca(g.adcode),level:this.ca(g.level),addressComponent:{neighborhood:this.ca(g.neighborhood.name),neighborhoodType:this.ca(g.neighborhood.type),building:this.ca(g.building.name),buildingType:this.ca(g.building.type), province:this.ca(g.province),city:this.ca(g.city),district:this.ca(g.district),township:this.ca(g.township),citycode:this.ca(g.citycode),street:this.ca(g.street),streetNumber:this.ca(g.number)}};c.geocodes.push(g)}v.event.M(this,"complete",c);b&&"function"===typeof b&&b("complete",c)}else c.info="NO_DATA",v.event.M(this,"complete",c),b&&"function"===typeof b&&b("no_data",{});else c={info:a.info},v.event.M(this,"error",c),b&&"function"===typeof b&&b("error",a.info)},Hca:function(a){var b=[];if(a)for(var c= 0;c<a.length;c+=1)a[c].id&&b.push({name:this.ca(a[c].name),id:this.ca(a[c].id),location:this.Nc(a[c].location)});return b},C_:function(a){var b=[];if(a)for(var c=0,d=a.length;c<d;c+=1)b.push(this.KM(a[c]));return b},KM:function(a){var b={addressComponent:{citycode:this.ca(a.addressComponent.citycode),adcode:this.ca(a.addressComponent.adcode),businessAreas:this.Hca(a.addressComponent.businessAreas),neighborhoodType:this.ca(a.addressComponent.neighborhood.type),neighborhood:this.ca(a.addressComponent.neighborhood.name), building:this.ca(a.addressComponent.building.name),buildingType:this.ca(a.addressComponent.building.type),street:this.ca(a.addressComponent.streetNumber.street),streetNumber:this.ca(a.addressComponent.streetNumber.number),province:this.ca(a.addressComponent.province),city:this.ca(a.addressComponent.city),district:this.ca(a.addressComponent.district),township:this.ca(a.addressComponent.township)},formattedAddress:this.ca(a.formatted_address),roads:[],crosses:[],pois:[]};a.roads&&(b.roads=this.j5(a.roads)); if(a.roadinters){var c=a.roadinters;this.sd(c)||(c=[a.roadinters.roadinter]);b.crosses=this.a5(c)}a.pois&&(b.pois=this.tF(a.pois));a.aois&&(b.aois=this.V4(a.aois));return b},w6:function(a,b){var c;if(parseInt(a.status,10)){c={info:a.info};if(a.regeocode){if(""===this.ca(a.regeocode.formatted_address)){c.info="NO_DATA";v.event.M(this,"complete",c);b&&"function"===typeof b&&b("no_data",{});return}c.regeocode=this.KM(a.regeocode)}else a.regeocodes&&(c.regeocodes=this.C_(a.regeocodes));v.event.M(this, "complete",c);b&&"function"===typeof b&&b("complete",c)}else c={info:a.info},v.event.M(this,"error",c),b&&"function"===typeof b&&b("error",a.info)},tF:function(a){for(var b=[],c=0;c<a.length;c+=1){var d=a[c];b[c]={id:d.id,name:d.name,type:d.type,address:this.ca(d.address),distance:this.tb(d.distance),tel:this.ca(d.tel),location:this.Nc(d.location),direction:this.ca(d.direction),businessArea:this.ca(d.businessarea)}}return b},V4:function(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c];b.push({adcode:this.ca(e.adcode), area:this.ca(e.area),id:this.ca(e.id),location:this.Nc(e.location),name:this.ca(e.name),type:this.ca(e.type)})}return b},sd:function(a){return"[object Array]"===Object.prototype.toString.call(a)},a5:function(a){for(var b=[],c=0;c<a.length;c+=1){var d=a[c];b[c]={distance:this.tb(d.distance),direction:this.ca(d.direction),first_id:this.ca(d.first_id),first_name:this.ca(d.first_name),second_name:this.ca(d.second_name),second_id:this.ca(d.second_id),location:this.Nc(d.location)}}return b},j5:function(a){for(var b= [],c=0;c<a.length;c+=1){var d=a[c];b[c]={id:d.id,name:d.name,distance:this.tb(d.distance),direction:this.ca(d.direction),location:this.Nc(d.location)}}return b},Bb:function(a,b){X.event.M(this,"error",a);b&&"function"===typeof b&&b("error",a.info)}});window.AMap.Geocoder=v.EL; ');_jsload_('AMap.Autocomplete', 'v.sL=v.aa.extend({Kg:".amap-sug-result{position:absolute;z-index:1024;background-color:#fefefe;border:1px solid #d1d1d1;bottom:auto}.auto-item:hover{background-color:#cae1ff}.auto-item{white-space:nowrap;font-size:12px;cursor:pointer;padding:4px}.auto-item-span{color:#c1c1c1;padding-left:4px}",ga:[v.ja],B:function(a){this.CLASS_NAME="AMap.Autocomplete";v.e.cb(this.CLASS_NAME,a);this.L=a||{};this.url=v.A.gd+"/v3/assistant/inputtips";void 0==this.L.closeResultOnScroll&&(this.L.closeResultOnScroll=!0); void 0==this.L.outPutDirAuto&&(this.L.outPutDirAuto=!0);this.L.nc&&("string"===typeof this.L.output?this.nc=document.getElementById(this.L.output):v.a.nB(this.L.output)&&(this.nc=this.L.output));if(this.L.input){"string"===typeof this.L.input?this.input=document.getElementById(this.L.input):v.a.nB(this.L.input)&&(this.input=this.L.input);this.input&&this.Laa();this.nc||(this.nc=v.h.create("div",document.body,"amap-sug-result"),this.nc.style.visibility="hidden",this.ZU=!0);var b=this;a=function(){b.nc.style.visibility= "hidden"};var c=v.h.getElementsByClassName("amap-maps");if(c&&c.length)for(var d=0;d<c.length;d+=1)v.C.g(c[d],"click",a);v.C.g(document,"click",a);v.C.g(document,"mousewheel",a);v.C.g(window,"resize",this.NB,this);this.L.closeResultOnScroll?v.C.g(window,"scroll",this.closeResult,this):v.C.g(window,"scroll",this.NB,this)}},closeResult:function(){this.nc&&(this.nc.style.visibility="hidden")},Laa:function(){"oninput"in this.input&&v.C.g(this.input,"input",this.ica,this);v.C.g(this.input,"keyup",this.oca, this);v.C.g(this.input,"keydown",function(a){v.C.stopPropagation(a)},this)},ica:function(){this.nc&&this.vR()},oca:function(a){var b=(a||window.event).keyCode;if(a=this.nc){var c=a.DA;40===b?a.qh&&a.qh.length&&(a.childNodes[c]&&(a.childNodes[c].style.background=""),c=(c+1)%a.qh.length,a.DA=c,a.childNodes[c].style.background="#CAE1FF",this.input.value=a.qh[c].name,this.r("choose",{poi:this.nc.qh[c]})):38===b?a.qh&&a.qh.length&&(a.childNodes[c]&&(a.childNodes[c].style.background=""),c=(c-1+a.qh.length)% a.qh.length,a.DA=c,a.childNodes[c].style.background="#CAE1FF",this.input.value=a.qh[c].name,this.r("choose",{poi:this.nc.qh[c]})):13===b?(a=this.nc)&&-1!==a.DA&&this.wW(c):"oninput"in this.input||this.vR()}},wW:function(a){var b=this.input;if(this.nc&&this.nc.qh){var c=this.nc.qh[a].name;this.r("select",{poi:this.nc.qh[a]});b.value=c;this.nc.qh="";this.nc.style.display="none"}},vR:function(){var a=this.input.value;0<a.length?this.uU!==a&&this.search(a):(this.uU="",this.nc.style.display="none")},jK:function(a){this.L.noshowDistrict= a},M7:function(a){this.nc.innerHTML="";var b=this,c=document.createDocumentFragment();if(a&&0<a.length&&this.input){for(var d=function(a){b.wW(a.target.MV)},e=0;e<a.length;e++){var g=v.h.create("div",c,"auto-item");g.id="amap-sug"+e;g.MV=e;v.h.fillText(g,a[e].name);v.C.g(g,"click",d);b.L.noshowDistrict||(g=v.h.create("span",g,"auto-item-span"),v.h.fillText(g,a[e].district),g.MV=e)}this.nc.DA=-1;this.nc.qh=a;this.nc.appendChild(c);this.nc.style.display="block";this.nc.style.visibility="visible"}else this.nc.style.visibility= "hidden";this.ZU&&this.NB()},setType:function(a){v.e.add(this.CLASS_NAME,"setType");this.L.type=a},setLang:function(a){v.e.add(this.CLASS_NAME,"setLang");this.L.lang=a||"zh_cn"},getLang:function(){return this.L.lang},setCity:function(a){v.e.add(this.CLASS_NAME,"setCity");this.L.city=a},setCityLimit:function(a){this.L.citylimit=a},search:function(a,b){v.e.add(this.CLASS_NAME,"search");if(a){this.uU=a;var c=["s=rsv3"];c.push("key="+v.A.key);this.L.datatype&&c.push("datatype="+this.L.datatype);this.$m(this.L, {city:"city",type:"type",citylimit:"citylimit",lang:"language"},c);var d=this,c=new v.Na.$a(d.url+(0<c.length?"?"+c.join("&"):""),{callback:"callback",MA:{keywords:a}});c.g("complete",function(a){d.Wb(a,b)},d);c.g("error",function(a){d.Bb(a,b)},d)}else b&&"function"===typeof b&&b("error","NO_PARAMS")},Bb:function(a,b){X.event.M(this,"error",a);b&&"function"===typeof b&&b("error",a.info)},tb:function(a){a=parseInt(a,10);return isNaN(a)?0:a},IB:function(a){return a instanceof Array&&!a.length?"":a}, Wb:function(a,b){var c;if(parseInt(a.status,10))if(a.tips&&0!==a.tips.length){for(c=0;c<a.tips.length;c+=1){var d=a.tips[c];d.location&&d.location.length&&(d.location=v.a.xa(d.location.split(",")));d.location=this.IB(d.location);d.adcode=this.IB(d.adcode);d.district=this.IB(d.district);d.id=this.IB(d.id)}c={info:a.info,count:this.tb(a.count),tips:a.tips};X.event.M(this,"complete",c);b&&"function"===typeof b&&b("complete",c);this.input&&this.M7(a.tips)}else this.nc&&(this.nc.innerHTML="",this.nc.style.visibility= "hidden"),c={info:"ok"===a.info.toLowerCase()?"NO_DATA":a.info},X.event.M(this,"complete",c),b&&"function"===typeof b&&b("no_data",{});else c={info:a.info},X.event.M(this,"error",c),b&&"function"===typeof b&&b("error",a.info)},NB:function(){var a=this.input.getBoundingClientRect(),b=this.nc.getBoundingClientRect(),c=b.height;void 0===c&&(c=b.bottom-b.top);b=a.width;void 0===b&&(b=a.right-a.left);var d=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;this.nc.style.left= a.left+(document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft)-1+"px";var e=document.documentElement.clientHeight;this.nc.style.top=this.L.outPutDirAuto&&a.bottom+c+10>e&&a.bottom>c?a.top+d-c-2+"px":a.bottom+d+2+"px";this.nc.style.minWidth=b+2+"px";return this},$m:function(a,b,c){for(var d in a)"undefined"!==typeof a[d]&&"undefined"!==typeof b[d]&&c.push(b[d]+"="+a[d])}});window.AMap.Autocomplete=v.sL; ');_jsload_('AMap.PlaceSearch', 'v.iy=v.aa.extend({ga:[v.ja],B:function(a){this.CLASS_NAME="AMap.PlaceSearch";v.e.cb(this.CLASS_NAME,a);this.L=v.extend({showCover:!0,autoFitView:!0},a||{});this.L.pageIndex=this.L.pageIndex||1;this.L.pageSize="number"!==typeof this.L.pageSize||0>this.L.pageSize?10:50<this.L.pageSize?50:this.L.pageSize;this.url=v.A.gd+"/v3/place";this.VJ=this.L.renderEngine||"PlaceSearchRenderByMarkerList";if(this.L.map||this.L.panel)v.fb.load("AMap."+this.VJ),this.L.extensions="all";this.L.children&&(this.L.extensions= "all")},clear:function(){v.e.add(this.CLASS_NAME,"clear");this.Q&&this.Q.clear()},setLang:function(a){v.e.add(this.CLASS_NAME,"setLang");this.L.lang=a||"zh_cn"},getLang:function(){return this.L.lang},search:function(a,b){var c=["s=rsv3","children="+(this.L.children?"1":"")];c.push("key="+v.A.key);this.$m(this.L,{city:"city",rankBy:"sortrule",type:"types",pageIndex:"page",pageSize:"offset",extensions:"extensions",citylimit:"citylimit"},c);this.zz(this.url+"/text",c,b,{keywords:a||""},"KEYWORD",arguments)}, searchInBounds:function(a,b,c){v.e.add(this.CLASS_NAME,"searchInBounds");if(b){var d=["polygon="+b,"s=rsv3","children="+(this.L.children?"1":"")];d.push("key="+v.A.key);this.$m(this.L,{city:"city",rankBy:"sortrule",type:"types",pageIndex:"page",pageSize:"offset",extensions:"extensions",citylimit:"citylimit"},d);this.zz(this.url+"/polygon",d,c,{keywords:a||""},"POLYGON",arguments)}else v.event.M(this,"error",{info:"NO_PARAMS"}),c&&"function"===typeof c&&c("error","NO_PARAMS")},searchNearBy:function(a, b,c,d){v.e.add(this.CLASS_NAME,"searchNearBy");if(b){b=v.a.xa(b);var e=["location="+b,"s=rsv3","children="+(this.L.children?"1":"")];e.push("key="+v.A.key);c&&e.push("radius="+c);this.$m(this.L,{city:"city",rankBy:"sortrule",type:"types",pageIndex:"page",pageSize:"offset",extensions:"extensions",citylimit:"citylimit"},e);this.zz(this.url+"/around",e,d,{keywords:a||""},"NEARBY",arguments)}else v.event.M(this,"error",{info:"NO_PARAMS"}),d&&"function"===typeof d&&d("error","NO_PARAMS")},getDetails:function(a, b){v.e.add(this.CLASS_NAME,"getDetails");if(a){var c=["id="+a,"s=rsv3"];c.push("key="+v.A.key);this.zz(this.url+"/detail",c,b,{},"ID")}else v.event.M(this,"error",{info:"NO_PARAMS"}),b&&"function"===typeof b&&b("error","NO_PARAMS")},setType:function(a){v.e.add(this.CLASS_NAME,"setType");this.L.type=a},setPageIndex:function(a){v.e.add(this.CLASS_NAME,"setPageIndex");this.L.pageIndex=a||1},setPageSize:function(a){v.e.add(this.CLASS_NAME,"setPageSize");this.L.pageSize="number"!==typeof a||0>a?10:50< a?50:a},setCity:function(a){v.e.add(this.CLASS_NAME,"setCity");this.L.city=a},setCityLimit:function(a){this.L.citylimit=a},$m:function(a,b,c){for(var d in a)"undefined"!==typeof a[d]&&"undefined"!==typeof b[d]&&c.push(b[d]+"="+a[d]);c.push("language="+this.getLang())},zz:function(a,b,c,d,e,g){a+=0<b.length?"?"+b.join("&"):"";a=new v.Na.$a(a,{callback:"callback",hd:e,as:!0,MA:d});a.g("complete",function(a){this.Wb(a,c,e,g)},this);a.g("error",function(a){this.Bb(a,c)},this)},ca:function(a){return a instanceof Array&&0===a.length||"undefined"===typeof a?"":a},BN:function(a){for(var b in a)a.hasOwnProperty(b)&&(a[b]=this.ca(a[b]),"object"===typeof a[b]&&this.BN(a[b]))},Nc:function(a){if(a){var b=a.split(",");return 2===b.length?new v.W(b[0],b[1]):a}return a},tF:function(a){function b(a){return a?(a=a.split(","),new v.W(a[0],a[1])):null}this.BN(a);var c={id:a.id,name:a.name,type:a.type,location:b(a.location),address:a.address,tel:a.tel,distance:parseFloat(a.distance),shopinfo:a.shopinfo};c.shopinfo=a.shopinfo&& a.shopinfo.length?a.shopinfo:"";if(a.children){for(var d=a.children,e=0,g=d.length;e<g;e++)d[e].location=b(d[e].location);c.children=d}d={website:a.website,pcode:a.pcode,citycode:a.citycode,adcode:a.adcode,postcode:a.postcode,pname:a.pname,cityname:a.cityname,adname:a.adname,email:a.email,photos:a.photos,entr_location:b(a.entr_location),exit_location:b(a.exit_location),groupbuy:"0"!==a.groupbuy_num,discount:"0"!==a.discount_num};"1"===a.indoor_map?(d.indoor_map=!0,d.indoor_data={cpid:this.ca(a.indoor_data.cpid), floor:this.ca(a.indoor_data.floor),truefloor:this.ca(a.indoor_data.truefloor)}):d.indoor_map=!1;e={groupbuys:"",discounts:"",deep_type:"",dining:"",hotel:"",cinema:"",scenic:""};if(a.rich_content){if(d.groupbuy){var g=a.rich_content.groupbuys,h=g.length;0<h&&(e.groupbuys=[]);for(var k=0;k<h;k+=1)e.groupbuys.push({title:g[k].title,type_code:g[k].typecode,type:g[k].type,detail:g[k].detail,stime:g[k].start_time,etime:g[k].end_time,count:g[k].num,sold_num:parseInt(g[k].sold_num),original_price:parseFloat(g[k].original_price), groupbuy_price:parseFloat(g[k].groupbuy_price),discount:parseFloat(g[k].discount),ticket_address:g[k].ticket_address,ticket_tel:g[k].ticket_tel,photos:g[k].photos,url:g[k].url,provider:""})}if(d.discount)for(g=a.rich_content.discounts,h=g.length,0<h&&(e.discounts=[]),k=0;k<h;k+=1)e.discounts.push({title:g[k].title,detail:g[k].detail,start_time:g[k].start_time,end_time:g[k].end_time,sold_num:parseInt(g[k].sold_num),photos:g[k].photos,url:g[k].url,provider:""})}if(a.deep_info)switch(e.deep_type=a.deep_info.type, a=a.deep_info,e.deep_type){case "cinema":e.cinema={intro:a.intro,rating:a.rating,deep_src:"",parking:a.parking,opentime_GDF:a.opentime_GDF,opentime:a.opentime,photos:a.photos};e.deep_type="CINEMA";break;case "dining":e.dining={cuisines:a.cuisines,tag:a.tag,intro:a.intro,rating:a.rating,cp_rating:a.cp_rating,deep_src:"",taste_rating:a.taste_rating,environment_rating:a.environment_rating,service_rating:a.service_rating,cost:a.cost,recommend:a.recommend,atmosphere:a.atmosphere,ordering_wap_url:a.ordering_wap_url, ordering_web_url:a.ordering_web_url,ordering_app_url:a.ordering_app_url,opentime_GDF:a.opentime_GDF,opentime:a.opentime,addition:a.addition,photos:a.photos};e.deep_type="DINING";break;case "scenic":e.scenic={intro:a.intro,rating:a.rating,deep_src:"",level:a.level,price:a.price,season:a.season,recommend:a.recommend,theme:a.theme,ordering_wap_url:a.ordering_wap_url,ordering_web_url:a.ordering_web_url,opentime_GDF:a.opentime_GDF,opentime:a.opentime,photos:a.photos};e.deep_type="SCENIC";break;case "hotel":e.hotel= {rating:a.rating,star:a.star,intro:a.intro,lowest_price:a.lowest_price,faci_rating:a.faci_rating,health_rating:a.health_rating,environment_rating:a.environment_rating,service_rating:a.service_rating,traffic:a.traffic,addition:a.addition,deep_src:"",photos:a.photos},e.deep_type="HOTEL"}a={};for(var l in c)c.hasOwnProperty(l)&&(a[l]=c[l]);if(this.L.extensions&&"base"!==this.L.extensions){for(var m in e)e.hasOwnProperty(m)&&e[m]&&(a[m]=e[m]);for(var n in d)d.hasOwnProperty(n)&&(a[n]=d[n])}return a}, close:function(){v.e.add(this.CLASS_NAME,"close");this.closed=!0},open:function(){v.e.add(this.CLASS_NAME,"open");this.closed=!1},poiOnAMAP:function(a){v.e.add(this.CLASS_NAME,"poiOnAMAP");var b={},c=v.a.xa(a.location);b.id=a.id;c&&(b.y=c.P,b.x=c.O);b.name=a.name;b.address=a.address;v.lg.Do(v.lg.mT(b))},detailOnAMAP:function(a){v.e.add(this.CLASS_NAME,"detailOnAMAP");var b={},c=v.a.xa(a.location);b.id=a.id;c&&(b.y=c.P,b.x=c.O);b.name=a.name;v.lg.Do(v.lg.kT(b))},Wb:function(a,b,c,d){if(!this.closed){var e; if(parseInt(a.status,10)){e={info:a.info,poiList:{}};e.poiList={pois:[],count:parseInt(a.count,10),pageIndex:this.L.pageIndex,pageSize:this.L.pageSize};if(a.pois)for(var g=0;g<a.pois.length;g+=1)e.poiList.pois[g]=this.tF(a.pois[g]);a.suggestion&&a.suggestion.keywords.length&&(e.keywordList=a.suggestion.keywords,e.info="TIP_KEYWORDS");if(a.suggestion&&a.suggestion.cities.length){for(var g=a.suggestion.cities,h=[],k=0;k<g.length;k+=1){var l=g[k],m;for(m in l)l.hasOwnProperty(m)&&"num"===m&&(l.count= l[m],delete l[m]);l.count=parseInt(l.count);h.push(l)}e.info="TIP_CITIES";e.cityList=h}a.count&&0!==parseInt(a.count,10)||e.cityList||e.keywordList?(v.event.M(this,"complete",e),(this.L.map||this.L.panel)&&this.pu(e,c,d),b&&"function"===typeof b&&b("complete",e)):(e.info="ok"===a.info.toLowerCase()?"NO_DATA":a.info,v.event.M(this,"complete",e),(this.L.map||this.L.panel)&&this.pu(e,c,d),b&&"function"===typeof b&&(e.cityList||e.keywordList?b("complete",e):b("no_data",{})))}else e={info:a.info},X.event.M(this, "error",e),b&&"function"===typeof b&&b("error",a.info)}},pu:function(a,b,c){var d=this;v.fb.load("AMap."+this.VJ,function(){d.Q||(d.render=d.Q=new window.AMap[d.VJ](d.L.showCover));d.Q.autoRender({data:a,eventTrigger:function(a,b){v.event.M(d,a,b)},methodName:{KEYWORD:"search",NEARBY:"searchNearBy",POLYGON:"searchInBounds",ROUTE:"searchNearRoute"}[b],placeSearchInstance:d,methodArgumments:c,renderStyle:d.L.renderStyle||"newpc",panel:d.L.panel,map:d.L.map,autoFitView:d.L.autoFitView});d.Hz=d.Q.searchCircle})}, Bb:function(a,b){X.event.M(this,"error",a);b&&"function"===typeof b&&b("error",a.info)}});window.AMap.PlaceSearch=v.iy; ');_jsload_('AMap.PolyEditor', 'v.MY=v.aa.extend({ga:[v.ja],B:function(a,b){this.j=a;this.Wc=b;this.lb=v.A.lb;this.CLASS_NAME="AMap.PolyEditor"},kS:function(){this.Wa||this.ap();for(var a=0;a<this.Wa.length;a+=1)for(var b=this.Wa[a],c=0;c<b.length;c+=1)b[c].setMap(this.j),b[c].Fk&&b[c].Fk.setMap(this.j)},UV:function(){if(this.Wa){for(var a=0;a<this.Wa.length;a+=1)for(var b=this.Wa[a],c=0;c<b.length;c+=1)b[c].setMap(null),b[c].$j(),b[c].Fk&&(b[c].Fk.setMap(null),b[c].Fk.$j());delete this.Wa}},open:function(){v.e.add(this.CLASS_NAME, "open");this.kS();this.Wc.g("setPath",this.xV,this)},xV:function(){this.UV();this.kS()},close:function(){v.e.add(this.CLASS_NAME,"close");this.UV();this.Wc.I("setPath",this.xV,this);v.event.M(this,"end",{type:"end",target:this.Wc})},ap:function(){this.Wa=[];var a=this.Wc.getPath();if(a.length){a[0]instanceof v.W&&(a=[a]);this.fp=a;for(var b=0;b<a.length;b+=1){var c=a[b];this.Wa[b]=[];for(var d=0,e=0,g=0,d=0,g=c.length;d<g;d+=1)e=this.sg(c[d],d,b),e.g("click",this.lF,this),this.Wa[b].push(e);d=0;for(e= g-1;d<g;e=d,d+=1)if(0!==d||X.D.Vb&&this.Wc instanceof X.D.Vb)c=this.Wa[b][e],e=this.Wa[b][d],this.Ey(c,e,b),this.Yz(c,e)}}},sg:function(a,b,c){var d=new X.D.bb({position:a,draggable:!0,icon:new X.D.og({size:new v.Ic(11,11),imageOffset:new v.G(0,0),image:this.lb+"/images/dd-via.png"}),offset:new v.G(-6,-6),cursor:"pointer",zIndex:this.Wc.get("zIndex")+1E3});d.ka=!0;d.Cha=a;d.Pu=b;d.Pi=c;d.g("dragging",this.Nj,this);d.g("dragend",function(a){this.zk(a);var b={target:this.Wc};b.lnglat=a.target.getPosition(); a=this.j.lngLatToContainer(b.lnglat);b.pixel=new v.G(a.x,a.y,1);v.event.M(this,"adjust",b)},this);return d},Bz:function(a){var b=a.Pu;a.setMap(null);this.Wa[a.Pi].splice(b,1);this.fp[a.Pi].splice(b,1);this.Gq(this.fp,!0);this.aR(this.Wa[a.Pi]);a.I("dragging",this.Nj,this).I("dragend",this.zk,this).I("click",this.lF,this)},zk:function(){this.Wc.X9=!0;this.Wc.r("edit")},Nj:function(a){a=a.target;a.xc=!0;a.$u&&a.$u.setPosition(this.uE(a.Nr,a));a.Fk&&a.Fk.setPosition(this.uE(a,a.Hr));this.fp[a.Pi][a.Pu]= a.getPosition();this.Gq(this.fp,!0)},lF:function(a){if(a.target.xc||this.fp[a.target.Pi].length<=(this.Wc instanceof X.D.Db?2:3))a.target.xc=!1;else{var b=a.target;this.Bz(b);var c={target:this.Wc};c.lnglat=a.target.getPosition();a=this.j.lngLatToContainer(c.lnglat);c.pixel=new v.G(a.x,a.y,1);v.event.M(this,"removenode",c);this.Yz(b.Nr,b.Hr);b.$u&&b.$u.setMap(null);b.Fk&&b.Fk.setMap(null);b.Nr&&b.Hr?this.Ey(b.Nr,b.Hr,b.Pi):b.Nr?b.Hr||(b.Nr.Fk=null):b.Hr.$u=null;this.zk()}},aR:function(a){for(var b= 0,c=a.length;b<c;b+=1)a[b].Pu=b},Gq:function(a){this.Wc&&(this.Wc instanceof X.D.Db?a=a[0]:1!==a.length||a[0]instanceof v.W||(a=a[0]),this.Wc.setPath(a,!0))},Ey:function(a,b,c){var d=this.uE(a,b),e=this.sg(d),g,h,k;e.setOpacity(0.5);e.Pi=c;a.Fk=b.$u=e;h=function(){var c=b.Pu;e.Pu=c;e.xc=!0;e.I("click",g,this).g("click",this.lF,this);d=e.getPosition();this.fp[e.Pi].splice(c,0,d);this.Gq(this.fp,!0);this.Wa[e.Pi].splice(c,0,e);e.setOpacity(1);this.aR(this.Wa[e.Pi]);this.Yz(a,e);this.Yz(e,b)};k=function(c){e.xc= !1;e.I("dragstart",h,this);e.I("dragend",k,this);if(e.getMap()){var d={target:this.Wc};d.lnglat=c.target.getPosition();c=this.j.lngLatToContainer(d.lnglat);d.pixel=new v.G(c.x,c.y,1);v.event.M(this,"addnode",d);this.Ey(a,e,e.Pi);this.Ey(e,b,e.Pi)}};g=function(a){h.call(this);k.call(this,a);this.zk()};e.g("click",g,this).g("dragstart",h,this).g("dragend",k,this);e.setMap(this.j)},Yz:function(a,b){a&&(a.Hr=b);b&&(b.Nr=a)},uE:function(a,b){var c=this.j,d=c.Qb(a.getPosition()),e=c.Qb(b.getPosition()); return c.jg(d.add(e).mc(2))}});window.AMap.PolyEditor=v.MY; ');_jsload_('AMap.CircleEditor', 'v.uL=v.aa.extend({ga:[v.ja],B:function(a,b,c,d){this.CLASS_NAME="AMap.CircleEditor";v.e.cb(this.CLASS_NAME,d);this.j=a;this.nb=b;this.nb.setOptions({draggable:c||!1});this.lb=v.A.lb;d&&d.HA&&(this.HA=!0)},open:function(){v.e.add(this.CLASS_NAME,"open");this.ad&&this.Cb||this.ap();this.ad&&this.ad.setMap(this.j);if(this.Cb)for(var a=0,b=this.Cb.length;a<b;a+=1)this.Cb[a].setMap(this.j);this.fv=this.nb.getOptions.draggable;this.nb.g("dragstart",this.dP,this);this.nb.g("dragging",this.cP,this);this.nb.g("setCenter", this.Pv,this);this.nb.g("setRadius",this.ax,this)},Pv:function(){var a=this.nb.getCenter(),b=this.ad.getPosition(),b=a.Va(b);this.Cb[0].setPosition(this.Cb[0].getPosition().add(b));this.ad.setPosition(a)},ax:function(){var a=this.nb.getCenter(),b=this.nb.getRadius(),c=b*Math.cos(Math.PI/4);this.Cb[0].setPosition(a.offset(c,c));this.Cb[0].setLabel({content:"\\u534a\\u5f84:"+b+"\\u7c73"})},close:function(){v.e.add(this.CLASS_NAME,"close");this.ad&&(this.ad.setMap(null),delete this.ad);if(this.Cb){for(var a= 0,b=this.Cb.length;a<b;a+=1)this.Cb[a].setMap(null);delete this.Cb}this.nb.setOptions({draggable:this.fv});this.nb.I("dragstart",this.dP,this);this.nb.I("dragging",this.cP,this);this.nb.I("setCenter",this.Pv,this);this.nb.I("setRadius",this.ax,this);this.r("end",{type:"end",target:this.nb})},dP:function(a){this.eM=a.lnglat},cP:function(a){var b=a.lnglat.Va(this.eM);this.eM=a.lnglat;this.ad.setPosition(this.ad.getPosition().add(b));this.Cb[0].setPosition(this.Cb[0].getPosition().add(b))},ap:function(){this.OD(); this.QD()},OD:function(){var a=this.nb.getCenter();this.HA?(this.ad=new X.D.bb({position:a,visible:!1}),this.ad.ka=!0):this.ad=this.sg(a)},QD:function(){var a=this.nb.getCenter(),a=this.Ku(a);this.Cb=[];this.Cb.push(this.sg(a,!0))},Ku:function(a){var b=this.nb.getRadius()*Math.cos(Math.PI/4);return a.offset(b,b)},sg:function(a,b){var c=new X.D.bb({position:a,draggable:!0,icon:new X.D.og({size:new v.Ic(11,11),imageOffset:new v.G(0,0),image:this.lb+"/images/dd-via.png"}),offset:new v.G(-6,-6),zIndex:this.nb.get("zIndex")+ 1E3});c.ka=!0;b&&(c.setLabel({content:"\\u534a\\u5f84:"+this.nb.getRadius()+"\\u7c73",offset:new AMap.Pixel(15,-4)}),c.setTitle("\\u62d6\\u62fd\\u4fee\\u6539\\u534a\\u5f84"));this.qu(c);return c},qu:function(a){a.g("dragstart",this.CP,this).g("dragging",this.Nj,this).g("dragend",this.bn,this)},$Q:function(a){a.I("dragstart",this.CP,this).I("dragging",this.Nj,this).I("dragend",this.bn,this)},CP:function(){},zk:function(){this.nb.X9=!0;this.nb.r("edit")},Nj:function(a){a=a.target;var b=a.getPosition();a===this.ad? this.dF(b):this.ov(b)},bn:function(){this.zk();this.r("dragend",{type:"dragend",target:this.nb})},dF:function(a){if(!this.HA){var b=this.Cb[0].getPosition().add(a.Va(this.nb.getCenter()));this.Cb[0].setPosition(b);this.nb.setCenter(a,!0);this.r("move",{type:"move",lnglat:a,target:this.nb})}},ov:function(a){var b=this.nb.getCenter();a=Math.round(b.distance(a));this.nb.setRadius(a,!0);this.Cb[0].setLabel({content:"\\u534a\\u5f84:"+a+"\\u7c73"});this.r("adjust",{type:"adjust",radius:a,target:this.nb})}}); window.AMap.CircleEditor=v.uL; ');_jsload_('sync', '(function(){if(v.A.cd){var a=function(){var a=v.A.cd.split("."),b=window;do if(b=b[a.shift()],!b)return null;while(a.length);return b||null},b=function(b){var c=a();if(c){if("function"!==typeof c)throw Error(v.A.cd+" is not a function!");c()}else if(b)throw Error("Can not find callback: "+v.A.cd+", try define it before load JsApi!");};document.body&&a()?b():setTimeout(function(){b(!0)},300)}var c=(new Date).getTime(),c=["s=rsv3&product=JsInit&key="+v.A.key,"t="+c];c.push("resolution="+window.innerWidth+ "*"+window.innerHeight);c.push("mob="+(v.l.Y?1:0));c.push("vt="+(v.l.uA?1:0));c.push("dpr="+window.devicePixelRatio);c.push("scale="+v.l.HC||0);c.push("detect="+v.l.ia);c=v.A.gd+"/v3/log/init?"+c.join("&");new v.Na.$a(c,{callback:"callback"})})(); ')